# RiverEdge 重构计划 - 快速参考

## 🎯 核心目标

**平台级优先**：先保证平台级运行起来

---

## 📁 新文件夹结构

```
riveredge/
├── riveredge-frontend/          # 前端
│   ├── air/                      # 平台前端（平台级）
│   │   └── src/
│   │       ├── pages/
│   │       │   ├── tenants/      # 组织管理 ✅
│   │       │   └── packages/     # 套餐管理 ✅
│   │       └── services/
│   │
│   └── tree-stem/                # 租户前端（系统级）
│       └── src/
│           ├── pages/
│           │   ├── dashboard/    # 占位仪表板 ✅
│           │   ├── login/        # 登录 ✅
│           │   └── register/     # 注册 ✅
│           └── components/
│
└── riveredge-backend/            # 后端
    ├── soil/                     # 平台后端（平台级）
    │   └── src/
    │       ├── config/           # 平台级配置 ✅
    │       ├── infrastructure/   # 基础设施 ✅
    │       ├── api/
    │       │   ├── tenants/      # 组织管理 API ✅
    │       │   └── packages/     # 套餐管理 API ✅
    │       └── services/
    │
    └── tree-root/                 # 租户后端（系统级，root）
        └── src/
            ├── context/           # 租户上下文 ✅
            └── api/
                └── dashboard/    # 占位仪表板 API ✅
```

---

## ✅ 保留功能

### 平台级（air/soil）

**前端**：
- ✅ 组织管理（列表、详情）
- ✅ 套餐管理

**后端**：
- ✅ 组织管理 API
- ✅ 套餐管理 API（需要创建）
- ✅ 超管认证 API
- ✅ 平台级配置管理
- ✅ 超管密码单独设置

### 系统级（tree-root/tree-stem）

**前端**：
- ✅ 占位仪表板
- ✅ 登录
- ✅ 注册

**后端**：
- ✅ 占位仪表板 API
- ✅ 认证 API（登录、注册）
- ✅ 租户上下文管理

---

## ❌ 去掉功能（后续添加）

### 平台级（air/soil）

- ❌ 运营看板（统计类）
- ❌ 系统监控（监控类）
- ❌ 插件管理

### 系统级（tree-root/tree-stem）

**前端（tree-stem）**：
- ❌ 用户管理
- ❌ 角色管理
- ❌ 权限管理

**后端（tree-root）**：
- ❌ 用户管理 API
- ❌ 角色管理 API
- ❌ 权限管理 API

---

## 🚀 实施步骤

1. **创建新目录结构** → 1-2 小时
2. **迁移平台级后端** → 2-3 天
3. **迁移平台级前端** → 1-2 天
4. **迁移系统级后端** → 1-2 天
5. **迁移系统级前端** → 1-2 天
6. **去掉不需要的功能** → 0.5 天
7. **更新引用和配置** → 1-2 天
8. **测试和验证** → 1-2 天

**总预计时间**：7-12 天

---

## 📝 详细文档

详细的重构计划请参考：[重构计划-平台级优先.md](./重构计划-平台级优先.md)

