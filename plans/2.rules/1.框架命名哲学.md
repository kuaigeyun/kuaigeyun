# RiverEdge SaaS 多组织框架 - 命名规范与哲学

## 🌿 命名哲学

**RiverEdge SaaS 多组织框架 (RiverEdge SaaS Multi-tenant Framework)** 采用**自然/植物生态**的命名哲学，将系统架构比作一个完整的生态系统。

## 🏗️ 架构层级体系

根据系统架构图，框架采用**根目录组织架构**：

```
根目录 (Root Directory)
│
├── 🌐 前端 (riveredge-frontend)
│   ├── air (平台前端) - 平台级前端基础设施
│   └── tree (租户前端) - 系统级前端框架 (stem)
│
├── 🔧 后端 (riveredge-backend)
│   ├── soil (平台后端) - 平台级后端基础设施
│   ├── tree (租户后端) - 系统级后端 API (root)
│   └── vascular (智能体) - AI 神经中枢
│
├── 📱 移动端 (riveredge-mobile)
│   └── leaf (移动端) - 移动端应用
│
└── 🌱 应用插件 (riveredge-apps)
    ├── seed (功能组织)
    │   ├── core (应用后端核心)
    │   └── shell (应用前端界面)
    └── cell (功能原子化)
        ├── nucleus (核心功能)
        └── cell-wall (功能边界)
```

## 📦 模块命名说明

### 🌐 前端 (riveredge-frontend)

**命名含义**：
- **Frontend** = 前端
- 包含平台级和系统级前端功能

**架构层级**：

#### air (平台前端) - 平台级
- **Air** = 空气/大气
- 如同植物生长所需的空气，是前端的基础环境
- 提供平台级前端基础设施和通用组件
- 为所有前端应用提供基础支撑

**职责**：
- 平台级前端组件库
- 平台级前端工具函数
- 平台级前端配置
- 平台级前端服务

#### tree (租户前端) - 系统级 (stem)
- **Tree** = 树
- **Stem** = 茎（对应关系：tree → stem）
- 如同植物的茎（stem），连接根和叶子，承载和传输
- 每个租户是一棵树，租户前端是树的茎干
- 提供系统级前端框架和功能

**职责**：
- 系统级前端框架（stem）
- 插件加载器（stem）
- 路由管理（stem）
- 状态管理（stem）
- 租户上下文管理（stem）

**关系**：
- `tree` (stem) → `air` (平台前端)
- 租户前端依赖平台前端的基础设施

---

### 🔧 后端 (riveredge-backend)

**命名含义**：
- **Backend** = 后端
- 包含平台级、系统级和智能体功能

**架构层级**：

#### soil (平台后端) - 平台级
- **Soil** = 土壤
- 如同植物生长的土壤，是后端的基础环境
- 提供平台级后端基础设施和服务
- 为所有后端应用提供基础支撑

**职责**：
- 平台级配置管理（单独管理）
- 超管密码配置（单独设置）
- 数据库基础设施
- 缓存基础设施
- 日志基础设施
- 监控基础设施
- 统一响应格式
- 异常处理

#### tree (租户后端) - 系统级 (root)
- **Tree** = 树
- **Root** = 根（对应关系：tree → root）
- 如同植物的根（root），提供基础支撑和养分
- 每个租户是一棵树，租户后端是树的根系
- 提供系统级后端 API 和核心功能

**职责**：
- 租户上下文管理（核心隔离机制）
- 认证授权（租户隔离）
- 用户管理（租户隔离）
- 角色权限（租户隔离）
- 组织管理（租户管理）
- 超级管理员监控（跨租户）

**关系**：
- `tree` (root) → `soil` (平台后端)
- 租户后端依赖平台后端的基础设施

#### vascular (智能体) - AI 神经中枢
- **Vascular** = 维管
- 如同植物的维管系统，是智能决策和协调的神经中枢
- 提供 AI 智能体功能和服务

**职责**：
- 智能体定义和管理
- AI 模型管理
- 智能决策和协调
- AI 服务接口

---

### 📱 移动端 (riveredge-mobile)

**命名含义**：
- **Mobile** = 移动端
- 轻量、灵活、可移动的应用

**架构层级**：

#### leaf (移动端) - 扩展层级
- **Leaf** = 叶子
- 如同植物的叶子，轻量、灵活、可移动
- 叶子是植物与外界交互的界面，移动端是系统与用户移动交互的界面

**职责**：
- 移动端应用
- 生产现场数据录入
- 移动端工单查看
- 设备巡检应用

---

### 🌱 应用插件 (riveredge-apps)

**命名含义**：
- **Apps** = 应用插件
- 包含功能组织和功能原子化两个维度

**架构层级**：

#### seed (功能组织) - 应用级

**命名含义**：
- **Seed** = 种子
- 如同植物的种子，可以生长成不同的功能模块
- 每个 seed 都是独立的、可生长的应用

**子模块**：

##### core (应用后端核心)
- **Core** = 核心
- 应用级后端核心，业务逻辑处理
- 提供插件系统和业务逻辑

**职责**：
- 插件系统（loader、registry、manager）
- 保存的搜索条件
- 业务逻辑处理

##### shell (应用前端界面)
- **Shell** = 壳
- 应用级前端界面，用户交互界面
- 提供 UI 组件库和用户交互

**职责**：
- 应用级前端组件
- 应用级前端页面
- 用户交互界面

#### cell (功能原子化) - 扩展层级

**命名含义**：
- **Cell** = 细胞
- 如同植物的细胞，功能原子化，可组合和复用
- 提供最小粒度的功能单元

**子模块**：

##### nucleus (核心功能)
- **Nucleus** = 细胞核
- 核心功能，原子化组件和服务

**职责**：
- 原子化组件
- 原子化服务
- 可组合和复用的功能单元

##### cell-wall (功能边界)
- **Cell-wall** = 细胞壁
- 功能边界，接口定义和验证

**职责**：
- 接口定义
- 验证器
- 功能边界管理

---

## 🎯 架构关系图

### 完整生态关系图

```
                    ┌─────────────┐
                    │    soil     │  ← 平台级：土壤（平台后端基础设施）
                    │  (平台级)    │
                    └──────┬──────┘
                           │
                    ┌──────▼──────┐
                    │    root     │  ← 系统级：根（租户后端 tree）
                    │  (系统级)   │
                    └──────┬──────┘
                           │
                    ┌──────▼──────┐
                    │    air      │  ← 平台级：空气（平台前端基础设施）
                    │  (平台级)    │
                    └──────┬──────┘
                           │
                    ┌──────▼──────┐
                    │    stem     │  ← 系统级：茎（租户前端 tree）
                    │  (系统级)   │
                    └──────┬──────┘
                           │
        ┌──────────────────┼──────────────────┐
        │                  │                  │
   ┌────▼────┐      ┌──────▼──────┐     ┌─────▼─────┐
   │  core   │      │    shell    │     │   seed   │
   │ (应用级) │      │  (应用级)   │     │ (应用级)  │
   │应用后端  │      │ 应用前端     │     │功能组织   │
   └─────────┘      └─────────────┘     └──────────┘
                           │
        ┌──────────────────┼──────────────────┐
        │                  │                  │
   ┌────▼────┐      ┌──────▼──────┐     ┌─────▼─────┐
   │ nucleus │      │  cell-wall  │     │   leaf   │
   │ (扩展)  │      │  (扩展)     │     │ (扩展)    │
   │核心功能  │      │ 功能边界     │     │移动端应用 │
   └─────────┘      └─────────────┘     └──────────┘
                           │
                    ┌──────▼──────┐
                    │  vascular   │  ← 扩展：维管（AI神经中枢）
                    │  (扩展)     │
                    └─────────────┘
```

### 层级关系说明

**根目录组织架构**：

1. **前端 (riveredge-frontend)**：
   - **air (平台前端)**：平台级前端基础设施
   - **tree (租户前端，stem)**：系统级前端框架
   - 关系：`tree` (stem) → `air` (平台前端)

2. **后端 (riveredge-backend)**：
   - **soil (平台后端)**：平台级后端基础设施
   - **tree (租户后端，root)**：系统级后端 API
   - **vascular (智能体)**：AI 神经中枢
   - 关系：`tree` (root) → `soil` (平台后端)

3. **移动端 (riveredge-mobile)**：
   - **leaf (移动端)**：移动端应用

4. **应用插件 (riveredge-apps)**：
   - **seed (功能组织)**：
     - **core (应用后端核心)**：应用级后端核心
     - **shell (应用前端界面)**：应用级前端界面
   - **cell (功能原子化)**：
     - **nucleus (核心功能)**：原子化核心功能
     - **cell-wall (功能边界)**：功能边界管理

---

## 📊 模块命名映射表

### 根目录结构

```
riveredge/
├── riveredge-frontend/     # 前端
│   ├── air/                # 平台前端（平台级）
│   └── tree/               # 租户前端（系统级，stem）
│
├── riveredge-backend/      # 后端
│   ├── soil/               # 平台后端（平台级）
│   ├── tree/               # 租户后端（系统级，root）
│   └── vascular/           # 智能体（AI 神经中枢）
│
├── riveredge-mobile/       # 移动端
│   └── leaf/               # 移动端（扩展层级）
│
└── riveredge-apps/         # 应用插件
    ├── seed/               # 功能组织（应用级）
    │   ├── core/           # 应用后端核心
    │   └── shell/          # 应用前端界面
    └── cell/               # 功能原子化（扩展层级）
        ├── nucleus/        # 核心功能
        └── cell-wall/      # 功能边界
```

### 模块命名与架构层级对应

| 模块名称 | 架构层级 | 对应概念 | 职责说明 |
|---------|---------|---------|---------|
| `riveredge-frontend/air` | 平台级 | air | 平台前端基础设施 |
| `riveredge-frontend/tree` | 系统级 | stem | 租户前端框架 |
| `riveredge-backend/soil` | 平台级 | soil | 平台后端基础设施 |
| `riveredge-backend/tree` | 系统级 | root | 租户后端 API |
| `riveredge-backend/vascular` | 扩展层级 | vascular | AI 智能体 |
| `riveredge-mobile/leaf` | 扩展层级 | leaf | 移动端应用 |
| `riveredge-apps/seed/core` | 应用级 | core | 应用后端核心 |
| `riveredge-apps/seed/shell` | 应用级 | shell | 应用前端界面 |
| `riveredge-apps/cell/nucleus` | 扩展层级 | nucleus | 原子化核心功能 |
| `riveredge-apps/cell/cell-wall` | 扩展层级 | cell-wall | 功能边界 |

### 数据库命名与架构层级对应

| 数据库前缀 | 架构层级 | 对应概念 | 使用场景 |
|-----------|---------|---------|---------|
| `soil_` | 平台级 | soil | 平台级配置表 |
| `root_` | 系统级 | root | 系统级后端表（用户、角色、权限等） |
| `tree_` | 系统级 | tree | 租户管理表 |
| `core_` | 应用级 | core | 应用级后端表 |
| `seed_插件名_` | 应用级 | seed | 应用插件表（MES、ERP、CRM 等） |
| `cell_` | 扩展层级 | cell | 原子化功能表 |

**说明**：
- `root_` 前缀对应系统级后端（租户后端 tree）
- `tree_` 前缀对应租户管理（系统级）
- `core_` 前缀对应应用级后端（seed/core）
- `seed_插件名_` 前缀对应应用插件（seed）
- `cell_` 前缀对应原子化功能（cell）

---

## 🔗 架构关系说明

### 依赖关系

1. **前端依赖关系**：
   - `tree` (stem) → `air` (平台前端)
   - 租户前端依赖平台前端的基础设施

2. **后端依赖关系**：
   - `tree` (root) → `soil` (平台后端)
   - 租户后端依赖平台后端的基础设施

3. **应用级依赖关系**：
   - `seed/core` → `tree` (root) → `soil`
   - `seed/shell` → `tree` (stem) → `air`
   - 应用级功能依赖系统级和平台级功能

### 层级关系

1. **平台级**：提供基础设施和服务
   - `air` (平台前端)
   - `soil` (平台后端)

2. **系统级**：提供核心功能和框架
   - `tree` (租户前端，stem)
   - `tree` (租户后端，root)

3. **应用级**：提供业务功能和应用
   - `seed/core` (应用后端核心)
   - `seed/shell` (应用前端界面)

4. **扩展层级**：提供扩展功能
   - `leaf` (移动端)
   - `vascular` (智能体)
   - `cell/nucleus` (核心功能)
   - `cell/cell-wall` (功能边界)

---

## ✅ 命名特点

1. **统一前缀**：所有模块使用 `riveredge-` 前缀
2. **生态主题**：所有命名都围绕自然/植物生态
3. **层级清晰**：根目录组织架构，层级分明
4. **关系明确**：依赖关系和层级关系清晰
5. **内涵丰富**：每个命名都有深刻的生态含义

---

## 📝 命名规范总结

### 已确定的命名

- ✅ **riveredge-frontend/air**: 平台前端（平台级）
- ✅ **riveredge-frontend/tree**: 租户前端（系统级，stem）
- ✅ **riveredge-backend/soil**: 平台后端（平台级）
- ✅ **riveredge-backend/tree**: 租户后端（系统级，root）
- ✅ **riveredge-backend/vascular**: 智能体（AI 神经中枢）
- ✅ **riveredge-mobile/leaf**: 移动端应用
- ✅ **riveredge-apps/seed/core**: 应用后端核心
- ✅ **riveredge-apps/seed/shell**: 应用前端界面
- ✅ **riveredge-apps/cell/nucleus**: 原子化核心功能
- ✅ **riveredge-apps/cell/cell-wall**: 功能边界

### 命名优势

1. **哲学一致性**：所有命名都遵循自然/植物生态的哲学
2. **内涵丰富**：每个命名都有深刻的生态含义
3. **易于理解**：命名直观，易于记忆和理解
4. **扩展性强**：未来可以继续使用生态相关的命名
5. **层级清晰**：根目录组织架构，层级分明

---

**最后更新**：2025-11-29
**状态**：根据新架构图完全重写
