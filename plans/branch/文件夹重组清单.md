# 文件夹重组清单

## 📋 执行概述

根据新的命名哲学，重组文件夹结构。

**执行日期**：2025-11-27

---

## 🎯 重组方案

### 方案选择：简化方案（推荐）✅

考虑到代码的复杂性和依赖关系，采用**简化方案**：
- 重命名文件夹，不拆分代码
- 保持现有代码结构
- 通过文档说明架构层级

**重命名映射**：
- `riveredge-core` → `riveredge-root`（系统级后端）
- `riveredge-shell` → `riveredge-stem`（系统级前端）
- `riveredge-seed` → 保持不变（已重命名）

---

## 📦 文件迁移清单

### 1. riveredge-core → riveredge-root

#### 需要迁移的文件/目录

**根目录文件**：
- [ ] `README.md`
- [ ] `requirements.txt`
- [ ] `requirements.lock`
- [ ] `pyproject.toml`
- [ ] `start-backend.sh`

**目录**：
- [ ] `src/` - 整个源代码目录
- [ ] `scripts/` - 脚本目录
- [ ] `migrations/` - 数据库迁移目录
- [ ] `tests/` - 测试目录

#### 需要更新的引用

**内部引用**（无需修改，相对路径不变）：
- ✅ `from models.xxx` - 无需修改
- ✅ `from services.xxx` - 无需修改
- ✅ `from schemas.xxx` - 无需修改
- ✅ `from core.xxx` - 无需修改
- ✅ `from app.xxx` - 无需修改

**外部引用**（需要更新）：
- [ ] `README.md` 中的项目名称
- [ ] `pyproject.toml` 中的项目名称
- [ ] `start-all.sh` 中的路径引用
- [ ] `scripts/` 中的路径引用（如果有）
- [ ] 文档中的引用

---

### 2. riveredge-shell → riveredge-stem

#### 需要迁移的文件/目录

**根目录文件**：
- [ ] `README.md`
- [ ] `package.json`
- [ ] `package-lock.json`
- [ ] `tsconfig.json`
- [ ] `tsconfig.node.json`
- [ ] `vite.config.ts`
- [ ] `index.html`
- [ ] `start-frontend.sh`

**目录**：
- [ ] `src/` - 整个源代码目录
- [ ] `public/` - 静态资源目录
- [ ] `docs/` - 文档目录
- [ ] `scripts/` - 脚本目录（如果有）

#### 需要更新的引用

**内部引用**（无需修改，相对路径不变）：
- ✅ `import ... from './xxx'` - 无需修改
- ✅ `import ... from '../xxx'` - 无需修改

**外部引用**（需要更新）：
- [ ] `package.json` 中的项目名称
- [ ] `README.md` 中的项目名称
- [ ] `start-all.sh` 中的路径引用
- [ ] 文档中的引用

---

## 🔧 需要更新的文件

### 根目录文件

- [ ] `README.md` - 更新模块名称
- [ ] `start-all.sh` - 更新路径引用
- [ ] `.gitignore` - 检查是否需要更新（通常不需要）

### 文档文件

- [ ] `Farming Plan/2.rules/5.项目结构规范.md` - 更新目录结构
- [ ] `Farming Plan/1.plan/2.架构设计文档.md` - 更新模块命名
- [ ] `Farming Plan/2.rules/1.框架命名哲学.md` - 更新模块命名
- [ ] 其他相关文档

---

## 📝 执行步骤

### 步骤 1：创建备份

- [x] ✅ 已创建备份分支 `backup/before-rename-20251127_081835`

### 步骤 2：重命名 riveredge-core → riveredge-root

1. [ ] 重命名文件夹：`mv riveredge-core riveredge-root`
2. [ ] 更新 `riveredge-root/README.md` 中的项目名称
3. [ ] 更新 `riveredge-root/pyproject.toml` 中的项目名称
4. [ ] 更新根目录 `README.md` 中的引用
5. [ ] 更新 `start-all.sh` 中的路径引用

### 步骤 3：重命名 riveredge-shell → riveredge-stem

1. [ ] 重命名文件夹：`mv riveredge-shell riveredge-stem`
2. [ ] 更新 `riveredge-stem/README.md` 中的项目名称
3. [ ] 更新 `riveredge-stem/package.json` 中的项目名称
4. [ ] 更新根目录 `README.md` 中的引用
5. [ ] 更新 `start-all.sh` 中的路径引用

### 步骤 4：更新文档

1. [ ] 更新项目结构规范文档
2. [ ] 更新架构设计文档
3. [ ] 更新框架命名哲学文档
4. [ ] 更新其他相关文档

### 步骤 5：测试验证

1. [ ] 测试后端启动
2. [ ] 测试前端启动
3. [ ] 测试 API 接口
4. [ ] 测试前端功能

---

## ⚠️ 注意事项

1. **Git 操作**：
   - 使用 `git mv` 重命名文件夹（保留历史）
   - 或者先 `mv` 再 `git add`（Git 会自动识别重命名）

2. **路径引用**：
   - 检查所有脚本文件中的路径引用
   - 检查配置文件中的路径引用
   - 检查文档中的路径引用

3. **依赖关系**：
   - 检查是否有外部项目依赖这些模块
   - 更新 CI/CD 配置（如果有）

---

## ✅ 验证清单

- [ ] 文件夹重命名完成
- [ ] 所有路径引用已更新
- [ ] 文档已更新
- [ ] 后端可以正常启动
- [ ] 前端可以正常启动
- [ ] API 接口正常工作
- [ ] 前端功能正常
- [ ] Git 提交完成

---

**最后更新**：2025-11-27

