# 命名哲学更新 - 基于系统架构图

## 📋 更新概述

根据系统架构图，更新 **RiverEdge SaaS 多组织框架** 的命名哲学，整合架构图中的层级概念和生态关系。

**更新日期**：2025-01-XX

---

## 🏗️ 架构层级分析

根据架构图，系统分为三个层级：

### 1. 平台级 (Platform Level) - soil (土壤)

**命名含义**：
- **Soil** = 土壤
- 如同植物的生长土壤，是整个生态系统的基础平台
- 提供平台级的基础设施和服务

**职责**：
- 平台级租户管理
- 基础设施服务
- 平台级配置和监控

**对应模块**：
- 可能对应 `riveredge-core` 的平台级功能
- 或作为独立的平台服务层

---

### 2. 系统级 (System Level)

#### 2.1 root (根) - 后端 API

**命名含义**：
- **Root** = 根
- 如同植物的根系，提供基础支撑和养分
- 是系统的后端 API 层，提供核心服务

**职责**：
- 后端 API 服务
- 数据持久化
- 认证授权
- 核心业务逻辑

**对应模块**：
- 对应 `riveredge-core` 的后端部分

#### 2.2 stem (茎) - 前端功能支干

**命名含义**：
- **Stem** = 茎
- 如同植物的茎，连接根和叶子，支撑和传输
- 是前端功能支干，承载和传输功能模块

**职责**：
- 前端基础框架
- 插件加载器
- 路由管理
- 状态管理

**对应模块**：
- 对应 `riveredge-shell` 的前端部分

#### 2.3 tree (树) - 每个租户单独管理

**命名含义**：
- **Tree** = 树
- 如同独立的树木，每个租户都是一棵独立的树
- 每个租户有自己独立的系统实例和管理

**职责**：
- 租户独立管理
- 租户数据隔离
- 租户配置管理
- 租户功能定制

**对应模块**：
- 对应多租户系统的租户管理功能
- 在 `riveredge-core` 中实现

---

### 3. 应用级 (Application Level)

#### 3.1 core (核心) - 应用后端

**命名含义**：
- **Core** = 核心
- 如同植物的核心，是应用的后端核心
- 提供应用级的后端服务

**职责**：
- 应用后端服务
- 业务逻辑处理
- 数据模型定义

**对应模块**：
- 对应 `riveredge-core` 的应用后端部分

#### 3.2 shell (壳) - 应用前端

**命名含义**：
- **Shell** = 壳
- 如同植物的外壳，保护和支持内部结构
- 是应用的前端框架，承载和运行应用

**职责**：
- 应用前端框架
- UI 组件库
- 用户交互界面

**对应模块**：
- 对应 `riveredge-shell` 的应用前端部分

#### 3.3 seed (种子) - 插件式应用

**命名含义**：
- **Seed** = 种子
- 如同植物的种子，可以生长成不同的功能模块
- 每个 seed 都是独立的、可生长的应用插件

**职责**：
- 独立的业务应用模块
- 以插件形式加载
- 包含前后端代码
- 可独立开发和部署

**对应模块**：
- 对应 `riveredge-seeds` 中的应用插件

---

## 🌿 其他生态概念

### cell (细胞) - 功能原子化

**命名含义**：
- **Cell** = 细胞
- 如同植物的细胞，是最小的功能单元
- 功能原子化，可组合和复用

**职责**：
- 原子化功能组件
- 可复用的功能单元
- 功能组合和编排

**对应模块**：
- 可能对应功能组件库或原子化功能模块

---

### leaf (叶子) - 移动端应用

**命名含义**：
- **Leaf** = 叶子
- 如同植物的叶子，轻量、灵活、可移动
- 叶子是植物与外界交互的界面，移动端是系统与用户移动交互的界面

**职责**：
- 移动端应用
- 生产现场数据录入
- 移动端工单查看
- 设备巡检应用

**对应模块**：
- 对应 `riveredge-leaf`

---

### forest (森林) - 租户间链接、产品交易市场

**命名含义**：
- **Forest** = 森林
- 如同森林由多棵树组成，多个租户组成生态系统
- 租户间的链接和协作，形成产品交易市场

**职责**：
- 租户间链接
- 产品交易市场
- 跨租户协作
- 生态服务

**对应模块**：
- 未来扩展功能，可能对应 `riveredge-forest`

---

### vascular (维管) - AI 神经中枢

**命名含义**：
- **Vascular** = 维管
- 如同植物的维管系统，传输养分和信息
- AI 神经中枢，智能决策和协调

**职责**：
- AI 智能决策
- 系统协调和优化
- 智能分析和预测
- 神经中枢服务

**对应模块**：
- 未来扩展功能，可能对应 `riveredge-vascular`

---

### land (土地) - 着陆页/官网

**命名含义**：
- **Land** = 土地/着陆
- 如同植物的生长土壤，是展示和生长的平台
- 是用户"着陆"的第一站，也是系统对外展示的窗口

**职责**：
- SaaS 软件介绍主页
- 客户简易官网首页
- 产品展示和营销页面
- 系统对外展示窗口

**对应模块**：
- 对应 `riveredge-land`

---

## 🎯 命名哲学整合方案

### 方案一：保持当前命名，补充架构层级说明（推荐）✅

**优势**：
- ✅ 无需重命名，工作量最小
- ✅ 保持现有代码和文档的一致性
- ✅ 通过文档说明架构层级关系

**实现方式**：
- 保持 `riveredge-core`、`riveredge-shell`、`riveredge-seeds` 等命名
- 在文档中说明架构层级对应关系：
  - `riveredge-core` = root (系统级后端) + core (应用级后端)
  - `riveredge-shell` = stem (系统级前端) + shell (应用级前端)
  - `riveredge-seeds` = seed (应用级插件)
  - `riveredge-land` = land (着陆页)
  - `riveredge-leaf` = leaf (移动端)

**工作量**：⭐ (1/5) - 仅需更新文档

---

### 方案二：完全对齐架构图，重命名所有模块

**重命名映射**：
- `riveredge-core` → `riveredge-root` (系统级后端) + `riveredge-core` (应用级后端)
- `riveredge-shell` → `riveredge-stem` (系统级前端) + `riveredge-shell` (应用级前端)
- `riveredge-seeds` → `riveredge-seed` (应用级插件，单数形式)
- `riveredge-land` → 保持不变
- `riveredge-leaf` → 保持不变

**工作量评估**：

#### 文件夹重命名工作量

**需要重命名的文件夹**：
1. `riveredge-core` → 需要拆分为 `riveredge-root` 和 `riveredge-core`，或保持 `riveredge-core` 但明确层级
2. `riveredge-shell` → 需要拆分为 `riveredge-stem` 和 `riveredge-shell`，或保持 `riveredge-shell` 但明确层级
3. `riveredge-seeds` → `riveredge-seed` (单数形式)

**影响范围**：
- Git 仓库名称
- 所有文档引用
- 配置文件引用
- 脚本文件引用
- 依赖关系配置

**工作量**：⭐⭐⭐⭐ (4/5) - 需要大量查找替换和测试

---

### 方案三：混合方案 - 保持核心命名，新增层级概念

**实现方式**：
- 保持 `riveredge-core`、`riveredge-shell`、`riveredge-seeds` 等核心命名
- 在代码和文档中使用层级概念（root、stem、tree、cell 等）作为内部架构说明
- 数据库表名可以引入层级概念（如 `root_`、`stem_` 前缀）

**工作量**：⭐⭐ (2/5) - 需要更新文档和部分代码注释

---

## 📊 数据库命名评估

### 当前数据库命名

**核心系统表**（使用 `core_` 前缀）：
- `core_users`
- `core_roles`
- `core_permissions`
- `core_tenants`
- `core_tenant_configs`
- `core_tenant_activity_logs`

**应用插件表**（使用 `seed_插件名_` 前缀）：
- `seed_mes_orders`
- `seed_mes_order_items`
- 等

### 重命名方案评估

#### 方案 A：保持 `core_` 前缀（推荐）✅

**理由**：
- ✅ 当前命名已符合架构哲学（core = 核心/根）
- ✅ 代码中已有 136 处使用 `core_` 前缀
- ✅ 迁移文件已使用 `core_` 前缀
- ✅ 无需修改数据库结构

**工作量**：⭐ (1/5) - 无需修改

---

#### 方案 B：引入层级前缀（root_、stem_、tree_）

**映射关系**：
- `core_` → `root_` (系统级后端表)
- 新增 `stem_` (系统级前端配置表)
- 新增 `tree_` (租户管理表)

**需要修改**：
- 所有模型定义（6 个模型文件）
- 所有迁移文件（7 个迁移文件）
- 所有 SQL 查询（136 处引用）
- 数据库表结构（需要数据迁移）

**工作量**：⭐⭐⭐⭐⭐ (5/5) - 工作量巨大，风险高

**风险**：
- ❌ 需要数据迁移脚本
- ❌ 可能影响生产环境
- ❌ 需要大量测试验证
- ❌ 可能破坏现有功能

---

#### 方案 C：混合方案 - 保持 `core_`，新增层级说明

**实现方式**：
- 保持 `core_` 前缀不变
- 在文档和注释中说明：
  - `core_` = root (系统级后端) + core (应用级后端)
  - 未来新表可以使用 `root_` 前缀（系统级）和 `core_` 前缀（应用级）

**工作量**：⭐ (1/5) - 仅需更新文档

---

## 🎯 推荐方案

### 推荐：方案一 + 方案 C（保持命名，补充说明）✅

**理由**：
1. **工作量最小**：无需修改代码和数据库
2. **风险最低**：不破坏现有功能
3. **兼容性好**：保持现有命名的一致性
4. **扩展性强**：未来可以引入新的层级概念

**实施步骤**：
1. ✅ 更新命名哲学文档，整合架构图概念
2. ✅ 在文档中说明层级对应关系
3. ✅ 保持现有文件夹和数据库命名
4. ✅ 未来新功能可以使用新的层级概念

---

## 📝 工作量总结

### 文件夹重命名工作量

| 方案 | 工作量 | 风险 | 推荐度 |
|------|--------|------|--------|
| **方案一：保持命名** | ⭐ (1/5) | 无 | ⭐⭐⭐⭐⭐ |
| **方案二：完全重命名** | ⭐⭐⭐⭐⭐ (5/5) | 高 | ⭐ |
| **方案三：混合方案** | ⭐⭐ (2/5) | 低 | ⭐⭐⭐ |

### 数据库重命名工作量

| 方案 | 工作量 | 风险 | 推荐度 |
|------|--------|------|--------|
| **方案 A：保持 core_** | ⭐ (1/5) | 无 | ⭐⭐⭐⭐⭐ |
| **方案 B：引入层级前缀** | ⭐⭐⭐⭐⭐ (5/5) | 极高 | ❌ |
| **方案 C：混合方案** | ⭐ (1/5) | 无 | ⭐⭐⭐⭐ |

### 总体评估

**推荐方案**：保持现有命名，通过文档整合架构概念

**工作量**：⭐ (1/5) - 仅需更新文档

**风险**：无 - 不修改代码和数据库

**收益**：
- ✅ 保持代码和数据库的一致性
- ✅ 通过文档清晰说明架构层级
- ✅ 未来可以灵活扩展新的层级概念

---

**最后更新**：2025-01-XX

