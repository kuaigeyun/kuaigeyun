# 快格轻制造

面向中小制造企业的轻量级 MES，基于 RiverEdge SaaS 多租户平台。统一业务流程主线，支持 MTS/MTO，按需选择即可运转。

---

## 产品简介

**核心定位**

- 轻量起步：专注生产执行核心环节，小企业可极简运行
- 灵活扩展：按需开启销售、采购、质量、财务等模块
- 需求驱动：销售预测与销售订单统一为「需求」，一套流程覆盖多种业务
- 面向中国：针对一人多岗、数据录入量大、快速上手等痛点优化

**典型用户**：10–200 人离散制造企业，多品种小批量、按单或按库生产，需工单、报工、领料、入库等核心能力，希望用轻量系统替代 Excel 和纸质单据。

---

## 技术栈

| 层级 | 技术 |
|------|------|
| 前端 | React 18 + TypeScript + Vite、Ant Design Pro |
| 后端 | FastAPI、Tortoise ORM + PostgreSQL |
| 架构 | 多租户 SaaS、插件化应用 |

---

## 已上线模块

| 模块 | 功能概览 | 说明 |
|------|----------|------|
| 销售管理 | 报价单、试样打样、销售预测、销售订单、发货通知 | 需求到出货闭环，支持 MTS/MTO |
| 计划管理 | 需求管理、需求计算、生产计划、排程管理、计算配置、计算历史 | 统一处理预测与订单，自动生成工单与采购建议 |
| 采购管理 | 采购申请、采购订单、到货通知 | 支持采购申请与直采 |
| 生产执行 | 工单、报工、工位机触屏、返工单、委外、异常管理（缺料/交期/质量） | 工单全生命周期 |
| 质量管理 | 来料/过程/成品检验、检验计划、质量追溯 | 贯穿来料、过程、成品 |
| 设备/工装 | 设备、模具、工装、故障、保养计划、保养提醒、设备状态 | 设备与工装全生命周期 |
| 仓储管理 | 入库/出库、线边仓、倒冲记录、库存、补货建议、盘点、调拨、组装/拆解、客户来料登记、条码映射、批次库存 | 线边仓与报工自动倒冲 |
| 分析中心 | 单据时效、单据效率、成本核算/对比/规则/明细/优化/报表、全追溯、经营看板 | 效率分析与成本管理 |
| 财务管理 | 应收、应付、发票、收款、付款、发票库 | 与业务单据联动 |
| 绩效管理 | 节假日、技能、员工配置、计件/工时单价、KPI 定义、绩效汇总 | 计件与工时绩效核算 |

基础数据：工厂建模（厂区、车间、产线、工位）、物料主数据、BOM、工艺路线、客户、供应商等。

---

## 业务流程

**统一主线**：需求来源（销售预测或销售订单）→ 需求计算 → 工单/采购 → 生产执行 → 入库/出库。系统按需求来源与关联关系自动区分 MTS/MTO。

**销售订单与需求**：销售订单（SalesOrder）为销售主实体；统一需求（Demand）为计划层视图，用于需求计算与工单生成。数据流：销售订单 → 下推生成 Demand → 需求计算 → 工单/采购。

**计划四模块**：需求管理（录入与生命周期）→ 需求计算（BOM 展开、库存扣减、净需求）→ 生产计划（人工调整、转工单）→ 排程管理（工单级排产）。工单可直连需求计算或经生产计划；采购可直采或经采购申请。

**典型流程**：MTO：销售订单 → 需求计算 → 工单/采购 → 生产 → 入库 → 出库；MTS：销售预测 → 同上；线边仓：报工触发 BOM 倒冲，从线边仓自动扣料。

---

## 产品优势

**差异化**

| 对比项 | 传统方案 | 快格轻制造 |
|--------|----------|------------|
| 需求驱动 | MTS/MTO 多需两套配置 | 预测与订单统一为「需求」，一套流程、一套计算引擎 |
| 起步方式 | 大而全、实施周期长 | 极简模式 1–2 周跑通核心，模块按需开启，插件化扩展 |

**功能设计**

- 统一需求计算引擎：MRP/LRP 合并，按需求类型自动选择计算模式，支持多需求合并
- 双路径可配置：工单直连或经生产计划，采购直采或经采购申请
- 线边仓 + 报工倒冲：报工触发 BOM 倒冲，从线边仓自动扣料
- 全链路文档追溯：需求→计算→工单→入库→出库，支持向上/向下追溯、变更影响分析

**交互设计**

- 列表 + Modal 编辑 + Drawer 详情：新建/编辑用 Modal，详情用 Drawer，不离开列表
- 工位机触屏：大按钮、大字体、全屏，扫码报工、数字键盘录入
- 批量与一键：批量导入/删除/审核、一键生成工单与采购单、一键下推
- 生命周期可视化：UniLifecycle 全节点展示单据状态流转

**痛点解决**

| 痛点 | 方案 |
|------|------|
| 系统太重、上线周期长 | 轻量设计，极简模式 |
| 一人多岗、操作繁琐 | 减少步骤、智能默认、一键操作、批量处理 |
| 数据录入量大 | 批量导入、智能填充、报工自动倒冲 |
| 业务模式多变（MTS/MTO） | 统一主线、需求驱动、自动区分 |
| 流程不一致 | 流程开关配置，支持经/不经采购申请等 |

---

## 当前进展

**已完成**：销售（报价、试样、预测、订单、发货及报表）、计划（需求、计算、生产计划、排程、配置、历史及报表）、采购、生产执行、生产报表、质量、设备、仓储、分析中心、财务、绩效、系统与配置（初始化向导、极简/全流程切换、流程开关、模块开关、自定义字段）、报表与设计（kuaireport、打印模板设计器）、二维码与审批、甘特图排产、质量分析。

**后续增强**：行业模板、智能默认值；有限能力排程、更精细产能约束；第三方系统集成、企业上下游协同；多级审批配置、流程可视化编排；拖拉拽报表设计器、更多预制报表。

---

## 快速开始

**环境**：Node.js 18+、Python 3.11+、PostgreSQL 15+、Redis 6+

```bash
git clone <repository-url>
cd riveredge
./Launch.dev.sh
```

环境配置、数据库迁移、前后端启动说明见项目文档。

---

## 联系方式

- 官网：https://kuaigeyun.com
- 文档：`docs/` 目录（含 [项目规范](docs/CONVENTIONS.md)）
- 反馈：项目 Issue 或内部渠道

---

## 许可证

见 [LICENSE](LICENSE) 文件。
