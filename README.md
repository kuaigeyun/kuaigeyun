# 快格轻制造产品说明

> **为中小企业量身打造的轻量级制造执行系统**  
> 专注生产执行核心流程，快速上线、灵活配置、持续演进

---

## 📌 产品简介

**快格轻制造**（RiverEdge 快格轻制造）是一款面向中国中小制造企业的轻量级 MES 系统，基于 RiverEdge SaaS 多租户平台构建。系统采用**统一业务流程主线**设计，同时支持 **MTS（按库存生产）** 和 **MTO（按订单生产）** 两种业务模式，用户无需在复杂配置中纠结，按需选择即可高效运转。

### 核心定位

- **轻量起步**：不做大而全，专注生产执行核心环节，小企业可极简运行
- **灵活扩展**：按需开启销售、采购、质量、财务等模块，随业务成长平滑扩展
- **需求驱动**：销售预测与销售订单统一为「需求」，一套流程覆盖多种业务场景
- **面向中国**：针对一人多岗、数据录入量大、快速上手等典型痛点深度优化

### 典型用户

- 10–200 人的离散制造企业
- 多品种小批量、按单生产或按库生产
- 需要工单管理、报工、领料、入库等核心 MES 能力
- 希望用轻量系统替代 Excel 和纸质单据，降低上线风险

---

## 🛠 技术栈

快格轻制造基于 RiverEdge 平台技术栈构建，采用前后端分离、多租户 SaaS 架构，保证**高性能、可扩展、易维护**。

| 层级 | 技术 | 说明 |
|------|------|------|
| **前端** | React 18 + TypeScript + Vite | 现代 Web 技术，响应迅速、类型安全 |
| | Ant Design Pro | 企业级 UI，一致、易用 |
| **后端** | FastAPI | 异步高性能 API，自动文档 |
| | Tortoise ORM + PostgreSQL | 异步 ORM，企业级数据库 |
| **架构** | 多租户 SaaS | 租户数据隔离，支持多组织 |
| | 插件化应用 | 业务模块按需加载、独立升级 |

技术选型兼顾**开发效率**与**生产稳定性**，满足中小企业对快速迭代和长期稳定的双重需求。

---

## 📦 模块简介

### 已上线模块

| 模块 | 功能概览 | 核心价值 |
|------|----------|----------|
| **计划管理** | 需求管理、需求计算、生产计划、排程管理 | 统一处理预测与订单，自动生成工单与采购建议 |
| **生产执行** | 工单管理、报工管理、返工单、委外管理、异常管理 | 工单全生命周期管理，支持返工、委外与异常处理 |
| **销售管理** | 销售预测、销售订单、销售出库、销售退货 | 从需求到出货闭环，支持 MTS/MTO |
| **采购管理** | 采购申请、采购订单、采购入库、采购退货 | 支持采购申请与直采，灵活适配流程 |
| **仓储管理** | 入库/出库、库存查询、成品库存、线边仓、倒冲记录 | 支持线边仓与报工自动倒冲，提升车间效率 |
| **质量管理** | 来料检验、过程检验、成品检验 | 贯穿来料、过程、成品，支撑质量追溯 |
| **财务管理** | 应收对账、应付对账、发票查询 | 与业务单据联动，简化对账 |
| **成本管理** | 成本规则、成本核算、成本明细、成本报表 | 支撑生产成本分析与管理 |
| **设备/工装** | 设备台账、模具、工装、保养、校验 | 设备与工装全生命周期管理 |
| **报表分析** | 库存报表、生产报表、质量报表 | 多维报表，辅助决策 |

### 基础数据支撑

依托 **RiverEdge 主数据管理**：工厂建模（厂区、车间、产线、工位）、物料主数据、BOM、工艺路线、客户、供应商等，为业务模块提供统一、规范的数据基础。

---

## 🔄 业务流程

### 统一主线设计

系统采用**一条业务流程主线**，通过需求来源与关联关系自动区分 MTS/MTO，减少人为配置和误操作。

**需求来源**：销售预测（MTS 按库存生产）或销售订单（MTO 按订单生产），作为流程起点。

**销售订单与需求的职责划分**：
- **销售订单（SalesOrder）**：销售管理主实体，独立表存储，负责订单录入、审核、出库等，便于与 ERP/CRM 等外部系统对接。
- **统一需求管理（Demand）**：计划层统一视图，展示销售预测与销售订单类型需求，用于需求计算、工单生成。
- **数据流**：销售订单 →（下推需求计算时）→ 生成 Demand（source_type=sales_order, source_id=订单ID）→ 需求计算 → 工单/采购。

**需求计算**：统一的需求计算引擎，合并 MRP/LRP 逻辑，按需求类型自动选择计算模式，无需用户区分。

**生产执行**：从生产计划到排程、工单下达、报工、领料或倒冲，直至成品入库，形成完整生产闭环。

**物流与财务**：销售出库、采购入库与业务单据紧密关联，支持全链路追溯。

### 典型流程示例

- **MTO 流程**：销售订单 → 需求计算 → 工单/采购建议 → 生产执行 → 成品入库 → 销售出库
- **MTS 流程**：销售预测 → 需求计算 → 工单/采购建议 → 生产执行 → 成品入库 → 按需出库
- **线边仓 + 倒冲**：报工触发 BOM 倒冲，从线边仓自动扣料，减少手工领料和录单

### 计划管理四模块定位

| 模块 | 定位 | 职责 |
|------|------|------|
| **需求管理** | 需求录入与生命周期 | 销售预测/订单的创建、审核、下推计算 |
| **需求计算** | 物料需求运算引擎 | BOM 展开、库存扣减、净需求；按配置可直连工单或经生产计划 |
| **生产计划** | 计划层 | 接收需求计算结果、人工调整、执行转工单；审核可配置 |
| **排程管理** | 工单级排产 | 对已有工单进行排产，考虑设备/产能约束 |

工单生成支持双路径可配置：极简模式可直连，全流程模式可经生产计划。采购支持直连采购单或经采购申请。

---

## ✨ 产品优势

### 围绕用户痛点的解决方案

| 用户痛点 | 我们的方案 | 带来的价值 |
|----------|------------|------------|
| 系统太重、上线周期长 | 轻量设计，专注核心流程，支持极简模式 | 降低实施风险，快速见效 |
| 一人多岗，操作繁琐 | 减少步骤、智能默认、一键操作、批量处理 | 提效减负，适配小团队 |
| 数据录入工作量大 | 批量导入、智能填充、报工自动倒冲 | 减少手工录入，提升准确性 |
| 对系统不熟悉 | 向导引导、行业模板、操作提示、内置帮助 | 缩短学习周期，降低培训成本 |
| 业务模式多变（MTS/MTO） | 统一主线、需求驱动、自动区分模式 | 一套流程适配多种业务 |
| 采购/生产流程不一致 | 流程开关配置，支持经/不经采购申请等 | 灵活匹配企业现有流程 |
| 规模从 10 人到 200 人 | 极简模式 + 全流程模式，按需开启模块 | 随企业成长平滑扩展 |
| 需要质量与追溯 | 来料/过程/成品检验，需求与单据追溯 | 满足合规与质量追溯需求 |

### 核心价值总结

- **快速上线**：轻量起步，核心流程 1–2 周可跑通
- **灵活配置**：极简/全流程可切换，模块按需开启
- **需求驱动**：统一需求计算，自动区分 MTS/MTO
- **数据闭环**：从需求到出货全链路关联，支持追溯
- **降本提效**：减少手工操作、自动倒冲、批量处理

---

## 🗺 当前进展与未来规划

### 已完成能力

以下能力已上线并可使用：

- **计划与需求**：需求管理、需求计算、生产计划、排程管理
- **生产执行**：工单管理、报工管理、返工单、委外管理、工位机触屏模式
- **异常管理**：缺料异常、延期异常、质量异常、异常处理、异常统计
- **销售**：销售预测、销售订单、销售出库、销售退货
- **采购**：采购申请、采购订单、采购入库、采购退货
- **仓储**：入库/出库、库存查询、成品库存、线边仓管理、物料倒冲、批次库存查询、客户来料登记、条码映射、单据时效、补货建议、盘点、调拨、装箱绑定
- **质量**：来料检验、过程检验、成品检验、质量追溯
- **财务**：应收对账、应付对账、发票查询
- **成本**：成本规则、成本核算、成本明细、成本对比、成本优化、成本报表
- **设备与工装**：设备台账、模具台账、设备故障、保养计划、维护提醒、设备状态
- **报表**：库存报表、生产报表、质量报表

### 未来规划（待实现）

根据用户使用全场景推演，后续将重点建设：

- **系统初始化**：快速注册、初始化向导、行业模板、智能默认值
- **业务配置**：极简/全流程模式切换、流程开关、模块按需启用
- **报表增强**：自研报表设计器，支持拖拉拽配置
- **二维码体系**：全流程二维码应用，扫码报工、扫码领料等
- **审批流程**：多级审批、流程配置与优化
- **高级排产**：有限能力排程、甘特图排产（PRO 版）
- **PRO 版能力**：采购询价/合同、质量统计分析、仓储优化建议、自定义字段/报表/工作流、第三方系统集成、企业上下游协同

产品路线图以**用户场景**为导向，在现有能力基础上持续迭代，优先解决高频、高价值场景。

---

## 🚀 快速开始

### 环境要求

- Node.js 18+
- Python 3.11+
- PostgreSQL 15+
- Redis 6+

### 本地启动

```bash
# 克隆仓库
git clone <repository-url>
cd riveredge

# 一键启动（需预先配置数据库等环境）
./Launch.sh
```

详细的环境配置、数据库迁移、前后端启动说明请参见项目文档。

---

## 📞 联系我们

- **产品官网**：（待补充）
- **技术文档**：`docs/` 目录（含 [菜单同步与缓存说明](docs/菜单同步与缓存说明.md)）
- **问题反馈**：通过项目 Issue 或内部渠道提交

---

## 📄 许可证

本项目遵循相应开源许可证，具体见 [LICENSE](LICENSE) 文件。

---

*快格轻制造 · 让制造管理更轻、更快、更省心*
