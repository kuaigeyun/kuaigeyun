# ç³»ç»Ÿçº§åŠŸèƒ½æ¨¡å— (tree-root)

**ç³»ç»Ÿçº§åç«¯åŠŸèƒ½å’ŒæœåŠ¡** - é¢å‘ç»„ç»‡å†…ç³»ç»ŸåŠŸèƒ½

## ğŸ¯ èŒè´£èŒƒå›´

**ç³»ç»Ÿçº§åŠŸèƒ½** - ç»„ç»‡å†…ç³»ç»ŸåŠŸèƒ½ï¼š
- âœ… è§’è‰²æƒé™ç®¡ç†
- âœ… éƒ¨é—¨ç®¡ç†
- âœ… èŒä½ç®¡ç†
- âœ… è´¦æˆ·ç®¡ç†
- â¸ï¸ èœå•ç®¡ç†ï¼ˆæš‚ç¼“ï¼‰

## ğŸ“ ç›®å½•ç»“æ„

```
src/tree-root/
â”œâ”€â”€ api/                      # ç³»ç»Ÿçº§ API è·¯ç”±
â”‚   â”œâ”€â”€ roles/                # è§’è‰²ç®¡ç† API
â”‚   â”œâ”€â”€ permissions/          # æƒé™ç®¡ç† API
â”‚   â”œâ”€â”€ departments/          # éƒ¨é—¨ç®¡ç† API
â”‚   â”œâ”€â”€ positions/            # èŒä½ç®¡ç† API
â”‚   â””â”€â”€ users/                # è´¦æˆ·ç®¡ç† API
â”‚
â”œâ”€â”€ models/                   # ç³»ç»Ÿçº§æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ base.py              # åŸºç¡€æ¨¡å‹ï¼ˆç»§æ‰¿è‡ª soil.models.baseï¼‰
â”‚   â”œâ”€â”€ role.py              # è§’è‰²æ¨¡å‹
â”‚   â”œâ”€â”€ permission.py        # æƒé™æ¨¡å‹
â”‚   â”œâ”€â”€ role_permission.py   # è§’è‰²-æƒé™å…³è”æ¨¡å‹
â”‚   â”œâ”€â”€ user_role.py         # ç”¨æˆ·-è§’è‰²å…³è”æ¨¡å‹
â”‚   â”œâ”€â”€ department.py        # éƒ¨é—¨æ¨¡å‹
â”‚   â””â”€â”€ position.py          # èŒä½æ¨¡å‹
â”‚
â”œâ”€â”€ schemas/                  # ç³»ç»Ÿçº§æ•°æ®éªŒè¯ï¼ˆPydantic Schemaï¼‰
â”‚   â”œâ”€â”€ role.py
â”‚   â”œâ”€â”€ permission.py
â”‚   â”œâ”€â”€ department.py
â”‚   â”œâ”€â”€ position.py
â”‚   â””â”€â”€ user.py
â”‚
â”œâ”€â”€ services/                 # ç³»ç»Ÿçº§ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ role_service.py
â”‚   â”œâ”€â”€ permission_service.py
â”‚   â”œâ”€â”€ department_service.py
â”‚   â”œâ”€â”€ position_service.py
â”‚   â””â”€â”€ user_service.py
â”‚
â””â”€â”€ core/                     # ç³»ç»Ÿçº§æ ¸å¿ƒåŠŸèƒ½
    â”œâ”€â”€ permissions/          # æƒé™éªŒè¯æ ¸å¿ƒ
    â”‚   â”œâ”€â”€ middleware.py    # æƒé™éªŒè¯ä¸­é—´ä»¶
    â”‚   â”œâ”€â”€ decorator.py     # æƒé™è£…é¥°å™¨
    â”‚   â””â”€â”€ rbac.py          # RBAC æ ¸å¿ƒé€»è¾‘
    â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
        â””â”€â”€ import_export.py # å¯¼å…¥å¯¼å‡ºå·¥å…·
```

## ğŸ“‹ åŠŸèƒ½åˆ—è¡¨

### âœ… ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æƒé™ä½“ç³»ï¼ˆå»ºè®¾ä¸­ï¼‰

- ğŸš§ **è§’è‰²æƒé™ç®¡ç†**
  - è§’è‰² CRUD
  - æƒé™æŸ¥è¯¢å’Œåˆ†é…
  - è§’è‰²-æƒé™å…³è”
  - ç”¨æˆ·-è§’è‰²å…³è”
  
- â³ **éƒ¨é—¨ç®¡ç†**
  - éƒ¨é—¨æ ‘å½¢ç»“æ„ç®¡ç†
  - éƒ¨é—¨ CRUD
  - éƒ¨é—¨æ’åº
  
- â³ **èŒä½ç®¡ç†**
  - èŒä½ CRUD
  - èŒä½å…³è”éƒ¨é—¨
  
- â³ **è´¦æˆ·ç®¡ç†**
  - è´¦æˆ· CRUD
  - è´¦æˆ·å¯¼å…¥å¯¼å‡º
  - æ‰¹é‡æ“ä½œ

## ğŸš€ ä½¿ç”¨æ–¹å¼

tree-root ä¸»è¦ä½œä¸ºåº“è¢« `maintree` å¯¼å…¥ä½¿ç”¨ã€‚

åœ¨ `maintree` ä¸­å¯¼å…¥ tree-root çš„ APIï¼š

```python
from tree_root.api import roles, permissions, departments, positions, users
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç»§æ‰¿å…³ç³»**ï¼šæ‰€æœ‰æ¨¡å‹ç»§æ‰¿è‡ª `tree_root.models.base.BaseModel`ï¼Œå®ƒç»§æ‰¿è‡ª `soil.models.base.BaseModel`
2. **å¤šç§Ÿæˆ·éš”ç¦»**ï¼šæ‰€æœ‰æŸ¥è¯¢å¿…é¡»è‡ªåŠ¨è¿‡æ»¤ `tenant_id`
3. **æ··åˆIDæ–¹æ¡ˆ**ï¼šä½¿ç”¨ `id`ï¼ˆè‡ªå¢IDï¼‰å†…éƒ¨å…³è”ï¼Œ`uuid`ï¼ˆUUIDï¼‰å¯¹å¤–æš´éœ²

---

**æœ€åæ›´æ–°**ï¼š2025-01-XX
