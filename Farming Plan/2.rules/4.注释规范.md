# RiverEdge SaaS å¤šç§Ÿæˆ·æ¡†æ¶ - æ³¨é‡Šè§„èŒƒ

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰ **RiverEdge SaaS å¤šç§Ÿæˆ·æ¡†æ¶ (RiverEdge SaaS Multi-tenant Framework)** çš„**æ³¨é‡Šè§„èŒƒ**ï¼Œç¡®ä¿ä»£ç æ³¨é‡Šæ¸…æ™°ã€å®Œæ•´ï¼Œæå‡ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ¯ æ³¨é‡ŠåŸåˆ™

1. **å¿…è¦æ€§**ï¼šæ³¨é‡Šåº”è¯¥è§£é‡Š"ä¸ºä»€ä¹ˆ"è€Œä¸æ˜¯"æ˜¯ä»€ä¹ˆ"
2. **æ¸…æ™°æ€§**ï¼šæ³¨é‡Šåº”è¯¥æ¸…æ™°ã€ç®€æ´ã€å‡†ç¡®
3. **å®Œæ•´æ€§**ï¼šå…³é”®ä»£ç åº”è¯¥æœ‰å®Œæ•´çš„æ³¨é‡Š
4. **åŠæ—¶æ€§**ï¼šä»£ç å˜æ›´æ—¶åŒæ­¥æ›´æ–°æ³¨é‡Š
5. **ä¸­æ–‡ä¼˜å…ˆ**ï¼šä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œä¾¿äºå›¢é˜Ÿç†è§£
6. **æ—¥æœŸè§„èŒƒ**ï¼š**æ–‡ä»¶å¤´æ³¨é‡Šä¸­çš„æ—¥æœŸå¿…é¡»ä½¿ç”¨å½“å‰ç³»ç»Ÿæ—¶é—´**ï¼Œä¸è¦ç¡¬ç¼–ç æ—¥æœŸ

### ğŸ“… æ—¥æœŸè·å–æ–¹æ³•

**é‡è¦**ï¼šæ‰€æœ‰æ–‡ä»¶å¤´æ³¨é‡Šä¸­çš„æ—¥æœŸå­—æ®µåº”ä½¿ç”¨å½“å‰ç³»ç»Ÿæ—¥æœŸï¼Œæ ¼å¼ä¸º `YYYY-MM-DD`ã€‚

**ä½¿ç”¨æµç¨‹**ï¼š
1. **å…ˆè·å–ç³»ç»Ÿæ—¶é—´**ï¼šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è·å–å½“å‰ç³»ç»Ÿæ—¥æœŸ
2. **ç¡¬ç¼–ç åˆ°æ³¨é‡Š**ï¼šå°†è·å–åˆ°çš„å‡†ç¡®æ—¥æœŸå†™å…¥æ–‡ä»¶å¤´æ³¨é‡Šä¸­

**è·å–ç³»ç»Ÿæ—¥æœŸçš„æ–¹æ³•**ï¼š

**âš ï¸ é‡è¦**ï¼š**ç»å¯¹ç¦æ­¢ä½¿ç”¨ PowerShell**ï¼Œå¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆï¼š

```bash
# Git Bashï¼ˆæ¨èï¼‰â­
date +%Y-%m-%d

# Windows CMD
date /t

# Linux/macOS
date +%Y-%m-%d

# Python
python -c "from datetime import date; print(date.today().strftime('%Y-%m-%d'))"
```

```python
# Python ä»£ç ä¸­
from datetime import date
date.today().strftime('%Y-%m-%d')
```

```typescript
// TypeScript/JavaScript
new Date().toISOString().split('T')[0]
```

**æ³¨æ„**ï¼š
- åˆ›å»ºæˆ–ä¿®æ”¹æ–‡ä»¶æ—¶ï¼Œ**å…ˆè¿è¡Œå‘½ä»¤è·å–ç³»ç»Ÿæ—¶é—´**ï¼Œç„¶åå°†è·å–åˆ°çš„å‡†ç¡®æ—¥æœŸ**ç¡¬ç¼–ç **å†™å…¥æ³¨é‡Š
- ä¸è¦ä½¿ç”¨å ä½ç¬¦æˆ–å˜é‡ï¼Œåº”ç›´æ¥å†™å…¥å‡†ç¡®çš„æ—¥æœŸå­—ç¬¦ä¸²
- ç¡®ä¿æ—¥æœŸä¿¡æ¯çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§

## ğŸ”§ åç«¯æ³¨é‡Šè§„èŒƒï¼ˆPythonï¼‰

### æ–‡ä»¶å¤´æ³¨é‡Š

**è§„åˆ™**ï¼šæ¯ä¸ªæ–‡ä»¶å¼€å¤´åº”åŒ…å«æ–‡ä»¶è¯´æ˜

**è·å–å½“å‰ç³»ç»Ÿæ—¥æœŸ**ï¼š
**âš ï¸ é‡è¦**ï¼š**ç»å¯¹ç¦æ­¢ä½¿ç”¨ PowerShell**ï¼Œå¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆï¼š

```bash
# Git Bashï¼ˆæ¨èï¼‰â­
date +%Y-%m-%d

# Python
from datetime import date
date.today().strftime('%Y-%m-%d')
```

**æ³¨é‡Šæ¨¡æ¿**ï¼š
```python
"""
ç”¨æˆ·æ¨¡å‹æ¨¡å—

æä¾›ç”¨æˆ·æ•°æ®æ¨¡å‹å®šä¹‰ï¼ŒåŒ…æ‹¬ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€çŠ¶æ€ç®¡ç†ç­‰ã€‚

Author: Luigi Lu
Date: 2025-11-17  # ä½¿ç”¨ç³»ç»Ÿæ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DDï¼ˆåˆ›å»ºæ–‡ä»¶æ—¶è·å–å½“å‰ç³»ç»Ÿæ—¥æœŸï¼‰
"""

from tortoise.models import Model
from tortoise import fields
```

### æ¨¡å—æ³¨é‡Š

**è§„åˆ™**ï¼šæ¨¡å—çº§æ³¨é‡Šè¯´æ˜æ¨¡å—ç”¨é€”

```python
"""
ç”¨æˆ·ç®¡ç†æ¨¡å—

åŒ…å«ç”¨æˆ·ç›¸å…³çš„ APIã€Serviceã€Schema ç­‰ã€‚
"""

from fastapi import APIRouter
from services.user_service import UserService
```

### ç±»æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ä¸‰å¼•å·æ–‡æ¡£å­—ç¬¦ä¸²ï¼ŒåŒ…å«ç±»è¯´æ˜ã€å±æ€§è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹

#### åŸºç¡€ç±»æ³¨é‡Š

```python
class UserService:
    """
    ç”¨æˆ·æœåŠ¡ç±»
    
    æä¾›ç”¨æˆ·çš„ CRUD æ“ä½œå’Œä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚
    """
```

#### å®Œæ•´ç±»æ³¨é‡Šï¼ˆæ¨èï¼‰

```python
class UserService:
    """
    ç”¨æˆ·æœåŠ¡ç±»
    
    æä¾›ç”¨æˆ·çš„ CRUD æ“ä½œå’Œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼ŒåŒ…æ‹¬ï¼š
    - ç”¨æˆ·åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤
    - ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆæ¿€æ´»ã€åœç”¨ï¼‰
    - ç”¨æˆ·æƒé™éªŒè¯
    
    Attributes:
        db: æ•°æ®åº“è¿æ¥å¯¹è±¡
        
    Example:
        >>> service = UserService()
        >>> user = await service.create_user(
        ...     name="å¼ ä¸‰",
        ...     email="zhangsan@example.com",
        ...     tenant_id=1
        ... )
    """
```

#### æ¨¡å‹ç±»æ³¨é‡Š

```python
class User(BaseModel):
    """
    ç”¨æˆ·æ¨¡å‹
    
    å­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·åã€é‚®ç®±ã€çŠ¶æ€ç­‰ã€‚
    æ‰€æœ‰ç”¨æˆ·æ•°æ®éƒ½åŒ…å«ç§Ÿæˆ·éš”ç¦»å­—æ®µï¼ˆtenant_idï¼‰ã€‚
    
    Attributes:
        id: ç”¨æˆ· IDï¼ˆä¸»é”®ï¼‰
        tenant_id: ç§Ÿæˆ· IDï¼ˆç”¨äºå¤šç§Ÿæˆ·éš”ç¦»ï¼‰
        username: ç”¨æˆ·åï¼ˆç§Ÿæˆ·å†…å”¯ä¸€ï¼‰
        email: ç”¨æˆ·é‚®ç®±ï¼ˆå…¨å±€å”¯ä¸€ï¼‰
        is_active: æ˜¯å¦æ¿€æ´»
        created_at: åˆ›å»ºæ—¶é—´
        updated_at: æ›´æ–°æ—¶é—´
    """
    id = fields.IntField(pk=True)
    tenant_id = fields.IntField(index=True)
    username = fields.CharField(max_length=50)
    email = fields.CharField(max_length=100, unique=True)
    is_active = fields.BooleanField(default=True)
    created_at = fields.DatetimeField(auto_now_add=True)
    updated_at = fields.DatetimeField(auto_now=True)
```

#### Schema ç±»æ³¨é‡Š

```python
class UserCreate(BaseModel):
    """
    ç”¨æˆ·åˆ›å»º Schema
    
    ç”¨äºæ¥æ”¶ç”¨æˆ·åˆ›å»ºè¯·æ±‚çš„æ•°æ®éªŒè¯ã€‚
    
    Attributes:
        username: ç”¨æˆ·åï¼ˆå¿…å¡«ï¼Œ3-50 å­—ç¬¦ï¼‰
        email: ç”¨æˆ·é‚®ç®±ï¼ˆå¿…å¡«ï¼Œé‚®ç®±æ ¼å¼éªŒè¯ï¼‰
        password: ç”¨æˆ·å¯†ç ï¼ˆå¿…å¡«ï¼Œè‡³å°‘ 8 ä½ï¼‰
        tenant_id: ç§Ÿæˆ· IDï¼ˆå¿…å¡«ï¼‰
    """
    username: str = Field(..., min_length=3, max_length=50)
    email: str = Field(..., regex=r'^[\w\.-]+@[\w\.-]+\.\w+$')
    password: str = Field(..., min_length=8)
    tenant_id: int
```

### å‡½æ•°æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ä¸‰å¼•å·æ–‡æ¡£å­—ç¬¦ä¸²ï¼ŒåŒ…å«å‡½æ•°è¯´æ˜ã€å‚æ•°è¯´æ˜ã€è¿”å›å€¼è¯´æ˜ã€å¼‚å¸¸è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹

#### åŸºç¡€å‡½æ•°æ³¨é‡Š

```python
async def create_user(self, name: str, email: str) -> User:
    """åˆ›å»ºç”¨æˆ·"""
    pass
```

#### å®Œæ•´å‡½æ•°æ³¨é‡Šï¼ˆæ¨èï¼‰

```python
async def create_user(
    self,
    name: str,
    email: str,
    tenant_id: int
) -> User:
    """
    åˆ›å»ºç”¨æˆ·
    
    åˆ›å»ºæ–°ç”¨æˆ·å¹¶ä¿å­˜åˆ°æ•°æ®åº“ã€‚å¦‚æœé‚®ç®±å·²å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚
    
    Args:
        name: ç”¨æˆ·åç§°ï¼ˆå¿…å¡«ï¼Œ3-50 å­—ç¬¦ï¼‰
        email: ç”¨æˆ·é‚®ç®±ï¼ˆå¿…å¡«ï¼Œé‚®ç®±æ ¼å¼ï¼Œå…¨å±€å”¯ä¸€ï¼‰
        tenant_id: ç§Ÿæˆ· IDï¼ˆå¿…å¡«ï¼Œç”¨äºå¤šç§Ÿæˆ·éš”ç¦»ï¼‰
        
    Returns:
        User: åˆ›å»ºçš„ç”¨æˆ·å¯¹è±¡
        
    Raises:
        ValueError: å½“é‚®ç®±å·²å­˜åœ¨æ—¶æŠ›å‡º
        ValidationError: å½“æ•°æ®éªŒè¯å¤±è´¥æ—¶æŠ›å‡º
        
    Example:
        >>> service = UserService()
        >>> user = await service.create_user(
        ...     name="å¼ ä¸‰",
        ...     email="zhangsan@example.com",
        ...     tenant_id=1
        ... )
        >>> print(user.id)
        1
    """
```

#### æŸ¥è¯¢å‡½æ•°æ³¨é‡Š

```python
async def list_users(
    self,
    page: int = 1,
    page_size: int = 10,
    keyword: str = None,
    tenant_id: int = None
) -> dict:
    """
    è·å–ç”¨æˆ·åˆ—è¡¨
    
    æ”¯æŒåˆ†é¡µã€å…³é”®è¯æœç´¢å’Œç§Ÿæˆ·è¿‡æ»¤ã€‚
    
    Args:
        page: é¡µç ï¼ˆé»˜è®¤ 1ï¼Œä» 1 å¼€å§‹ï¼‰
        page_size: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤ 10ï¼Œæœ€å¤§ 100ï¼‰
        keyword: å…³é”®è¯æœç´¢ï¼ˆå¯é€‰ï¼Œæœç´¢ç”¨æˆ·åå’Œé‚®ç®±ï¼‰
        tenant_id: ç§Ÿæˆ· IDï¼ˆå¯é€‰ï¼Œç”¨äºç§Ÿæˆ·è¿‡æ»¤ï¼‰
        
    Returns:
        dict: åŒ…å«ä»¥ä¸‹å­—æ®µçš„å­—å…¸
            - items: ç”¨æˆ·åˆ—è¡¨
            - total: æ€»æ•°é‡
            - page: å½“å‰é¡µç 
            - page_size: æ¯é¡µæ•°é‡
            
    Example:
        >>> result = await service.list_users(
        ...     page=1,
        ...     page_size=20,
        ...     keyword="å¼ ä¸‰",
        ...     tenant_id=1
        ... )
        >>> print(result['total'])
        10
    """
```

#### ä¸šåŠ¡å‡½æ•°æ³¨é‡Š

```python
async def activate_user(self, user_id: int) -> User:
    """
    æ¿€æ´»ç”¨æˆ·
    
    å°†ç”¨æˆ·çŠ¶æ€è®¾ç½®ä¸ºæ¿€æ´»ï¼Œå¹¶è®°å½•æ“ä½œæ—¥å¿—ã€‚
    
    Args:
        user_id: ç”¨æˆ· ID
        
    Returns:
        User: æ›´æ–°åçš„ç”¨æˆ·å¯¹è±¡
        
    Raises:
        UserNotFoundError: å½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶æŠ›å‡º
        
    Example:
        >>> user = await service.activate_user(1)
        >>> print(user.is_active)
        True
    """
```

### æ–¹æ³•æ³¨é‡Š

**è§„åˆ™**ï¼šä¸å‡½æ•°æ³¨é‡Šç›¸åŒ

```python
class UserService:
    async def get_user_by_id(self, user_id: int) -> Optional[User]:
        """
        æ ¹æ® ID è·å–ç”¨æˆ·
        
        Args:
            user_id: ç”¨æˆ· ID
            
        Returns:
            Optional[User]: ç”¨æˆ·å¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› None
        """
```

### å±æ€§æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨è¡Œå†…æ³¨é‡Šæˆ–å±æ€§æ–‡æ¡£å­—ç¬¦ä¸²

```python
class User(BaseModel):
    """ç”¨æˆ·æ¨¡å‹"""
    
    id = fields.IntField(pk=True)  # ç”¨æˆ· IDï¼ˆä¸»é”®ï¼‰
    tenant_id = fields.IntField(index=True)  # ç§Ÿæˆ· IDï¼ˆç”¨äºå¤šç§Ÿæˆ·éš”ç¦»ï¼‰
    username = fields.CharField(max_length=50)  # ç”¨æˆ·åï¼ˆç§Ÿæˆ·å†…å”¯ä¸€ï¼‰
    email = fields.CharField(max_length=100, unique=True)  # ç”¨æˆ·é‚®ç®±ï¼ˆå…¨å±€å”¯ä¸€ï¼‰
    is_active = fields.BooleanField(default=True)  # æ˜¯å¦æ¿€æ´»
```

### è¡Œå†…æ³¨é‡Š

**è§„åˆ™**ï¼šè§£é‡Šå¤æ‚é€»è¾‘ï¼Œä½¿ç”¨ `#` æ³¨é‡Š

```python
# è·å–å½“å‰ç§Ÿæˆ· IDï¼ˆä» JWT Token æˆ–è¯·æ±‚å¤´ï¼‰
tenant_id = get_current_tenant_id()

# å¦‚æœç§Ÿæˆ· ID ä¸ºç©ºï¼ŒæŠ›å‡ºå¼‚å¸¸
if not tenant_id:
    raise ValueError("ç§Ÿæˆ· ID ä¸èƒ½ä¸ºç©º")

# æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼ˆè‡ªåŠ¨è¿‡æ»¤ç§Ÿæˆ·ï¼‰
users = await User.filter(tenant_id=tenant_id).all()

# è®¡ç®—æ€»é‡‘é¢ï¼ˆé¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ï¼‰
total_amount = sum(item.amount for item in order.items)
```

### å¤æ‚é€»è¾‘æ³¨é‡Š

**è§„åˆ™**ï¼šå¯¹å¤æ‚ç®—æ³•æˆ–ä¸šåŠ¡é€»è¾‘æ·»åŠ è¯¦ç»†æ³¨é‡Š

```python
async def calculate_order_total(self, order_id: int) -> Decimal:
    """
    è®¡ç®—è®¢å•æ€»é‡‘é¢
    
    è®¡ç®—é€»è¾‘ï¼š
    1. è·å–è®¢å•æ‰€æœ‰æ˜ç»†é¡¹
    2. è®¡ç®—æ¯é¡¹é‡‘é¢ï¼ˆæ•°é‡ Ã— å•ä»·ï¼‰
    3. åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æœæœ‰ï¼‰
    4. ç´¯åŠ æ‰€æœ‰æ˜ç»†é¡¹é‡‘é¢
    5. è¿”å›æ€»é‡‘é¢
    
    Args:
        order_id: è®¢å• ID
        
    Returns:
        Decimal: è®¢å•æ€»é‡‘é¢
    """
    # 1. è·å–è®¢å•åŠå…¶æ˜ç»†
    order = await Order.get(id=order_id).prefetch_related('items')
    
    # 2. è®¡ç®—æ¯é¡¹é‡‘é¢å¹¶ç´¯åŠ 
    total = Decimal('0')
    for item in order.items:
        item_amount = item.quantity * item.price
        total += item_amount
    
    # 3. åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æœæœ‰ï¼‰
    if order.discount_rate:
        discount = total * (order.discount_rate / 100)
        total -= discount
    
    return total
```

### TODO æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ `TODO`ã€`FIXME`ã€`NOTE`ã€`WARNING` ç­‰æ ‡ç­¾

```python
# TODO: æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½
# TODO: å®ç°ç”¨æˆ·æ‰¹é‡å¯¼å…¥åŠŸèƒ½
# FIXME: ä¿®å¤æ—¶åŒºé—®é¢˜ï¼Œå½“å‰ä½¿ç”¨ UTC æ—¶é—´
# NOTE: æ­¤æ–¹æ³•éœ€è¦ä¼˜åŒ–æ€§èƒ½ï¼Œå½“ç”¨æˆ·æ•°é‡è¶…è¿‡ 10000 æ—¶å¯èƒ½è¾ƒæ…¢
# WARNING: æ­¤æ–¹æ³•ä¼šåˆ é™¤æ‰€æœ‰å…³è”æ•°æ®ï¼Œè¯·è°¨æ…ä½¿ç”¨
```

### ç±»å‹æç¤ºæ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ç±»å‹æç¤ºï¼Œå‡å°‘æ³¨é‡Šè´Ÿæ‹…

```python
# âœ… æ¨èï¼šä½¿ç”¨ç±»å‹æç¤º
async def create_user(
    name: str,
    email: str,
    tenant_id: int
) -> User:
    """åˆ›å»ºç”¨æˆ·"""
    pass

# âŒ ä¸æ¨èï¼šåœ¨æ³¨é‡Šä¸­è¯´æ˜ç±»å‹
async def create_user(name, email, tenant_id):
    """
    åˆ›å»ºç”¨æˆ·
    
    Args:
        name: str - ç”¨æˆ·åç§°
        email: str - ç”¨æˆ·é‚®ç®±
        tenant_id: int - ç§Ÿæˆ· ID
    """
    pass
```

## ğŸ¨ å‰ç«¯æ³¨é‡Šè§„èŒƒï¼ˆTypeScript/Reactï¼‰

### æ–‡ä»¶å¤´æ³¨é‡Š

**è§„åˆ™**ï¼šæ¯ä¸ªæ–‡ä»¶å¼€å¤´åº”åŒ…å«æ–‡ä»¶è¯´æ˜

**è·å–å½“å‰ç³»ç»Ÿæ—¥æœŸ**ï¼š
**âš ï¸ é‡è¦**ï¼š**ç»å¯¹ç¦æ­¢ä½¿ç”¨ PowerShell**ï¼Œå¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ›¿ä»£æ–¹æ¡ˆï¼š

```bash
# Git Bashï¼ˆæ¨èï¼‰â­
date +%Y-%m-%d

# Node.js/TypeScript
new Date().toISOString().split('T')[0]
```

**æ³¨é‡Šæ¨¡æ¿**ï¼š
```typescript
/**
 * ç”¨æˆ·åˆ—è¡¨é¡µé¢
 * 
 * æä¾›ç”¨æˆ·åˆ—è¡¨å±•ç¤ºã€æœç´¢ã€ç­›é€‰ã€åˆ†é¡µç­‰åŠŸèƒ½ã€‚
 * 
 * @author Luigi Lu
 * @date 2025-11-17  // ä½¿ç”¨ç³»ç»Ÿæ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DDï¼ˆåˆ›å»ºæ–‡ä»¶æ—¶è·å–å½“å‰ç³»ç»Ÿæ—¥æœŸï¼‰
 */

import React from 'react';
import { ProTable } from '@ant-design/pro-components';
```

### ç»„ä»¶æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ JSDoc æ ¼å¼ï¼ŒåŒ…å«ç»„ä»¶è¯´æ˜ã€Props è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹

#### åŸºç¡€ç»„ä»¶æ³¨é‡Š

```tsx
interface UserCardProps {
  userId: number;
  userName: string;
}

export default function UserCard({ userId, userName }: UserCardProps) {
  return <div>{userName}</div>;
}
```

#### å®Œæ•´ç»„ä»¶æ³¨é‡Šï¼ˆæ¨èï¼‰

```tsx
/**
 * ç”¨æˆ·å¡ç‰‡ç»„ä»¶
 * 
 * ç”¨äºå±•ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤´åƒã€å§“åã€é‚®ç®±ç­‰ã€‚
 * 
 * @param props - ç»„ä»¶å±æ€§
 * @param props.userId - ç”¨æˆ· ID
 * @param props.userName - ç”¨æˆ·åç§°
 * @param props.email - ç”¨æˆ·é‚®ç®±ï¼ˆå¯é€‰ï¼‰
 * @param props.onClick - ç‚¹å‡»äº‹ä»¶å›è°ƒï¼ˆå¯é€‰ï¼‰
 * 
 * @example
 * ```tsx
 * <UserCard
 *   userId={1}
 *   userName="å¼ ä¸‰"
 *   email="zhangsan@example.com"
 *   onClick={() => console.log('ç‚¹å‡»äº†ç”¨æˆ·å¡ç‰‡')}
 * />
 * ```
 */
interface UserCardProps {
  userId: number;
  userName: string;
  email?: string;
  onClick?: () => void;
}

export default function UserCard({
  userId,
  userName,
  email,
  onClick,
}: UserCardProps) {
  return (
    <div onClick={onClick}>
      <h3>{userName}</h3>
      {email && <p>{email}</p>}
    </div>
  );
}
```

### å‡½æ•°æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ JSDoc æ ¼å¼ï¼ŒåŒ…å«å‡½æ•°è¯´æ˜ã€å‚æ•°è¯´æ˜ã€è¿”å›å€¼è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹

#### API å‡½æ•°æ³¨é‡Š

```typescript
/**
 * è·å–ç”¨æˆ·åˆ—è¡¨
 * 
 * æ”¯æŒåˆ†é¡µã€å…³é”®è¯æœç´¢å’Œç§Ÿæˆ·è¿‡æ»¤ã€‚
 * 
 * @param params - æŸ¥è¯¢å‚æ•°
 * @param params.page - é¡µç ï¼ˆé»˜è®¤ 1ï¼Œä» 1 å¼€å§‹ï¼‰
 * @param params.pageSize - æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤ 10ï¼Œæœ€å¤§ 100ï¼‰
 * @param params.keyword - å…³é”®è¯æœç´¢ï¼ˆå¯é€‰ï¼Œæœç´¢ç”¨æˆ·åå’Œé‚®ç®±ï¼‰
 * @param params.tenantId - ç§Ÿæˆ· IDï¼ˆå¯é€‰ï¼Œç”¨äºç§Ÿæˆ·è¿‡æ»¤ï¼‰
 * @returns ç”¨æˆ·åˆ—è¡¨å“åº”æ•°æ®
 * 
 * @example
 * ```typescript
 * const result = await getUserList({
 *   page: 1,
 *   pageSize: 20,
 *   keyword: "å¼ ä¸‰",
 *   tenantId: 1
 * });
 * console.log(result.items);
 * ```
 * 
 * @throws {Error} å½“è¯·æ±‚å¤±è´¥æ—¶æŠ›å‡ºé”™è¯¯
 */
export async function getUserList(params: {
  page: number;
  pageSize: number;
  keyword?: string;
  tenantId?: number;
}): Promise<UserListResponse> {
  return request('/api/v1/users', { params });
}
```

#### å·¥å…·å‡½æ•°æ³¨é‡Š

```typescript
/**
 * æ ¼å¼åŒ–æ—¥æœŸ
 * 
 * å°†æ—¥æœŸå¯¹è±¡æ ¼å¼åŒ–ä¸ºæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚
 * 
 * @param date - æ—¥æœŸå¯¹è±¡æˆ–æ—¶é—´æˆ³
 * @param format - æ ¼å¼åŒ–æ¨¡æ¿ï¼ˆé»˜è®¤ 'YYYY-MM-DD HH:mm:ss'ï¼‰
 * @returns æ ¼å¼åŒ–åçš„æ—¥æœŸå­—ç¬¦ä¸²
 * 
 * @example
 * ```typescript
 * formatDate(new Date(), 'YYYY-MM-DD');
 * // => '2024-01-01'
 * 
 * formatDate(1704067200000, 'YYYYå¹´MMæœˆDDæ—¥');
 * // => '2024å¹´01æœˆ01æ—¥'
 * ```
 */
export function formatDate(
  date: Date | number,
  format: string = 'YYYY-MM-DD HH:mm:ss'
): string {
  return dayjs(date).format(format);
}
```

#### äº‹ä»¶å¤„ç†å‡½æ•°æ³¨é‡Š

```tsx
/**
 * å¤„ç†è¡¨å•æäº¤
 * 
 * éªŒè¯è¡¨å•æ•°æ®å¹¶æäº¤åˆ°æœåŠ¡å™¨ã€‚
 * 
 * @param values - è¡¨å•æ•°æ®
 * @returns Promise<void>
 * 
 * @example
 * ```tsx
 * const handleSubmit = async (values: UserFormData) => {
 *   await createUser(values);
 *   message.success('åˆ›å»ºæˆåŠŸ');
 * };
 * ```
 */
const handleSubmit = async (values: UserFormData) => {
  try {
    await createUser(values);
    message.success('åˆ›å»ºæˆåŠŸ');
  } catch (error) {
    message.error('åˆ›å»ºå¤±è´¥');
  }
};
```

### Hook æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ JSDoc æ ¼å¼ï¼Œè¯´æ˜ Hook ç”¨é€”å’Œè¿”å›å€¼

```typescript
/**
 * ç”¨æˆ·æ•°æ® Hook
 * 
 * è·å–ç”¨æˆ·åˆ—è¡¨æ•°æ®ï¼Œæ”¯æŒè‡ªåŠ¨åˆ·æ–°å’Œç¼“å­˜ã€‚
 * 
 * @param params - æŸ¥è¯¢å‚æ•°
 * @param params.page - é¡µç 
 * @param params.pageSize - æ¯é¡µæ•°é‡
 * @param params.keyword - å…³é”®è¯æœç´¢
 * @returns Hook è¿”å›å€¼
 *   - data: ç”¨æˆ·åˆ—è¡¨æ•°æ®
 *   - loading: åŠ è½½çŠ¶æ€
 *   - error: é”™è¯¯ä¿¡æ¯
 *   - refresh: åˆ·æ–°å‡½æ•°
 * 
 * @example
 * ```tsx
 * const { data, loading, refresh } = useUserList({
 *   page: 1,
 *   pageSize: 10,
 *   keyword: "å¼ ä¸‰"
 * });
 * ```
 */
export function useUserList(params: UserListParams) {
  // ...
}
```

### ç±»å‹æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ JSDoc æ ¼å¼ï¼Œè¯´æ˜ç±»å‹ç”¨é€”å’Œå­—æ®µå«ä¹‰

```typescript
/**
 * ç”¨æˆ·æ¥å£
 * 
 * å®šä¹‰ç”¨æˆ·æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬åŸºæœ¬ä¿¡æ¯ã€çŠ¶æ€ç­‰ã€‚
 */
export interface User {
  /** ç”¨æˆ· IDï¼ˆä¸»é”®ï¼‰ */
  id: number;
  
  /** ç§Ÿæˆ· IDï¼ˆç”¨äºå¤šç§Ÿæˆ·éš”ç¦»ï¼‰ */
  tenantId: number;
  
  /** ç”¨æˆ·åï¼ˆç§Ÿæˆ·å†…å”¯ä¸€ï¼‰ */
  username: string;
  
  /** ç”¨æˆ·é‚®ç®±ï¼ˆå…¨å±€å”¯ä¸€ï¼‰ */
  email: string;
  
  /** æ˜¯å¦æ¿€æ´» */
  isActive: boolean;
  
  /** åˆ›å»ºæ—¶é—´ */
  createdAt: string;
  
  /** æ›´æ–°æ—¶é—´ */
  updatedAt: string;
}

/**
 * ç”¨æˆ·åˆ—è¡¨å“åº”æ¥å£
 * 
 * å®šä¹‰ç”¨æˆ·åˆ—è¡¨ API çš„å“åº”æ•°æ®ç»“æ„ã€‚
 */
export interface UserListResponse {
  /** ç”¨æˆ·åˆ—è¡¨ */
  items: User[];
  
  /** æ€»æ•°é‡ */
  total: number;
  
  /** å½“å‰é¡µç  */
  page: number;
  
  /** æ¯é¡µæ•°é‡ */
  pageSize: number;
}
```

### è¡Œå†…æ³¨é‡Š

**è§„åˆ™**ï¼šè§£é‡Šå¤æ‚é€»è¾‘ï¼Œä½¿ç”¨ `//` æ³¨é‡Š

```tsx
// è·å–å½“å‰ç§Ÿæˆ· IDï¼ˆä» JWT Token æˆ–çŠ¶æ€ç®¡ç†ï¼‰
const tenantId = useModel('user')?.tenantId;

// å¦‚æœç§Ÿæˆ· ID ä¸ºç©ºï¼Œæ˜¾ç¤ºé”™è¯¯æç¤º
if (!tenantId) {
  message.error('è¯·å…ˆé€‰æ‹©ç§Ÿæˆ·');
  return;
}

// æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼ˆè‡ªåŠ¨è¿‡æ»¤ç§Ÿæˆ·ï¼‰
const { data } = useUserList({ tenantId });

// è®¡ç®—æ€»é‡‘é¢ï¼ˆé¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ï¼‰
const totalAmount = order.items.reduce((sum, item) => {
  return sum + item.quantity * item.price;
}, 0);
```

### å¤æ‚é€»è¾‘æ³¨é‡Š

**è§„åˆ™**ï¼šå¯¹å¤æ‚ç®—æ³•æˆ–ä¸šåŠ¡é€»è¾‘æ·»åŠ è¯¦ç»†æ³¨é‡Š

```tsx
/**
 * è®¡ç®—è®¢å•æ€»é‡‘é¢
 * 
 * è®¡ç®—é€»è¾‘ï¼š
 * 1. éå†è®¢å•æ‰€æœ‰æ˜ç»†é¡¹
 * 2. è®¡ç®—æ¯é¡¹é‡‘é¢ï¼ˆæ•°é‡ Ã— å•ä»·ï¼‰
 * 3. åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æœæœ‰ï¼‰
 * 4. ç´¯åŠ æ‰€æœ‰æ˜ç»†é¡¹é‡‘é¢
 * 5. è¿”å›æ€»é‡‘é¢
 */
const calculateOrderTotal = (order: Order): number => {
  // 1. è®¡ç®—æ¯é¡¹é‡‘é¢å¹¶ç´¯åŠ 
  let total = 0;
  order.items.forEach((item) => {
    const itemAmount = item.quantity * item.price;
    total += itemAmount;
  });
  
  // 2. åº”ç”¨æŠ˜æ‰£ï¼ˆå¦‚æœæœ‰ï¼‰
  if (order.discountRate) {
    const discount = total * (order.discountRate / 100);
    total -= discount;
  }
  
  return total;
};
```

### TODO æ³¨é‡Š

**è§„åˆ™**ï¼šä½¿ç”¨ `TODO`ã€`FIXME`ã€`NOTE`ã€`WARNING` ç­‰æ ‡ç­¾

```tsx
// TODO: æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½
// TODO: å®ç°ç”¨æˆ·æ‰¹é‡å¯¼å…¥åŠŸèƒ½
// FIXME: ä¿®å¤æ—¶åŒºé—®é¢˜ï¼Œå½“å‰ä½¿ç”¨ UTC æ—¶é—´
// NOTE: æ­¤ç»„ä»¶éœ€è¦ä¼˜åŒ–æ€§èƒ½ï¼Œå½“æ•°æ®é‡è¶…è¿‡ 1000 æ—¶å¯èƒ½è¾ƒæ…¢
// WARNING: æ­¤æ“ä½œä¼šåˆ é™¤æ‰€æœ‰å…³è”æ•°æ®ï¼Œè¯·è°¨æ…ä½¿ç”¨
```

### æ¡ä»¶æ³¨é‡Š

**è§„åˆ™**ï¼šå¯¹å¤æ‚æ¡ä»¶æ·»åŠ æ³¨é‡Šè¯´æ˜

```tsx
// åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™ï¼ˆè¶…çº§ç®¡ç†å‘˜æˆ–ç§Ÿæˆ·ç®¡ç†å‘˜ï¼‰
if (user.isSuperuser || (user.tenantId === currentTenantId && user.isAdmin)) {
  // æ˜¾ç¤ºç®¡ç†åŠŸèƒ½
}

// åˆ¤æ–­è®¢å•çŠ¶æ€æ˜¯å¦å…è®¸ç¼–è¾‘ï¼ˆå¾…å®¡æ ¸æˆ–å¾…ç”Ÿäº§çŠ¶æ€ï¼‰
const canEdit = order.status === 'pending' || order.status === 'reviewing';
```

## ğŸ“ æ³¨é‡Šæ¨¡æ¿

### Python ç±»æ¨¡æ¿

```python
class ClassName:
    """
    ç±»è¯´æ˜
    
    è¯¦ç»†æè¿°ç±»çš„ç”¨é€”å’ŒåŠŸèƒ½ã€‚
    
    Attributes:
        attr1: å±æ€§1è¯´æ˜
        attr2: å±æ€§2è¯´æ˜
        
    Example:
        >>> obj = ClassName()
        >>> obj.method()
    """
```

### Python å‡½æ•°æ¨¡æ¿

```python
async def function_name(
    param1: type1,
    param2: type2 = default_value
) -> ReturnType:
    """
    å‡½æ•°è¯´æ˜
    
    è¯¦ç»†æè¿°å‡½æ•°çš„ç”¨é€”å’ŒåŠŸèƒ½ã€‚
    
    Args:
        param1: å‚æ•°1è¯´æ˜
        param2: å‚æ•°2è¯´æ˜ï¼ˆå¯é€‰ï¼‰
        
    Returns:
        ReturnType: è¿”å›å€¼è¯´æ˜
        
    Raises:
        ExceptionType: å¼‚å¸¸è¯´æ˜
        
    Example:
        >>> result = await function_name(value1, value2)
        >>> print(result)
    """
```

### TypeScript å‡½æ•°æ¨¡æ¿

```typescript
/**
 * å‡½æ•°è¯´æ˜
 * 
 * è¯¦ç»†æè¿°å‡½æ•°çš„ç”¨é€”å’ŒåŠŸèƒ½ã€‚
 * 
 * @param param1 - å‚æ•°1è¯´æ˜
 * @param param2 - å‚æ•°2è¯´æ˜ï¼ˆå¯é€‰ï¼‰
 * @returns è¿”å›å€¼è¯´æ˜
 * 
 * @example
 * ```typescript
 * const result = functionName(value1, value2);
 * console.log(result);
 * ```
 * 
 * @throws {Error} å¼‚å¸¸è¯´æ˜
 */
export function functionName(
  param1: Type1,
  param2?: Type2
): ReturnType {
  // ...
}
```

### React ç»„ä»¶æ¨¡æ¿

```tsx
/**
 * ç»„ä»¶è¯´æ˜
 * 
 * è¯¦ç»†æè¿°ç»„ä»¶çš„ç”¨é€”å’ŒåŠŸèƒ½ã€‚
 * 
 * @param props - ç»„ä»¶å±æ€§
 * @param props.prop1 - å±æ€§1è¯´æ˜
 * @param props.prop2 - å±æ€§2è¯´æ˜ï¼ˆå¯é€‰ï¼‰
 * 
 * @example
 * ```tsx
 * <ComponentName
 *   prop1={value1}
 *   prop2={value2}
 * />
 * ```
 */
interface ComponentNameProps {
  prop1: Type1;
  prop2?: Type2;
}

export default function ComponentName({
  prop1,
  prop2,
}: ComponentNameProps) {
  // ...
}
```

## âœ… æ³¨é‡Šæ£€æŸ¥æ¸…å•

### ä»£ç å®¡æŸ¥æ—¶æ£€æŸ¥

- [ ] æ‰€æœ‰å…¬å…±ç±»æ˜¯å¦æœ‰æ³¨é‡Šï¼Ÿ
- [ ] æ‰€æœ‰å…¬å…±å‡½æ•°æ˜¯å¦æœ‰æ³¨é‡Šï¼Ÿ
- [ ] å¤æ‚é€»è¾‘æ˜¯å¦æœ‰æ³¨é‡Šï¼Ÿ
- [ ] å‚æ•°å’Œè¿”å›å€¼æ˜¯å¦æœ‰è¯´æ˜ï¼Ÿ
- [ ] å¼‚å¸¸æƒ…å†µæ˜¯å¦æœ‰è¯´æ˜ï¼Ÿ
- [ ] æ˜¯å¦æœ‰ä½¿ç”¨ç¤ºä¾‹ï¼Ÿ
- [ ] æ³¨é‡Šæ˜¯å¦ä¸ä»£ç åŒæ­¥æ›´æ–°ï¼Ÿ
- [ ] æ³¨é‡Šæ˜¯å¦æ¸…æ™°ã€å‡†ç¡®ï¼Ÿ

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [2.å­—æ®µå‘½åè§„èŒƒ.md](./2.å­—æ®µå‘½åè§„èŒƒ.md) - å‘½åè§„èŒƒ
- [3.æ•°æ®åº“å‘½åè§„èŒƒ.md](./3.æ•°æ®åº“å‘½åè§„èŒƒ.md) - æ•°æ®åº“å‘½åè§„èŒƒ

