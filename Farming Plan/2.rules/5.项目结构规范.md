# RiverEdge SaaS å¤šç§Ÿæˆ·æ¡†æ¶ - é¡¹ç›®ç»“æ„è§„èŒƒ

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰ **RiverEdge SaaS å¤šç§Ÿæˆ·æ¡†æ¶ (RiverEdge SaaS Multi-tenant Framework)** çš„**ç»Ÿä¸€é¡¹ç›®ç»“æ„è§„èŒƒ**ï¼Œç¡®ä¿é¡¹ç›®ç»„ç»‡æ¸…æ™°ã€æ¨¡å—åˆ’åˆ†æ˜ç¡®ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

**åˆ›å»ºæ—¥æœŸ**ï¼š2025-11-17

## ğŸ¯ è®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ–**ï¼šæŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç ï¼ŒèŒè´£æ¸…æ™°
2. **åˆ†å±‚æ¶æ„**ï¼šAPIã€Serviceã€Modelã€Schema åˆ†å±‚æ¸…æ™°
3. **çº¦å®šä¼˜äºé…ç½®**ï¼šç»Ÿä¸€çš„ç›®å½•ç»“æ„ï¼Œå‡å°‘é…ç½®
4. **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ’ä»¶åŒ–æ‰©å±•ï¼Œç»“æ„çµæ´»
5. **å¤šç§Ÿæˆ·ä¼˜å…ˆ**ï¼šæ‰€æœ‰æ¨¡å—ä»è®¾è®¡ä¹‹åˆå°±è€ƒè™‘å¤šç§Ÿæˆ·éš”ç¦»
6. **ç»å¯¹ç¦æ­¢ PowerShell**ï¼šå…¨ç¨‹ä¸¥ç¦ä½¿ç”¨ PowerShell è¿›è¡Œä»»ä½•æ“ä½œ â­ **é‡è¦**

## ğŸ“ æ ¹ç›®å½•ç»“æ„

```
riveredge/
â”œâ”€â”€ riveredge-core/          # åç«¯æ ¸å¿ƒç³»ç»Ÿï¼ˆæ ¹ï¼‰
â”œâ”€â”€ riveredge-shell/         # å‰ç«¯åŸºç¡€æ¡†æ¶ï¼ˆå£³ï¼‰
â”œâ”€â”€ riveredge-seeds/         # åº”ç”¨æ’ä»¶é›†åˆï¼ˆç§å­ï¼‰
â”œâ”€â”€ riveredge-land/          # ç€é™†é¡µ/å®˜ç½‘ï¼ˆåœŸåœ°ï¼‰
â”œâ”€â”€ riveredge-leaf/          # ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆå¶å­ï¼‰
â””â”€â”€ Farming Plan/            # å¼€å‘è®¡åˆ’å’Œè®¾è®¡è§„èŒƒ
```

## ğŸ”§ riveredge-coreï¼ˆåç«¯æ ¸å¿ƒç³»ç»Ÿï¼‰

### æ ‡å‡†ç›®å½•ç»“æ„

```
riveredge-core/
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ app/                  # FastAPI åº”ç”¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py           # FastAPI åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ config.py         # åº”ç”¨é…ç½®ï¼ˆPydantic Settingsï¼‰
â”‚   â”‚   â”œâ”€â”€ dependencies.py   # ä¾èµ–æ³¨å…¥ï¼ˆè·å–å½“å‰ç”¨æˆ·ã€ç§Ÿæˆ·ç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ middleware.py     # ä¸­é—´ä»¶é…ç½®ï¼ˆCORSã€å¼‚å¸¸å¤„ç†ç­‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                  # API è·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ deps.py           # API ä¾èµ–ï¼ˆè®¤è¯ã€æƒé™æ£€æŸ¥ç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ v1/               # API ç‰ˆæœ¬ 1
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ auth.py       # è®¤è¯æˆæƒ API
â”‚   â”‚       â”œâ”€â”€ users.py      # ç”¨æˆ·ç®¡ç† API
â”‚   â”‚       â”œâ”€â”€ roles.py      # è§’è‰²æƒé™ API
â”‚   â”‚       â”œâ”€â”€ tenants.py    # ç§Ÿæˆ·ç®¡ç† API
â”‚   â”‚       â”œâ”€â”€ plugins.py     # æ’ä»¶ç®¡ç† API
â”‚   â”‚       â””â”€â”€ system.py     # ç³»ç»Ÿè®¾ç½® API
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py           # åŸºç¡€ç±»ï¼ˆBaseModelã€BaseService ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ security.py       # å®‰å…¨ç›¸å…³ï¼ˆJWTã€å¯†ç åŠ å¯†ï¼‰
â”‚   â”‚   â”œâ”€â”€ config.py         # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ database.py       # æ•°æ®åº“è¿æ¥å’Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ cache.py          # Redis ç¼“å­˜å·¥å…·
â”‚   â”‚   â”œâ”€â”€ response.py       # ç»Ÿä¸€å“åº”å°è£…
â”‚   â”‚   â”œâ”€â”€ exceptions.py     # è‡ªå®šä¹‰å¼‚å¸¸ç±»
â”‚   â”‚   â”œâ”€â”€ query.py          # æŸ¥è¯¢å¢å¼ºç»„ä»¶
â”‚   â”‚   â””â”€â”€ plugin_loader.py  # æ’ä»¶åŠ è½½å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹ï¼ˆTortoise ORMï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py           # åŸºç¡€æ¨¡å‹ï¼ˆåŒ…å« tenant_idï¼‰
â”‚   â”‚   â”œâ”€â”€ user.py           # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ role.py           # è§’è‰²æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ tenant.py         # ç§Ÿæˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ plugin.py         # æ’ä»¶æ¨¡å‹
â”‚   â”‚   â””â”€â”€ system.py         # ç³»ç»Ÿé…ç½®æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/              # Pydantic Schemaï¼ˆæ•°æ®éªŒè¯ï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py           # ç”¨æˆ· Schemaï¼ˆCreateã€Updateã€Responseï¼‰
â”‚   â”‚   â”œâ”€â”€ role.py           # è§’è‰² Schema
â”‚   â”‚   â”œâ”€â”€ tenant.py         # ç§Ÿæˆ· Schema
â”‚   â”‚   â”œâ”€â”€ plugin.py         # æ’ä»¶ Schema
â”‚   â”‚   â””â”€â”€ common.py         # é€šç”¨ Schemaï¼ˆåˆ†é¡µã€å“åº”ç­‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py           # åŸºç¡€æœåŠ¡ç±»ï¼ˆåŒ…å«ç§Ÿæˆ·è¿‡æ»¤ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth_service.py   # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ user_service.py   # ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ role_service.py   # è§’è‰²æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ tenant_service.py # ç§Ÿæˆ·æœåŠ¡
â”‚   â”‚   â””â”€â”€ plugin_service.py # æ’ä»¶æœåŠ¡
â”‚   â”‚
â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ logger.py         # æ—¥å¿—å·¥å…·ï¼ˆloguruï¼‰
â”‚       â”œâ”€â”€ password.py        # å¯†ç åŠ å¯†å·¥å…·
â”‚       â””â”€â”€ helpers.py        # è¾…åŠ©å‡½æ•°
â”‚
â”œâ”€â”€ migrations/               # Aerich æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ models.py            # æ¨¡å‹å®šä¹‰ï¼ˆAerich è‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â””â”€â”€ versions/            # è¿ç§»ç‰ˆæœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ tests/                   # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py          # pytest é…ç½®å’Œ fixtures
â”‚   â”œâ”€â”€ test_api/            # API æµ‹è¯•
â”‚   â”œâ”€â”€ test_services/       # Service æµ‹è¯•
â”‚   â””â”€â”€ test_models/         # Model æµ‹è¯•
â”‚
â”œâ”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore               # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ requirements.txt         # Python ä¾èµ–
â”œâ”€â”€ requirements-dev.txt     # å¼€å‘ä¾èµ–
â”œâ”€â”€ pyproject.toml           # é¡¹ç›®é…ç½®ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜
â””â”€â”€ alembic.ini              # Aerich é…ç½®ï¼ˆå¯é€‰ï¼‰
```

### ç›®å½•è¯´æ˜

#### `src/app/` - åº”ç”¨é…ç½®

**èŒè´£**ï¼šFastAPI åº”ç”¨åˆå§‹åŒ–ã€é…ç½®ã€ä¸­é—´ä»¶

**æ–‡ä»¶è¯´æ˜**ï¼š
- `main.py`: FastAPI åº”ç”¨å…¥å£ï¼Œæ³¨å†Œè·¯ç”±ã€ä¸­é—´ä»¶
- `config.py`: ä½¿ç”¨ Pydantic Settings ç®¡ç†é…ç½®
- `dependencies.py`: FastAPI ä¾èµ–æ³¨å…¥ï¼ˆè·å–å½“å‰ç”¨æˆ·ã€ç§Ÿæˆ·ç­‰ï¼‰
- `middleware.py`: ä¸­é—´ä»¶é…ç½®ï¼ˆCORSã€å¼‚å¸¸å¤„ç†ã€æ—¥å¿—ç­‰ï¼‰

#### `src/api/` - API è·¯ç”±å±‚

**èŒè´£**ï¼šå®šä¹‰ API è·¯ç”±ï¼Œå¤„ç† HTTP è¯·æ±‚

**æ–‡ä»¶è¯´æ˜**ï¼š
- `deps.py`: API ä¾èµ–ï¼ˆè®¤è¯ã€æƒé™æ£€æŸ¥ã€è·å–å½“å‰ç”¨æˆ·ç­‰ï¼‰
- `v1/`: API ç‰ˆæœ¬ 1 çš„è·¯ç”±æ–‡ä»¶
  - æ¯ä¸ªèµ„æºä¸€ä¸ªæ–‡ä»¶ï¼ˆå¦‚ `users.py`ã€`roles.py`ï¼‰
  - ä½¿ç”¨ FastAPI Router ç»„ç»‡è·¯ç”±

**å‘½åè§„èŒƒ**ï¼š
- API æ–‡ä»¶ä½¿ç”¨å¤æ•°å½¢å¼ï¼ˆ`users.py`ã€`roles.py`ï¼‰
- è·¯ç”±å‡½æ•°ä½¿ç”¨ `snake_case`ï¼ˆ`get_users`ã€`create_user`ï¼‰

#### `src/core/` - æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

**èŒè´£**ï¼šæä¾›æ ¸å¿ƒåŠŸèƒ½ï¼Œä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨

**æ–‡ä»¶è¯´æ˜**ï¼š
- `base.py`: åŸºç¡€ç±»ï¼ˆBaseModelã€BaseService ç­‰ï¼‰
- `security.py`: å®‰å…¨ç›¸å…³ï¼ˆJWT Token ç”Ÿæˆ/éªŒè¯ã€å¯†ç åŠ å¯†ï¼‰
- `database.py`: æ•°æ®åº“è¿æ¥å’Œé…ç½®ï¼ˆTortoise ORMï¼‰
- `cache.py`: Redis ç¼“å­˜å·¥å…·ç±»
- `response.py`: ç»Ÿä¸€å“åº”å°è£…ï¼ˆResponseModelã€PageResponse ç­‰ï¼‰
- `exceptions.py`: è‡ªå®šä¹‰å¼‚å¸¸ç±»
- `query.py`: æŸ¥è¯¢å¢å¼ºç»„ä»¶ï¼ˆåˆ†é¡µã€æ’åºã€ç­›é€‰ï¼‰
- `plugin_loader.py`: æ’ä»¶åŠ è½½å™¨

#### `src/models/` - æ•°æ®æ¨¡å‹

**èŒè´£**ï¼šå®šä¹‰æ•°æ®åº“æ¨¡å‹ï¼ˆTortoise ORMï¼‰

**æ–‡ä»¶è¯´æ˜**ï¼š
- `base.py`: åŸºç¡€æ¨¡å‹ï¼ˆåŒ…å« `id`ã€`created_at`ã€`updated_at`ã€`tenant_id`ï¼‰
- æ¯ä¸ªä¸šåŠ¡å®ä½“ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¦‚ `user.py`ã€`role.py`ï¼‰

**å‘½åè§„èŒƒ**ï¼š
- æ¨¡å‹æ–‡ä»¶ä½¿ç”¨å•æ•°å½¢å¼ï¼ˆ`user.py`ã€`role.py`ï¼‰
- æ¨¡å‹ç±»ä½¿ç”¨ `PascalCase`ï¼ˆ`User`ã€`Role`ï¼‰

#### `src/schemas/` - æ•°æ®éªŒè¯

**èŒè´£**ï¼šå®šä¹‰ Pydantic Schemaï¼Œç”¨äºè¯·æ±‚/å“åº”æ•°æ®éªŒè¯

**æ–‡ä»¶è¯´æ˜**ï¼š
- æ¯ä¸ªä¸šåŠ¡å®ä½“ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¦‚ `user.py`ã€`role.py`ï¼‰
- æ¯ä¸ªæ–‡ä»¶åŒ…å«å¤šä¸ª Schema ç±»ï¼š
  - `XxxCreate`: åˆ›å»ºè¯·æ±‚ Schema
  - `XxxUpdate`: æ›´æ–°è¯·æ±‚ Schema
  - `XxxResponse`: å“åº” Schema
  - `XxxListResponse`: åˆ—è¡¨å“åº” Schema

**å‘½åè§„èŒƒ**ï¼š
- Schema æ–‡ä»¶ä½¿ç”¨å•æ•°å½¢å¼ï¼ˆ`user.py`ã€`role.py`ï¼‰
- Schema ç±»ä½¿ç”¨ `PascalCase`ï¼ˆ`UserCreate`ã€`UserUpdate`ï¼‰

#### `src/services/` - ä¸šåŠ¡é€»è¾‘å±‚

**èŒè´£**ï¼šå®ç°ä¸šåŠ¡é€»è¾‘ï¼Œå¤„ç†æ•°æ®æ“ä½œ

**æ–‡ä»¶è¯´æ˜**ï¼š
- `base.py`: åŸºç¡€æœåŠ¡ç±»ï¼ˆåŒ…å«ç§Ÿæˆ·è¿‡æ»¤ã€CRUD æ–¹æ³•ï¼‰
- æ¯ä¸ªä¸šåŠ¡å®ä½“ä¸€ä¸ªæœåŠ¡æ–‡ä»¶ï¼ˆå¦‚ `user_service.py`ã€`role_service.py`ï¼‰

**å‘½åè§„èŒƒ**ï¼š
- æœåŠ¡æ–‡ä»¶ä½¿ç”¨ `snake_case` + `_service` åç¼€ï¼ˆ`user_service.py`ï¼‰
- æœåŠ¡ç±»ä½¿ç”¨ `PascalCase` + `Service` åç¼€ï¼ˆ`UserService`ï¼‰

#### `src/utils/` - å·¥å…·å‡½æ•°

**èŒè´£**ï¼šæä¾›é€šç”¨å·¥å…·å‡½æ•°

**æ–‡ä»¶è¯´æ˜**ï¼š
- `logger.py`: æ—¥å¿—å·¥å…·ï¼ˆloguru é…ç½®ï¼‰
- `password.py`: å¯†ç åŠ å¯†å·¥å…·
- `helpers.py`: è¾…åŠ©å‡½æ•°

## ğŸ¨ riveredge-shellï¼ˆå‰ç«¯åŸºç¡€æ¡†æ¶ï¼‰

### æ ‡å‡†ç›®å½•ç»“æ„

```
riveredge-shell/
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ pages/                # é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ user/             # ç”¨æˆ·ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx     # ç”¨æˆ·åˆ—è¡¨é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ components/   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ role/             # è§’è‰²ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ tenant/            # ç§Ÿæˆ·ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ system/            # ç³»ç»Ÿè®¾ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ login/             # ç™»å½•é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Table/             # è¡¨æ ¼ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Form/              # è¡¨å•ç»„ä»¶
â”‚   â”‚   â””â”€â”€ common/           # é€šç”¨ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ services/             # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.ts             # API åŸºç¡€é…ç½®ï¼ˆUmi Requestï¼‰
â”‚   â”‚   â”œâ”€â”€ userService.ts     # ç”¨æˆ· API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ roleService.ts     # è§’è‰² API æœåŠ¡
â”‚   â”‚   â””â”€â”€ tenantService.ts   # ç§Ÿæˆ· API æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ models/               # Umi Modelï¼ˆæ•°æ®æµï¼‰
â”‚   â”‚   â”œâ”€â”€ user.ts            # ç”¨æˆ·çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ global.ts          # å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ plugin.ts          # æ’ä»¶çŠ¶æ€ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts         # è¯·æ±‚å·¥å…·ï¼ˆUmi Request é…ç½®ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯å·¥å…·ï¼ˆToken ç®¡ç†ï¼‰
â”‚   â”‚   â””â”€â”€ helpers.ts         # è¾…åŠ©å‡½æ•°
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ api.ts             # API ç±»å‹
â”‚   â”‚   â”œâ”€â”€ user.ts             # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â””â”€â”€ common.ts          # é€šç”¨ç±»å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ locales/              # å›½é™…åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ zh-CN/             # ä¸­æ–‡
â”‚   â”‚   â””â”€â”€ en-US/             # è‹±æ–‡
â”‚   â”‚
â”‚   â”œâ”€â”€ access.ts              # æƒé™å®šä¹‰ï¼ˆ@umijs/plugin-accessï¼‰
â”‚   â”œâ”€â”€ app.tsx                # åº”ç”¨å…¥å£ï¼ˆUmi é…ç½®ï¼‰
â”‚   â””â”€â”€ global.less            # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ logo.png
â”‚
â”œâ”€â”€ .umirc.ts                 # Umi é…ç½®æ–‡ä»¶
â”œâ”€â”€ .eslintrc.js               # ESLint é…ç½®
â”œâ”€â”€ .prettierrc                # Prettier é…ç½®
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â””â”€â”€ README.md
```

### ç›®å½•è¯´æ˜

#### `src/pages/` - é¡µé¢ç›®å½•

**èŒè´£**ï¼šå®šä¹‰é¡µé¢ç»„ä»¶å’Œè·¯ç”±

**æ–‡ä»¶è¯´æ˜**ï¼š
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—ä¸€ä¸ªç›®å½•ï¼ˆå¦‚ `user/`ã€`role/`ï¼‰
- æ¯ä¸ªç›®å½•åŒ…å«ï¼š
  - `index.tsx`: ä¸»é¡µé¢ç»„ä»¶
  - `components/`: é¡µé¢ä¸“ç”¨ç»„ä»¶

**å‘½åè§„èŒƒ**ï¼š
- ç›®å½•ä½¿ç”¨ `snake_case`ï¼ˆ`user/`ã€`role/`ï¼‰
- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨ `PascalCase`ï¼ˆ`UserList.tsx`ï¼‰

#### `src/components/` - å…¬å…±ç»„ä»¶

**èŒè´£**ï¼šå¯å¤ç”¨çš„ UI ç»„ä»¶

**æ–‡ä»¶è¯´æ˜**ï¼š
- `Layout/`: å¸ƒå±€ç»„ä»¶ï¼ˆHeaderã€Sidebarã€Footer ç­‰ï¼‰
- `Table/`: è¡¨æ ¼ç»„ä»¶ï¼ˆåŸºäº ProTableï¼‰
- `Form/`: è¡¨å•ç»„ä»¶ï¼ˆåŸºäº ProFormï¼‰
- `common/`: é€šç”¨ç»„ä»¶ï¼ˆButtonã€Modal ç­‰ï¼‰

#### `src/services/` - API æœåŠ¡

**èŒè´£**ï¼šå°è£… API è°ƒç”¨

**æ–‡ä»¶è¯´æ˜**ï¼š
- `api.ts`: Umi Request åŸºç¡€é…ç½®ï¼ˆæ‹¦æˆªå™¨ã€é”™è¯¯å¤„ç†ï¼‰
- æ¯ä¸ªèµ„æºä¸€ä¸ªæœåŠ¡æ–‡ä»¶ï¼ˆå¦‚ `userService.ts`ã€`roleService.ts`ï¼‰

**å‘½åè§„èŒƒ**ï¼š
- æœåŠ¡æ–‡ä»¶ä½¿ç”¨ `camelCase` + `Service` åç¼€ï¼ˆ`userService.ts`ï¼‰
- æœåŠ¡å‡½æ•°ä½¿ç”¨ `camelCase`ï¼ˆ`getUserList`ã€`createUser`ï¼‰

#### `src/models/` - æ•°æ®æµ

**èŒè´£**ï¼šä½¿ç”¨ Umi Model ç®¡ç†å…¨å±€çŠ¶æ€

**æ–‡ä»¶è¯´æ˜**ï¼š
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—ä¸€ä¸ªæ–‡ä»¶ï¼ˆå¦‚ `user.ts`ã€`global.ts`ï¼‰
- ä½¿ç”¨ `useModel` Hook è®¿é—®çŠ¶æ€

#### `src/types/` - ç±»å‹å®šä¹‰

**èŒè´£**ï¼šå®šä¹‰ TypeScript ç±»å‹

**æ–‡ä»¶è¯´æ˜**ï¼š
- `api.ts`: API å“åº”ç±»å‹ï¼ˆResponseModelã€PageResponse ç­‰ï¼‰
- æ¯ä¸ªä¸šåŠ¡å®ä½“ä¸€ä¸ªç±»å‹æ–‡ä»¶ï¼ˆå¦‚ `user.ts`ã€`role.ts`ï¼‰

## ğŸŒ± riveredge-seedsï¼ˆåº”ç”¨æ’ä»¶é›†åˆï¼‰

### æ ‡å‡†ç›®å½•ç»“æ„

```
riveredge-seeds/
â”œâ”€â”€ seed-example/             # ç¤ºä¾‹æ’ä»¶
â”‚   â”œâ”€â”€ frontend/             # å‰ç«¯ä»£ç 
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts      # å‰ç«¯æ’ä»¶å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.ts     # å‰ç«¯è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ components/  # å‰ç«¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ backend/              # åç«¯ä»£ç 
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ plugin.py     # åç«¯æ’ä»¶å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ routes.py # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ example.py # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ example.py # Pydantic Schema
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â””â”€â”€ example.py # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â”‚
â”‚   â”œâ”€â”€ manifest.json         # æ’ä»¶æ¸…å•ï¼ˆå¿…éœ€ï¼‰
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ README.md                 # æ’ä»¶é›†åˆè¯´æ˜
```

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒï¼š[æ’ä»¶ç›®å½•ç»“æ„è¯´æ˜.md](../4.branch/æ’ä»¶ç›®å½•ç»“æ„è¯´æ˜.md)

## ğŸ“‹ æ–‡ä»¶å‘½åè§„èŒƒ

### åç«¯æ–‡ä»¶å‘½å

- **Python æ–‡ä»¶**: `snake_case`ï¼ˆ`user_service.py`ã€`auth_api.py`ï¼‰
- **æ¨¡å‹æ–‡ä»¶**: å•æ•°å½¢å¼ï¼ˆ`user.py`ã€`role.py`ï¼‰
- **API æ–‡ä»¶**: å¤æ•°å½¢å¼ï¼ˆ`users.py`ã€`roles.py`ï¼‰
- **æœåŠ¡æ–‡ä»¶**: `snake_case` + `_service` åç¼€ï¼ˆ`user_service.py`ï¼‰

### å‰ç«¯æ–‡ä»¶å‘½å

- **TypeScript æ–‡ä»¶**: `camelCase` æˆ– `PascalCase`
  - ç»„ä»¶æ–‡ä»¶: `PascalCase`ï¼ˆ`UserList.tsx`ï¼‰
  - å·¥å…·æ–‡ä»¶: `camelCase`ï¼ˆ`userService.ts`ï¼‰
- **ç›®å½•**: `snake_case`ï¼ˆ`user/`ã€`role/`ï¼‰

## âœ… æ£€æŸ¥æ¸…å•

åˆ›å»ºæ–°æ¨¡å—æ—¶ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] ç›®å½•ç»“æ„ç¬¦åˆè§„èŒƒ
- [ ] æ–‡ä»¶å‘½åç¬¦åˆè§„èŒƒ
- [ ] æ¨¡å—èŒè´£æ¸…æ™°ï¼Œå•ä¸€èŒè´£åŸåˆ™
- [ ] å¤šç§Ÿæˆ·éš”ç¦»å·²è€ƒè™‘ï¼ˆåç«¯æ¨¡å‹åŒ…å« `tenant_id`ï¼‰
- [ ] ç±»å‹å®šä¹‰å®Œæ•´ï¼ˆTypeScript ç±»å‹ã€Pydantic Schemaï¼‰
- [ ] æ³¨é‡Šå®Œæ•´ï¼ˆå‚è€ƒ [4.æ³¨é‡Šè§„èŒƒ.md](./4.æ³¨é‡Šè§„èŒƒ.md)ï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [1.æ¡†æ¶å‘½åå“²å­¦.md](./1.æ¡†æ¶å‘½åå“²å­¦.md) - å‘½åå“²å­¦
- [2.å­—æ®µå‘½åè§„èŒƒ.md](./2.å­—æ®µå‘½åè§„èŒƒ.md) - å‘½åè§„èŒƒ
- [4.æ³¨é‡Šè§„èŒƒ.md](./4.æ³¨é‡Šè§„èŒƒ.md) - æ³¨é‡Šè§„èŒƒ
- [6.APIè®¾è®¡è§„èŒƒ.md](./6.APIè®¾è®¡è§„èŒƒ.md) - API è®¾è®¡è§„èŒƒ
- [2.æ¶æ„è®¾è®¡æ–‡æ¡£.md](../1.plan/2.æ¶æ„è®¾è®¡æ–‡æ¡£.md) - æ¶æ„è®¾è®¡
- [æ’ä»¶ç›®å½•ç»“æ„è¯´æ˜.md](../4.branch/æ’ä»¶ç›®å½•ç»“æ„è¯´æ˜.md) - æ’ä»¶ç›®å½•ç»“æ„

---

**æœ€åæ›´æ–°**ï¼š2025-11-17

