# 模块2：基础数据配置阶段

## 📋 模块概述

**目标：** 完成基础数据的主数据配置  
**优先级：** ⭐⭐⭐⭐⭐（最高）  
**开发阶段：** 第一阶段  
**预计时间：** 第2-3天

---

## 场景2.1：组织架构配置

### 基础流程

**目标：** 完成部门和员工的基础配置

**用户操作：**
1. 进入"系统管理" → "部门管理"
2. 创建部门（支持树形结构）：
   ```
   公司总部
   ├── 生产部
   ├── 质量部
   ├── 仓储部
   ├── 采购部
   └── 销售部
   ```
3. 进入"系统管理" → "员工管理"
4. 创建员工账号（手动创建）：
   - 生产管理员（张三）
   - 车间工人（李四、王五）
   - 仓库管理员（赵六）
   - 质量管理员（孙七）
   - 财务人员（周八）
5. 分配员工到对应部门
6. 设置员工角色和权限（基础角色分配）

**系统行为：**
- ✅ 创建部门树形结构
- ✅ 创建员工账号（支持批量创建）
- ✅ 分配部门关系
- ✅ 分配角色和权限（基础角色）

**验收标准：**
- ✅ 部门树形结构创建成功
- ✅ 员工账号创建成功
- ✅ 员工分配到对应部门成功
- ✅ 角色和权限分配成功

---

### 体验改进流程

**目标：** 优化组织架构配置体验

**功能点：**
- ✅ 部门批量导入（Excel批量导入）
- ✅ 员工批量导入（Excel批量导入）
- ✅ 部门树形拖拽调整（可视化拖拽）
- ✅ 员工信息完善（头像、联系方式、工号等）
- ✅ 角色权限可视化配置（权限树形选择）
- ✅ 组织架构图可视化展示（组织架构图）
- ✅ 部门负责人设置（负责人关联）

**验收标准：**
- ✅ Excel批量导入功能可用
- ✅ 部门拖拽调整功能可用
- ✅ 员工信息完善功能可用
- ✅ 角色权限可视化配置可用
- ✅ 组织架构图展示正常
- ✅ 部门负责人设置功能可用

---

## 场景2.2：工厂建模配置（主数据管理APP）

### 基础流程

**目标：** 完成车间和工作中心的基础配置

**用户操作：**
1. 进入"主数据管理" → "工厂建模" → "车间设置"
2. 创建车间（手动创建）：
   - 车间1：注塑车间
   - 车间2：组装车间
   - 车间3：包装车间
3. 进入"主数据管理" → "工厂建模" → "工作中心"
4. 创建工作中心（手动创建）：
   - 注塑车间：注塑机1（工作中心001）、注塑机2（工作中心002）
   - 组装车间：组装线1（工作中心003）、组装线2（工作中心004）
   - 包装车间：包装线1（工作中心005）

**系统行为：**
- ✅ 创建车间数据
- ✅ 创建工作中心数据
- ✅ 建立车间-工作中心关联关系

**验收标准：**
- ✅ 车间创建成功
- ✅ 工作中心创建成功
- ✅ 车间-工作中心关联关系建立成功

---

### 体验改进流程

**目标：** 优化工厂建模配置体验

**功能点：**
- ✅ 车间批量导入（Excel批量导入）
- ✅ 工作中心批量导入（Excel批量导入）
- ✅ 车间-工作中心关联关系可视化配置（关联图）
- ✅ 工作中心能力参数配置（产能、效率等）
- ✅ 工作中心状态管理（启用/停用）
- ✅ 车间平面图上传（可视化展示）

**验收标准：**
- ✅ Excel批量导入功能可用
- ✅ 关联关系可视化配置可用
- ✅ 工作中心能力参数配置可用
- ✅ 工作中心状态管理可用
- ✅ 车间平面图上传功能可用

---

## 场景2.3：物料主数据配置（主数据管理APP）

### 基础流程

**目标：** 完成物料和BOM的基础配置

**用户操作：**
1. 进入"主数据管理" → "产品管理" → "物料主数据"
2. 创建物料（手动创建，支持批量创建）：
   - **原材料：** 塑料颗粒A（编码：RAW001）、塑料颗粒B（编码：RAW002）、螺丝（编码：RAW003）
   - **半成品：** 注塑件A（编码：SEMI001）、注塑件B（编码：SEMI002）
   - **成品：** 产品A（编码：FIN001）、产品B（编码：FIN002）
3. 配置物料属性（基础字段）：
   - 物料名称、规格、单位
   - 物料类型（原材料/半成品/成品）
   - 默认仓库
4. 进入"主数据管理" → "产品管理" → "BOM管理"
5. 创建BOM（手动创建，支持树形结构）：
   - **产品A的BOM：**
     ```
     产品A（1个）
     ├── 注塑件A（2个）
     ├── 注塑件B（1个）
     └── 螺丝（4个）
     ```
   - **产品B的BOM：**
     ```
     产品B（1个）
     ├── 注塑件A（1个）
     └── 螺丝（2个）
     ```

**系统行为：**
- ✅ 创建物料数据（支持批量创建）
- ✅ 创建BOM数据（支持多层级BOM）
- ✅ 验证物料数据完整性（基础验证）
- ✅ 验证BOM数据完整性（父子件关系验证）

**验收标准：**
- ✅ 物料数据创建成功（支持批量创建）
- ✅ BOM数据创建成功（多层级BOM）
- ✅ 物料数据验证通过
- ✅ BOM数据验证通过（多层级BOM展开正常）

---

### 体验改进流程

**目标：** 优化物料主数据配置体验

**功能点：**
- ✅ 物料批量导入（Excel批量导入，支持模板下载）
- ✅ BOM批量导入（Excel批量导入，支持模板下载）
- ✅ BOM可视化编辑器（拖拽式BOM编辑）
- ✅ BOM多层级展开查看（BOM树形展示）
- ✅ 物料属性完善（安全库存、采购周期、生产周期等）
- ✅ 物料图片上传（物料图片管理）
- ✅ BOM版本管理（BOM版本控制）
- ✅ 物料替代关系配置（物料替代）
- ✅ Excel数据验证（导入时数据校验和错误提示）

**验收标准：**
- ✅ Excel批量导入功能可用（支持模板下载）
- ✅ BOM可视化编辑器可用
- ✅ BOM多层级展开查看正常
- ✅ 物料属性完善功能可用
- ✅ 物料图片上传功能可用
- ✅ BOM版本管理可用
- ✅ 物料替代关系配置可用
- ✅ Excel数据验证和错误提示正常

---

## 场景2.4：仓库配置（主数据管理APP）

### 基础流程

**目标：** 完成仓库的基础配置

**用户操作：**
1. 进入"主数据管理" → "仓库管理" → "仓库设置"
2. 创建仓库（手动创建）：
   - 原材料仓库（编码：WH001）
   - 半成品仓库（编码：WH002）
   - 成品仓库（编码：WH003）

**系统行为：**
- ✅ 创建仓库数据

**验收标准：**
- ✅ 仓库创建成功

---

### 体验改进流程

**目标：** 完善仓库配置功能

**功能点：**
- ✅ 库区配置（库区管理，如A区、B区）
- ✅ 库位配置（库位管理，如A01、A02）
- ✅ 仓库批量导入（Excel批量导入）
- ✅ 仓库负责人设置（负责人关联）
- ✅ 仓库状态管理（启用/停用）
- ✅ 仓库地址信息配置（地址、联系方式）

**验收标准：**
- ✅ 库区配置功能可用
- ✅ 库位配置功能可用
- ✅ Excel批量导入功能可用
- ✅ 仓库负责人设置可用
- ✅ 仓库状态管理可用
- ✅ 仓库地址信息配置可用

---

## 场景2.5：供应链主数据配置（主数据管理APP）

### 基础流程

**目标：** 完成供应商和客户的基础配置

**用户操作：**
1. 进入"主数据管理" → "供应链主数据" → "供应商管理"
2. 创建供应商（手动创建）：
   - 供应商A（编码：SUP001）- 塑料颗粒供应商
   - 供应商B（编码：SUP002）- 螺丝供应商
3. 进入"主数据管理" → "供应链主数据" → "客户管理"
4. 创建客户（手动创建）：
   - 客户A（编码：CUS001）
   - 客户B（编码：CUS002）

**系统行为：**
- ✅ 创建供应商数据
- ✅ 创建客户数据

**验收标准：**
- ✅ 供应商数据创建成功
- ✅ 客户数据创建成功

---

### 体验改进流程

**目标：** 优化供应链主数据配置体验

**功能点：**
- ✅ 供应商批量导入（Excel批量导入，支持模板下载）
- ✅ 客户批量导入（Excel批量导入，支持模板下载）
- ✅ 供应商/客户信息完善（联系人、地址、联系方式、评级等）
- ✅ 供应商/客户状态管理（启用/停用）
- ✅ 供应商/客户关联物料配置（供应商物料、客户物料）
- ✅ Excel数据验证（导入时数据校验和错误提示）

**验收标准：**
- ✅ Excel批量导入功能可用（支持模板下载）
- ✅ 供应商/客户信息完善功能可用
- ✅ 状态管理功能可用
- ✅ 关联物料配置功能可用
- ✅ Excel数据验证和错误提示正常

---

## 场景2.6：初始库存录入

### 基础流程

**目标：** 完成初始库存的录入

**用户操作：**
1. 进入"快智造" → "仓储管理" → "库存查询"
2. 查看当前库存（应该为空）
3. 进入"快智造" → "仓储管理" → "入库管理"
4. 创建初始库存入库单（手动创建）：
   - 原材料仓库：
     - 塑料颗粒A：1000kg
     - 塑料颗粒B：500kg
     - 螺丝：10000个
   - 半成品仓库：
     - 注塑件A：100个
     - 注塑件B：50个
   - 成品仓库：
     - 产品A：10个
     - 产品B：5个
5. 提交入库单，系统自动更新库存

**系统行为：**
- ✅ 创建入库单数据
- ✅ 自动更新库存数量
- ✅ 记录入库历史

**验收标准：**
- ✅ 入库单创建成功
- ✅ 库存自动更新成功
- ✅ 入库历史记录成功

---

### 体验改进流程

**目标：** 优化初始库存录入体验

**功能点：**
- ✅ 入库单批量导入（Excel批量导入，支持模板下载）
- ✅ 初始库存批量录入（专用初始库存录入功能）
- ✅ 库存盘点功能（库存盘点单）
- ✅ 库存调整功能（库存调整单）
- ✅ Excel数据验证（导入时数据校验和错误提示）
- ✅ 入库单打印（打印模板）

**验收标准：**
- ✅ Excel批量导入功能可用（支持模板下载）
- ✅ 初始库存批量录入功能可用
- ✅ 库存盘点功能可用
- ✅ 库存调整功能可用
- ✅ Excel数据验证和错误提示正常
- ✅ 入库单打印可用

---

**文档创建时间：** 2025-12-27  
**文档作者：** Luigi Lu

