# 模块5：质量管理流程

## 📋 模块概述

**目标：** 完成质量管理相关流程  
**优先级：** ⭐⭐⭐（中，第二阶段扩展）  
**开发阶段：** 第三阶段  
**预计时间：** 功能扩展

---

## 场景5.1：来料检验

### 基础流程

**目标：** 完成来料检验的核心功能

**用户操作：**
1. 进入"快智造" → "质量管理" → "来料检验"
2. 创建来料检验单（手动创建）：
   - 选择关联采购单
   - 选择物料：塑料颗粒A
   - 输入检验数量：1000kg
   - 输入合格数量：980kg
   - 输入不良数量：20kg
   - 选择检验结果：部分合格
   - 输入检验人：质量管理员（孙七）
   - 提交检验单
3. 系统自动处理：
   - 合格物料自动入库
   - 不良物料标记为不良品

**系统行为：**
- ✅ 创建来料检验单
- ✅ 自动处理合格物料入库
- ✅ 自动处理不良物料标记

**验收标准：**
- ✅ 来料检验单创建成功
- ✅ 合格物料自动入库成功
- ✅ 不良物料标记成功

---

### 体验改进流程

**目标：** 优化来料检验体验

**功能点：**
- ✅ 检验单批量导入（Excel批量导入，支持模板下载）
- ✅ 检验单打印（打印模板、打印预览）
- ✅ 检验单高级搜索（拼音搜索、快速筛选）
- ✅ 不良品处理工作流（使用Inngest工作流）
- ✅ 检验数据处理工作流（使用Inngest工作流）
- ✅ Excel数据验证（导入时数据校验和错误提示）

**验收标准：**
- ✅ Excel批量导入功能可用（支持模板下载）
- ✅ 检验单打印可用（打印预览正常）
- ✅ 高级搜索可用（拼音搜索）
- ✅ 不良品处理工作流正常
- ✅ 检验数据处理工作流正常
- ✅ Excel数据验证和错误提示正常

---

## 场景5.2：过程检验

### 基础流程

**目标：** 完成过程检验的核心功能

**用户操作：**
1. 进入"快智造" → "质量管理" → "过程检验"
2. 创建过程检验单（手动创建）：
   - 选择关联工单：工单-20260110-001
   - 选择关联工序：组装工序
   - 输入检验数量：100个
   - 输入合格数量：98个
   - 输入不良数量：2个
   - 选择不良品类型：外观不良
   - 选择检验结果：部分合格
   - 输入检验人：质量管理员（孙七）
   - 提交检验单
3. 系统自动处理：
   - 合格数量计入报工合格数
   - 不良数量标记为不良品

**系统行为：**
- ✅ 创建过程检验单
- ✅ 自动更新报工合格数
- ✅ 自动标记不良品

**验收标准：**
- ✅ 过程检验单创建成功
- ✅ 报工合格数自动更新成功
- ✅ 不良品标记成功

---

### 体验改进流程

**目标：** 优化过程检验体验

**功能点：**
- ✅ 检验单批量导入（Excel批量导入，支持模板下载）
- ✅ 检验单打印（打印模板、打印预览）
- ✅ 检验单高级搜索（拼音搜索、快速筛选、按工单搜索）
- ✅ 检验数据处理工作流（使用Inngest工作流）
- ✅ 移动端检验录入（移动端优化）
- ✅ Excel数据验证（导入时数据校验和错误提示）

**验收标准：**
- ✅ Excel批量导入功能可用（支持模板下载）
- ✅ 检验单打印可用（打印预览正常）
- ✅ 高级搜索可用（拼音搜索、按工单搜索）
- ✅ 检验数据处理工作流正常
- ✅ 移动端检验录入可用
- ✅ Excel数据验证和错误提示正常

---

## 场景5.3：成品检验

### 基础流程

**目标：** 完成成品检验的核心功能

**用户操作：**
1. 进入"快智造" → "质量管理" → "成品检验"
2. 创建成品检验单（手动创建）：
   - 选择关联工单：工单-20260110-001
   - 输入检验数量：100个
   - 输入合格数量：98个
   - 输入不良数量：2个
   - 选择检验结果：部分合格
   - 输入检验人：质量管理员（孙七）
   - 提交检验单
3. 系统自动处理：
   - 合格数量允许入库
   - 不良数量不允许入库

**系统行为：**
- ✅ 创建成品检验单
- ✅ 自动处理合格数量入库
- ✅ 自动处理不良数量标记

**验收标准：**
- ✅ 成品检验单创建成功
- ✅ 合格数量入库处理成功
- ✅ 不良数量标记成功

---

### 体验改进流程

**目标：** 优化成品检验体验

**功能点：**
- ✅ 检验单批量导入（Excel批量导入，支持模板下载）
- ✅ 检验单打印（打印模板、打印预览）
- ✅ 检验单高级搜索（拼音搜索、快速筛选、按工单搜索）
- ✅ 移动端检验录入（移动端优化）
- ✅ Excel数据验证（导入时数据校验和错误提示）

**验收标准：**
- ✅ Excel批量导入功能可用（支持模板下载）
- ✅ 检验单打印可用（打印预览正常）
- ✅ 高级搜索可用（拼音搜索、按工单搜索）
- ✅ 移动端检验录入可用
- ✅ Excel数据验证和错误提示正常

---

**文档创建时间：** 2025-12-27  
**文档作者：** Luigi Lu

