Â·1Â·# å‰åç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ

> **æ–‡æ¡£è¯´æ˜ï¼š**  
> æœ¬æ–‡æ¡£å®šä¹‰å‰åç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒï¼Œç¡®ä¿åº”ç”¨çº§APPå„é¡µé¢ç»Ÿä¸€ï¼Œåç«¯ç®€æ´ä¼˜é›…ï¼Œå–„ç”¨æˆç†Ÿç»„ä»¶ï¼Œç¬¦åˆFastAPIå’ŒAnt Designå„æŠ€æœ¯æ ˆåŸç”Ÿè®¾å®šã€‚  
> 
> **åˆ›å»ºæ—¶é—´ï¼š** 2025-12-27  
> **æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
> **æœ€åæ›´æ–°ï¼š** 2025-12-27

---

## ğŸ“‹ ç›®å½•

1. [å‰ç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ](#1-å‰ç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ)
2. [åç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ](#2-åç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ)
3. [ç»„ä»¶ä½¿ç”¨è§„èŒƒ](#3-ç»„ä»¶ä½¿ç”¨è§„èŒƒ)
4. [ä»£ç è§„èŒƒæ£€æŸ¥æ¸…å•](#4-ä»£ç è§„èŒƒæ£€æŸ¥æ¸…å•)

---

## 1. å‰ç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ

### 1.1 åˆ—è¡¨é¡µé¢æ ‡å‡†æ¨¡æ¿

**æ‰€æœ‰åˆ—è¡¨é¡µé¢å¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š**

```typescript
/**
 * åˆ—è¡¨é¡µé¢æ ‡å‡†æ¨¡æ¿
 * 
 * @author [å¼€å‘è€…å§“å]
 * @date 2025-12-27
 */

import React, { useState, useRef } from 'react';
import { Modal, Drawer, message, App } from 'antd';
import type { ProFormInstance } from '@ant-design/pro-components';
import { ListPageTemplate } from '@/layouts';
import { UniTable } from '@/components/uni-table';
import type { ProColumns } from '@ant-design/pro-components';
import { 
  createApi, 
  updateApi, 
  deleteApi, 
  getListApi, 
  getDetailApi 
} from '@/apps/kuaizhizao/services/[service-name]';

interface DataType {
  id: number;
  code: string;
  name: string;
  status: string;
  createdAt: string;
  updatedAt: string;
}

const ListPage: React.FC = () => {
  const { message: messageApi } = App.useApp();
  const [modalVisible, setModalVisible] = useState(false);
  const [drawerVisible, setDrawerVisible] = useState(false);
  const [isEdit, setIsEdit] = useState(false);
  const [currentId, setCurrentId] = useState<number | null>(null);
  const formRef = useRef<ProFormInstance>();
  const actionRef = useRef<ActionType>();

  // æ–°å»º - ä½¿ç”¨ Modal
  const handleCreate = () => {
    setIsEdit(false);
    setCurrentId(null);
    setModalVisible(true);
    formRef.current?.resetFields();
  };

  // ç¼–è¾‘ - ä½¿ç”¨ Modal
  const handleEdit = async (keys: React.Key[]) => {
    if (keys.length === 1) {
      const id = Number(keys[0]);
      setIsEdit(true);
      setCurrentId(id);
      setModalVisible(true);
      try {
        const data = await getDetailApi(id);
        formRef.current?.setFieldsValue(data);
      } catch (error: any) {
        messageApi.error(error?.message || 'åŠ è½½æ•°æ®å¤±è´¥');
      }
    } else {
      messageApi.warning('è¯·é€‰æ‹©ä¸€æ¡è®°å½•è¿›è¡Œç¼–è¾‘');
    }
  };

  // è¯¦æƒ…æŸ¥çœ‹ - ä½¿ç”¨ Drawer
  const handleDetail = async (keys: React.Key[]) => {
    if (keys.length === 1) {
      const id = Number(keys[0]);
      setCurrentId(id);
      setDrawerVisible(true);
    } else {
      messageApi.warning('è¯·é€‰æ‹©ä¸€æ¡è®°å½•æŸ¥çœ‹è¯¦æƒ…');
    }
  };

  // åˆ é™¤
  const handleDelete = async (keys: React.Key[]) => {
    if (keys.length === 0) {
      messageApi.warning('è¯·é€‰æ‹©è¦åˆ é™¤çš„è®°å½•');
      return;
    }
    try {
      await deleteApi(keys.map(k => Number(k)));
      messageApi.success('åˆ é™¤æˆåŠŸ');
      actionRef.current?.reload();
    } catch (error: any) {
      messageApi.error(error?.message || 'åˆ é™¤å¤±è´¥');
    }
  };

  // æäº¤è¡¨å•
  const handleSubmit = async (values: any) => {
    try {
      if (isEdit && currentId) {
        await updateApi(currentId, values);
        messageApi.success('æ›´æ–°æˆåŠŸ');
      } else {
        await createApi(values);
        messageApi.success('åˆ›å»ºæˆåŠŸ');
      }
      setModalVisible(false);
      actionRef.current?.reload();
    } catch (error: any) {
      messageApi.error(error?.message || 'æ“ä½œå¤±è´¥');
    }
  };

  // è¡¨æ ¼åˆ—å®šä¹‰
  const columns: ProColumns<DataType>[] = [
    {
      title: 'ç¼–ç ',
      dataIndex: 'code',
      width: 120,
      fixed: 'left',
    },
    {
      title: 'åç§°',
      dataIndex: 'name',
      width: 200,
    },
    {
      title: 'çŠ¶æ€',
      dataIndex: 'status',
      width: 100,
      valueType: 'select',
      valueEnum: {
        draft: { text: 'è‰ç¨¿', status: 'Default' },
        submitted: { text: 'å·²æäº¤', status: 'Processing' },
        approved: { text: 'å·²å®¡æ ¸', status: 'Success' },
      },
    },
    {
      title: 'åˆ›å»ºæ—¶é—´',
      dataIndex: 'createdAt',
      width: 180,
      valueType: 'dateTime',
      sorter: true,
    },
    {
      title: 'æ“ä½œ',
      valueType: 'option',
      width: 150,
      fixed: 'right',
      render: (_: any, record: DataType) => [
        <a key="edit" onClick={() => handleEdit([record.id])}>ç¼–è¾‘</a>,
        <a key="detail" onClick={() => handleDetail([record.id])}>è¯¦æƒ…</a>,
        <a key="delete" onClick={() => handleDelete([record.id])}>åˆ é™¤</a>,
      ],
    },
  ];

  return (
    <>
      <ListPageTemplate>
        <UniTable<DataType>
          actionRef={actionRef}
          columns={columns}
          request={async (params, sort, _filter, searchFormValues) => {
            const apiParams: any = {
              page: params.current || 1,
              page_size: params.pageSize || 20,
            };
            
            // å¤„ç†æœç´¢å‚æ•°
            if (searchFormValues?.name) {
              apiParams.name = searchFormValues.name;
            }
            if (searchFormValues?.status) {
              apiParams.status = searchFormValues.status;
            }
            
            // å¤„ç†æ’åº
            if (sort) {
              const sortKeys = Object.keys(sort);
              if (sortKeys.length > 0) {
                const key = sortKeys[0];
                apiParams.order_by = sort[key] === 'ascend' ? key : `-${key}`;
              }
            }
            
            try {
              const response = await getListApi(apiParams);
              return {
                data: response.items,
                success: true,
                total: response.total,
              };
            } catch (error: any) {
              messageApi.error(error?.message || 'è·å–åˆ—è¡¨å¤±è´¥');
              return {
                data: [],
                success: false,
                total: 0,
              };
            }
          }}
          rowKey="id"
          showAdvancedSearch={true}
          showCreateButton={true}
          onCreate={handleCreate}
          showEditButton={true}
          onEdit={handleEdit}
          showDeleteButton={true}
          onDelete={handleDelete}
          onDetail={handleDetail}
        />
      </ListPageTemplate>
      
      {/* æ–°å»º/ç¼–è¾‘ Modal */}
      <Modal
        open={modalVisible}
        onCancel={() => setModalVisible(false)}
        title={isEdit ? 'ç¼–è¾‘' : 'æ–°å»º'}
        width={800}
        footer={null}
      >
        <ProForm
          formRef={formRef}
          onFinish={handleSubmit}
          layout="vertical"
        >
          <ProFormText
            name="code"
            label="ç¼–ç "
            rules={[{ required: true, message: 'è¯·è¾“å…¥ç¼–ç ' }]}
          />
          <ProFormText
            name="name"
            label="åç§°"
            rules={[{ required: true, message: 'è¯·è¾“å…¥åç§°' }]}
          />
          <ProFormSelect
            name="status"
            label="çŠ¶æ€"
            options={[
              { label: 'è‰ç¨¿', value: 'draft' },
              { label: 'å·²æäº¤', value: 'submitted' },
              { label: 'å·²å®¡æ ¸', value: 'approved' },
            ]}
          />
        </ProForm>
      </Modal>
      
      {/* è¯¦æƒ… Drawer */}
      <Drawer
        open={drawerVisible}
        onClose={() => setDrawerVisible(false)}
        title="è¯¦æƒ…"
        width={600}
      >
        {/* è¯¦æƒ…å†…å®¹ä½¿ç”¨ ProDescriptions */}
        <ProDescriptions
          column={1}
          request={async () => {
            if (!currentId) return {};
            const data = await getDetailApi(currentId);
            return data;
          }}
        />
      </Drawer>
    </>
  );
};

export default ListPage;
```

### 1.2 è¡¨å•é¡µé¢æ ‡å‡†æ¨¡æ¿

**æ‰€æœ‰è¡¨å•é¡µé¢å¿…é¡»ä½¿ç”¨ProFormç»„ä»¶ï¼š**

```typescript
import { ProForm, ProFormText, ProFormSelect, ProFormDatePicker } from '@ant-design/pro-components';

<ProForm
  formRef={formRef}
  onFinish={handleSubmit}
  initialValues={initialValues}
  layout="vertical"
>
  <ProFormText
    name="name"
    label="åç§°"
    rules={[{ required: true, message: 'è¯·è¾“å…¥åç§°' }]}
    placeholder="è¯·è¾“å…¥åç§°"
  />
  <ProFormSelect
    name="type"
    label="ç±»å‹"
    options={typeOptions}
    rules={[{ required: true, message: 'è¯·é€‰æ‹©ç±»å‹' }]}
  />
  <ProFormDatePicker
    name="date"
    label="æ—¥æœŸ"
    rules={[{ required: true, message: 'è¯·é€‰æ‹©æ—¥æœŸ' }]}
  />
</ProForm>
```

### 1.3 è¯¦æƒ…é¡µé¢æ ‡å‡†æ¨¡æ¿

**æ‰€æœ‰è¯¦æƒ…é¡µé¢å¿…é¡»ä½¿ç”¨ProDescriptionsç»„ä»¶ï¼š**

```typescript
import { ProDescriptions } from '@ant-design/pro-components';

<ProDescriptions
  title="è¯¦æƒ…ä¿¡æ¯"
  column={2}
  request={async () => {
    const data = await getDetailApi(id);
    return data;
  }}
/>
```

---

## 2. åç«¯ç»Ÿä¸€æ¨¡æ¿è§„èŒƒ

### 2.1 APIè·¯ç”±æ ‡å‡†æ¨¡æ¿

**æ‰€æœ‰APIè·¯ç”±å¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š**

```python
"""
[æ¨¡å—åç§°] API æ¨¡å—

æä¾›[æ¨¡å—æè¿°]çš„ RESTful API æ¥å£ï¼Œæ”¯æŒå¤šç»„ç»‡éš”ç¦»ã€‚

Author: [å¼€å‘è€…å§“å]
Date: 2025-12-27
"""

from fastapi import APIRouter, Depends, HTTPException, Query, status
from typing import List, Optional, Annotated

from core.api.deps.deps import get_current_user, get_current_tenant
from infra.models.user import User
from apps.kuaizhizao.services.[service_name] import [ServiceName]Service
from apps.kuaizhizao.schemas.[schema_name] import (
    [Model]Create, 
    [Model]Update, 
    [Model]Response,
    [Model]ListResponse
)
from infra.exceptions.exceptions import NotFoundError, ValidationError

router = APIRouter(prefix="/[route-prefix]", tags=["[TagName]"])


@router.post("", response_model=[Model]Response, summary="åˆ›å»º[æ¨¡å‹åç§°]")
async def create_[model](
    data: [Model]Create,
    current_user: Annotated[User, Depends(get_current_user)],
    tenant_id: Annotated[int, Depends(get_current_tenant)]
):
    """
    åˆ›å»º[æ¨¡å‹åç§°]
    
    - **field1**: å­—æ®µ1æè¿°ï¼ˆå¿…å¡«ï¼‰
    - **field2**: å­—æ®µ2æè¿°ï¼ˆå¯é€‰ï¼‰
    """
    try:
        return await [ServiceName]Service.create_[model](tenant_id, data, current_user.id)
    except ValidationError as e:
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail=str(e))
    except NotFoundError as e:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e))


@router.get("", response_model=[Model]ListResponse, summary="è·å–[æ¨¡å‹åç§°]åˆ—è¡¨")
async def get_[model]_list(
    page: int = Query(1, ge=1, description="é¡µç "),
    page_size: int = Query(20, ge=1, le=100, description="æ¯é¡µæ•°é‡"),
    name: Optional[str] = Query(None, description="åç§°ï¼ˆæ¨¡ç³Šæœç´¢ï¼‰"),
    status: Optional[str] = Query(None, description="çŠ¶æ€"),
    order_by: Optional[str] = Query(None, description="æ’åºå­—æ®µï¼ˆå¦‚ï¼š-created_atï¼‰"),
    current_user: Annotated[User, Depends(get_current_user)] = None,
    tenant_id: Annotated[int, Depends(get_current_tenant)] = None
):
    """
    è·å–[æ¨¡å‹åç§°]åˆ—è¡¨
    
    æ”¯æŒåˆ†é¡µã€æœç´¢ã€ç­›é€‰ã€æ’åº
    """
    try:
        return await [ServiceName]Service.get_[model]_list(
            tenant_id=tenant_id,
            page=page,
            page_size=page_size,
            name=name,
            status=status,
            order_by=order_by
        )
    except ValidationError as e:
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail=str(e))


@router.get("/{id}", response_model=[Model]Response, summary="è·å–[æ¨¡å‹åç§°]è¯¦æƒ…")
async def get_[model](
    id: int,
    current_user: Annotated[User, Depends(get_current_user)],
    tenant_id: Annotated[int, Depends(get_current_tenant)]
):
    """
    è·å–[æ¨¡å‹åç§°]è¯¦æƒ…
    """
    try:
        return await [ServiceName]Service.get_[model](tenant_id, id)
    except NotFoundError as e:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e))


@router.put("/{id}", response_model=[Model]Response, summary="æ›´æ–°[æ¨¡å‹åç§°]")
async def update_[model](
    id: int,
    data: [Model]Update,
    current_user: Annotated[User, Depends(get_current_user)],
    tenant_id: Annotated[int, Depends(get_current_tenant)]
):
    """
    æ›´æ–°[æ¨¡å‹åç§°]
    """
    try:
        return await [ServiceName]Service.update_[model](tenant_id, id, data, current_user.id)
    except NotFoundError as e:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e))
    except ValidationError as e:
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail=str(e))


@router.delete("/{id}", summary="åˆ é™¤[æ¨¡å‹åç§°]")
async def delete_[model](
    id: int,
    current_user: Annotated[User, Depends(get_current_user)],
    tenant_id: Annotated[int, Depends(get_current_tenant)]
):
    """
    åˆ é™¤[æ¨¡å‹åç§°]
    """
    try:
        await [ServiceName]Service.delete_[model](tenant_id, id, current_user.id)
        return {"message": "åˆ é™¤æˆåŠŸ"}
    except NotFoundError as e:
        raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e))
    except ValidationError as e:
        raise HTTPException(status_code=status.HTTP_400_BAD_REQUEST, detail=str(e))
```

### 2.2 æœåŠ¡å±‚æ ‡å‡†æ¨¡æ¿

**æ‰€æœ‰æœåŠ¡å±‚å¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š**

```python
"""
[æ¨¡å—åç§°]æœåŠ¡æ¨¡å—

æä¾›[æ¨¡å—æè¿°]çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚

Author: [å¼€å‘è€…å§“å]
Date: 2025-12-27
"""

from typing import List, Optional
from tortoise.exceptions import DoesNotExist

from apps.kuaizhizao.models.[model_name] import [Model]
from apps.kuaizhizao.schemas.[schema_name] import (
    [Model]Create, 
    [Model]Update, 
    [Model]Response
)
from infra.exceptions.exceptions import NotFoundError, ValidationError


class [ServiceName]Service:
    """[æœåŠ¡åç§°]æœåŠ¡ç±»"""
    
    @staticmethod
    async def create_[model](
        tenant_id: int, 
        data: [Model]Create, 
        user_id: int
    ) -> [Model]:
        """
        åˆ›å»º[æ¨¡å‹åç§°]
        
        Args:
            tenant_id: ç§Ÿæˆ·ID
            data: åˆ›å»ºæ•°æ®
            user_id: ç”¨æˆ·ID
            
        Returns:
            [Model]: åˆ›å»ºçš„æ¨¡å‹å®ä¾‹
            
        Raises:
            ValidationError: æ•°æ®éªŒè¯å¤±è´¥
        """
        # ä¸šåŠ¡é€»è¾‘éªŒè¯
        if not data.field1:
            raise ValidationError("å­—æ®µ1ä¸èƒ½ä¸ºç©º")
        
        # åˆ›å»ºæ¨¡å‹
        instance = await [Model].create(
            tenant_id=tenant_id,
            field1=data.field1,
            field2=data.field2,
            created_by_id=user_id
        )
        
        return instance
    
    @staticmethod
    async def get_[model](
        tenant_id: int, 
        id: int
    ) -> [Model]:
        """
        è·å–[æ¨¡å‹åç§°]
        
        Args:
            tenant_id: ç§Ÿæˆ·ID
            id: æ¨¡å‹ID
            
        Returns:
            [Model]: æ¨¡å‹å®ä¾‹
            
        Raises:
            NotFoundError: æ¨¡å‹ä¸å­˜åœ¨
        """
        instance = await [Model].get_or_none(id=id, tenant_id=tenant_id)
        if not instance:
            raise NotFoundError(f"[æ¨¡å‹åç§°]ä¸å­˜åœ¨: {id}")
        return instance
    
    @staticmethod
    async def get_[model]_list(
        tenant_id: int,
        page: int = 1,
        page_size: int = 20,
        name: Optional[str] = None,
        status: Optional[str] = None,
        order_by: Optional[str] = None
    ) -> dict:
        """
        è·å–[æ¨¡å‹åç§°]åˆ—è¡¨
        
        Args:
            tenant_id: ç§Ÿæˆ·ID
            page: é¡µç 
            page_size: æ¯é¡µæ•°é‡
            name: åç§°ï¼ˆæ¨¡ç³Šæœç´¢ï¼‰
            status: çŠ¶æ€
            order_by: æ’åºå­—æ®µ
            
        Returns:
            dict: åŒ…å«itemså’Œtotalçš„å­—å…¸
        """
        query = [Model].filter(tenant_id=tenant_id)
        
        # æœç´¢æ¡ä»¶
        if name:
            query = query.filter(name__icontains=name)
        if status:
            query = query.filter(status=status)
        
        # æ’åº
        if order_by:
            if order_by.startswith('-'):
                query = query.order_by(f"-{order_by[1:]}")
            else:
                query = query.order_by(order_by)
        else:
            query = query.order_by('-created_at')
        
        # åˆ†é¡µ
        total = await query.count()
        items = await query.offset((page - 1) * page_size).limit(page_size).all()
        
        return {
            "items": items,
            "total": total
        }
    
    @staticmethod
    async def update_[model](
        tenant_id: int,
        id: int,
        data: [Model]Update,
        user_id: int
    ) -> [Model]:
        """
        æ›´æ–°[æ¨¡å‹åç§°]
        
        Args:
            tenant_id: ç§Ÿæˆ·ID
            id: æ¨¡å‹ID
            data: æ›´æ–°æ•°æ®
            user_id: ç”¨æˆ·ID
            
        Returns:
            [Model]: æ›´æ–°åçš„æ¨¡å‹å®ä¾‹
            
        Raises:
            NotFoundError: æ¨¡å‹ä¸å­˜åœ¨
            ValidationError: æ•°æ®éªŒè¯å¤±è´¥
        """
        instance = await [ServiceName]Service.get_[model](tenant_id, id)
        
        # ä¸šåŠ¡é€»è¾‘éªŒè¯
        if data.field1:
            instance.field1 = data.field1
        if data.field2 is not None:
            instance.field2 = data.field2
        
        instance.updated_by_id = user_id
        await instance.save()
        
        return instance
    
    @staticmethod
    async def delete_[model](
        tenant_id: int,
        id: int,
        user_id: int
    ) -> None:
        """
        åˆ é™¤[æ¨¡å‹åç§°]
        
        Args:
            tenant_id: ç§Ÿæˆ·ID
            id: æ¨¡å‹ID
            user_id: ç”¨æˆ·ID
            
        Raises:
            NotFoundError: æ¨¡å‹ä¸å­˜åœ¨
            ValidationError: åˆ é™¤éªŒè¯å¤±è´¥
        """
        instance = await [ServiceName]Service.get_[model](tenant_id, id)
        
        # åˆ é™¤éªŒè¯ï¼ˆå¦‚ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å…³è”æ•°æ®ï¼‰
        # if await instance.has_related_data():
        #     raise ValidationError("å­˜åœ¨å…³è”æ•°æ®ï¼Œæ— æ³•åˆ é™¤")
        
        await instance.delete()
```

### 2.3 Schemaæ ‡å‡†æ¨¡æ¿

**æ‰€æœ‰Schemaå¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š**

```python
"""
[æ¨¡å—åç§°] Schema æ¨¡å—

æä¾›[æ¨¡å—æè¿°]çš„æ•°æ®éªŒè¯Schemaã€‚

Author: [å¼€å‘è€…å§“å]
Date: 2025-12-27
"""

from pydantic import BaseModel, Field
from typing import Optional, List
from datetime import datetime


class [Model]Base(BaseModel):
    """[æ¨¡å‹åç§°]åŸºç¡€Schema"""
    field1: str = Field(..., description="å­—æ®µ1æè¿°")
    field2: Optional[str] = Field(None, description="å­—æ®µ2æè¿°")
    
    class Config:
        json_schema_extra = {
            "example": {
                "field1": "ç¤ºä¾‹å€¼1",
                "field2": "ç¤ºä¾‹å€¼2"
            }
        }


class [Model]Create([Model]Base):
    """[æ¨¡å‹åç§°]åˆ›å»ºSchema"""
    pass


class [Model]Update(BaseModel):
    """[æ¨¡å‹åç§°]æ›´æ–°Schema"""
    field1: Optional[str] = Field(None, description="å­—æ®µ1æè¿°")
    field2: Optional[str] = Field(None, description="å­—æ®µ2æè¿°")


class [Model]Response([Model]Base):
    """[æ¨¡å‹åç§°]å“åº”Schema"""
    id: int
    tenant_id: int
    created_at: datetime
    updated_at: datetime
    created_by_id: Optional[int] = None
    updated_by_id: Optional[int] = None
    
    class Config:
        from_attributes = True


class [Model]ListResponse(BaseModel):
    """[æ¨¡å‹åç§°]åˆ—è¡¨å“åº”Schema"""
    items: List[[Model]Response]
    total: int
```

---

## 3. ç»„ä»¶ä½¿ç”¨è§„èŒƒ

### 3.1 Ant Design Proç»„ä»¶ä½¿ç”¨

**å¿…é¡»ä½¿ç”¨Ant Design Proç»„ä»¶ï¼Œç¦æ­¢ç›´æ¥ä½¿ç”¨Ant DesignåŸºç¡€ç»„ä»¶ï¼š**

- âœ… ä½¿ç”¨ `ProForm` æ›¿ä»£ `Form`
- âœ… ä½¿ç”¨ `ProFormText` æ›¿ä»£ `Input`
- âœ… ä½¿ç”¨ `ProFormSelect` æ›¿ä»£ `Select`
- âœ… ä½¿ç”¨ `ProFormDatePicker` æ›¿ä»£ `DatePicker`
- âœ… ä½¿ç”¨ `ProDescriptions` æ›¿ä»£ `Descriptions`
- âœ… ä½¿ç”¨ `ProTable` é€šè¿‡ `UniTable` å°è£…ä½¿ç”¨

### 3.2 FastAPIç»„ä»¶ä½¿ç”¨

**å¿…é¡»ä½¿ç”¨FastAPIåŸç”Ÿç‰¹æ€§ï¼š**

- âœ… ä½¿ç”¨ `APIRouter` ç»„ç»‡è·¯ç”±
- âœ… ä½¿ç”¨ `Depends` å®ç°ä¾èµ–æ³¨å…¥
- âœ… ä½¿ç”¨ `Query` å¤„ç†æŸ¥è¯¢å‚æ•°
- âœ… ä½¿ç”¨ `Path` å¤„ç†è·¯å¾„å‚æ•°
- âœ… ä½¿ç”¨ `Body` å¤„ç†è¯·æ±‚ä½“
- âœ… ä½¿ç”¨ `response_model` å®šä¹‰å“åº”æ¨¡å‹
- âœ… ä½¿ç”¨ `status` å®šä¹‰HTTPçŠ¶æ€ç 

---

## 4. ä»£ç è§„èŒƒæ£€æŸ¥æ¸…å•

### 4.1 å‰ç«¯ä»£ç è§„èŒƒ

- [ ] æ‰€æœ‰åˆ—è¡¨é¡µé¢ä½¿ç”¨ `UniTable` ç»„ä»¶
- [ ] æ‰€æœ‰åˆ—è¡¨é¡µé¢ä½¿ç”¨ `ListPageTemplate` å¸ƒå±€
- [ ] æ‰€æœ‰è¡¨å•ä½¿ç”¨ `ProForm` ç»„ä»¶
- [ ] æ‰€æœ‰è¯¦æƒ…ä½¿ç”¨ `ProDescriptions` ç»„ä»¶
- [ ] æ‰€æœ‰APIè°ƒç”¨ä½¿ç”¨ç»Ÿä¸€æœåŠ¡å±‚
- [ ] æ‰€æœ‰é”™è¯¯å¤„ç†ä½¿ç”¨ç»Ÿä¸€æœºåˆ¶
- [ ] æ‰€æœ‰é¡µé¢è·¯ç”±ç¬¦åˆè§„èŒƒ
- [ ] ä»£ç ç¬¦åˆESLintè§„èŒƒ
- [ ] ä»£ç æ³¨é‡Šå®Œæ•´ï¼ˆä¸­æ–‡æ³¨é‡Šï¼‰

### 4.2 åç«¯ä»£ç è§„èŒƒ

- [ ] æ‰€æœ‰APIè·¯ç”±ä½¿ç”¨ `APIRouter`
- [ ] æ‰€æœ‰APIä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆ`get_current_user`, `get_current_tenant`ï¼‰
- [ ] æ‰€æœ‰APIä½¿ç”¨ç»Ÿä¸€å¼‚å¸¸å¤„ç†
- [ ] æ‰€æœ‰ä¸šåŠ¡é€»è¾‘åœ¨æœåŠ¡å±‚å®ç°
- [ ] æ‰€æœ‰Schemaä½¿ç”¨Pydantic
- [ ] æ‰€æœ‰æ¨¡å‹ä½¿ç”¨Tortoise ORM
- [ ] æ‰€æœ‰æ•°æ®åº“æ“ä½œä½¿ç”¨äº‹åŠ¡
- [ ] ä»£ç ç¬¦åˆRuffè§„èŒƒ
- [ ] ä»£ç ç¬¦åˆMyPyè§„èŒƒ
- [ ] ä»£ç æ³¨é‡Šå®Œæ•´ï¼ˆä¸­æ–‡æ³¨é‡Šï¼‰

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´ï¼š** 2025-12-27  
**æ–‡æ¡£ä½œè€…ï¼š** Auto (AI Assistant)  
**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**æœ€åæ›´æ–°ï¼š** 2025-12-27
