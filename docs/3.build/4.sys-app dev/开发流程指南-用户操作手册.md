# 开发流程指南 - 用户操作手册

## 📋 概述

本文档指导您（作为用户角色）在开发过程中需要执行的操作，确保开发流程顺利进行。

**开发原则：** 完成一项测试一项，确保质量

---

## 🚀 第一阶段：准备工作（当前阶段）

### 步骤1：清理MOCK数据 ✅

**您的操作：**
1. 运行清理脚本：
   ```bash
   cd riveredge-backend
   uv run python scripts/cleanup_mock_data.py
   ```

2. 确认清理结果：
   - ✅ 默认租户（domain="default"）保留
   - ✅ 用户 ldj 保留
   - ✅ 其他用户已删除
   - ✅ 其他租户已删除
   - ✅ 超级管理员保留

**预期结果：**
- 数据库只保留一个默认租户
- 默认租户中只有一个用户 ldj
- 所有超级管理员保留

**完成后告诉我：** "清理完成，可以开始下一步"

---

## 🏗️ 第二阶段：系统级基础能力建设（第1周）

### 步骤2：完善文件头注释

**您的操作：**
- **无需操作** - 这是自动化任务，我会完成所有Python文件的文件头注释

**完成后我会告诉您：** "文件头注释已完成，请检查代码"

---

### 步骤3：应用管理机制完善

**您的操作：**
1. **启动系统**：
   ```bash
   ./Launch.sh
   ```

2. **登录系统**：
   - 使用用户 `ldj` 登录
   - 密码：您之前设置的密码

3. **测试应用管理功能**：
   - 进入"应用中心"
   - 查看已安装的应用列表
   - 尝试安装/卸载应用（如果有测试应用）

**完成后告诉我：** "应用管理功能测试完成"

---

### 步骤4：编码规则服务

**您的操作：**
1. **配置编码规则**：
   - 登录系统后，进入"系统设置" → "编码规则"
   - 创建工单编码规则：`工单-{YYYYMMDD}-{序号}`
   - 创建采购单编码规则：`采购-{YYYYMMDD}-{序号}`

2. **测试编码生成**：
   - 调用编码生成API或通过界面测试
   - 验证编码格式是否正确

**完成后告诉我：** "编码规则服务测试完成"

---

### 步骤5：数据访问层优化

**您的操作：**
- **无需操作** - 这是后端优化任务

**完成后我会告诉您：** "数据访问层优化完成，性能提升XX%"

---

### 步骤6：文件管理服务完善

**您的操作：**
1. **测试文件上传**：
   - 进入"文件管理"（如果有界面）
   - 或通过API测试文件上传
   - 上传一个测试文件（如：test.txt）

2. **测试文件下载**：
   - 下载刚才上传的文件
   - 验证文件内容是否正确

3. **测试文件预览**（如果支持）：
   - 上传图片文件
   - 验证预览功能

**完成后告诉我：** "文件管理服务测试完成"

---

## 🎯 第三阶段：快智造MVP开发（第2-6周）

### 步骤7：工单管理功能

**您的操作：**
1. **创建工单**：
   - 进入"快智造" → "工单管理"
   - 点击"新建工单"
   - 填写工单信息：
     - 工单号：自动生成（使用编码规则）
     - 物料：选择已创建的物料
     - 数量：100
     - 计划开始时间：今天
     - 计划完成时间：3天后
   - 保存工单

2. **下达工单**：
   - 在工单列表中，选择刚创建的工单
   - 点击"下达"按钮
   - 确认工单状态变为"已下达"

3. **执行工单**：
   - 查看工单详情
   - 验证工单信息是否正确

4. **完工工单**：
   - 在工单列表中，选择已执行的工单
   - 点击"完工"按钮
   - 确认工单状态变为"已完工"

**完成后告诉我：** "工单管理功能测试完成"

---

### 步骤8：报工管理功能

**您的操作：**
1. **扫码报工**（如果有移动端）：
   - 使用移动设备访问系统
   - 扫描工单二维码
   - 填写报工信息：
     - 完成数量：50
     - 合格数量：48
     - 不良数量：2
     - 工时：4小时
   - 提交报工

2. **查看报工记录**：
   - 进入"报工管理"
   - 查看刚才的报工记录
   - 验证数据是否正确

**完成后告诉我：** "报工管理功能测试完成"

---

### 步骤9：仓储操作功能

**您的操作：**
1. **生产领料**：
   - 进入"仓储管理" → "生产领料"
   - 选择工单
   - 选择需要领用的物料和数量
   - 提交领料单

2. **成品入库**：
   - 进入"仓储管理" → "成品入库"
   - 选择工单
   - 填写入库数量
   - 提交入库单

3. **库存查询**：
   - 进入"仓储管理" → "库存查询"
   - 查询刚才入库的物料
   - 验证库存数量是否正确

**完成后告诉我：** "仓储操作功能测试完成"

---

### 步骤10：生产看板功能

**您的操作：**
1. **查看生产看板**：
   - 进入"快智造" → "生产看板"
   - 查看工单进度
   - 查看工单状态统计
   - 查看生产进度图表

2. **验证数据实时性**：
   - 创建一个新工单
   - 下达工单
   - 查看看板是否实时更新

**完成后告诉我：** "生产看板功能测试完成"

---

## 📝 测试检查清单

每个功能完成后，请检查以下项目：

### ✅ 功能完整性
- [ ] 功能是否按需求实现
- [ ] 是否有遗漏的功能点
- [ ] 边界情况是否处理

### ✅ 用户体验
- [ ] 界面是否友好
- [ ] 操作是否流畅
- [ ] 错误提示是否清晰

### ✅ 数据准确性
- [ ] 数据是否正确保存
- [ ] 数据是否正确显示
- [ ] 数据关联是否正确

### ✅ 性能表现
- [ ] 页面加载速度是否合理
- [ ] API响应时间是否合理
- [ ] 大数据量处理是否正常

---

## 🆘 遇到问题时

**如果遇到问题，请告诉我：**
1. 问题描述
2. 操作步骤
3. 错误信息（如果有）
4. 截图（如果有）

**我会立即帮您解决！**

---

## 📅 开发时间表

| 阶段 | 时间 | 状态 |
|------|------|------|
| 准备工作 | 2025-12-27 | ⏳ 进行中 |
| 系统级基础能力建设 | 2026-01-03 ~ 2026-01-24 | ⏳ 待开始 |
| 快智造MVP开发 | 2026-01-27 ~ 2026-02-14 | ⏳ 待开始 |

---

**文档创建时间：** 2025-12-27  
**文档作者：** Luigi Lu  
**最后更新：** 2025-12-27

