import { Metadata } from '@grpc/grpc-js';
import { Observable } from 'rxjs';
import { Error } from '../../univer/constants/errors';
import { ObjectScope, UnitAction, UnitObject, UnitPermissionStrategy, UnitRole, UnitRoleKV, UnitShareScope, User } from '../../univer/permission';
export declare const protobufPackage = "universer.v1";
export interface Collaborator {
    id: string;
    role: UnitRole;
    subject: User | undefined;
}
export interface ObjScope {
    edit: ObjectScope;
    read: ObjectScope;
}
export interface PermissionPoint {
    objectID: string;
    unitID: string;
    objectType: UnitObject;
    name: string;
    /** @deprecated */
    shareOn: boolean;
    shareRole: UnitRole;
    creator: User | undefined;
    strategies: UnitPermissionStrategy[];
    actions: ActionInfo[];
    shareScope: UnitShareScope;
    scope: ObjScope | undefined;
}
export interface CreateRequest {
    objectType: UnitObject;
    selectRangeObject?: CreateRequest_SelectRangeObject | undefined;
    worksheetObject?: CreateRequest_WorksheetObject | undefined;
}
export interface CreateRequest_SelectRangeObject {
    collaborators: Collaborator[];
    unitID: string;
    name: string;
    scope: ObjScope | undefined;
}
export interface CreateRequest_WorksheetObject {
    collaborators: Collaborator[];
    unitID: string;
    name: string;
    strategies: UnitPermissionStrategy[];
    scope: ObjScope | undefined;
}
export interface CreateResponse {
    error: Error | undefined;
    objectID: string;
}
export interface UpdatePermPointRequest {
    objectType: UnitObject;
    objectID: string;
    unitID: string;
    share: UpdatePermPointRequest_Share | undefined;
    name: string;
    strategies: UnitPermissionStrategy[];
    scope: ObjScope | undefined;
    collaborators: UpdatePermPointRequest_Collaborators | undefined;
}
export interface UpdatePermPointRequest_Share {
    /** @deprecated */
    on: boolean;
    role: UnitRole;
    scope: UnitShareScope;
}
export interface UpdatePermPointRequest_Collaborators {
    collaborators: Collaborator[];
}
export interface UpdatePermPointResponse {
    error: Error | undefined;
}
export interface ListPermPointRequest {
    unitID: string;
    objectIDs: string[];
    actions: UnitAction[];
}
export interface ListPermPointResponse {
    error: Error | undefined;
    objects: PermissionPoint[];
}
export interface CreateCollaboratorRequest {
    objectID: string;
    unitID: string;
    collaborators: Collaborator[];
}
export interface CreateCollaboratorResponse {
    error: Error | undefined;
}
export interface UpdateCollaboratorRequest {
    objectID: string;
    unitID: string;
    collaborator: Collaborator | undefined;
}
export interface UpdateCollaboratorResponse {
    error: Error | undefined;
}
export interface DeleteCollaboratorRequest {
    objectID: string;
    unitID: string;
    collaboratorID: string;
}
export interface DeleteCollaboratorResponse {
    error: Error | undefined;
}
export interface ListCollaboratorRequest {
    objectID: string;
    unitID: string;
}
export interface ListCollaboratorResponse {
    error: Error | undefined;
    collaborators: Collaborator[];
}
export interface PutCollaboratorsRequest {
    objectID: string;
    unitID: string;
    collaborators: Collaborator[];
}
export interface PutCollaboratorsResponse {
    error: Error | undefined;
}
export interface AllowedRequest {
    objectID: string;
    objectType: UnitObject;
    unitID: string;
    actions: UnitAction[];
}
export interface ActionInfo {
    action?: UnitAction | undefined;
    allowed?: boolean | undefined;
}
export interface AllowedResponse {
    error: Error | undefined;
    actions: ActionInfo[];
}
export interface BatchAllowedRequest {
    requests: AllowedRequest[];
}
export interface ObjectActionInfo {
    unitID: string;
    objectID: string;
    actions: ActionInfo[];
}
export interface BatchAllowedResponse {
    error: Error | undefined;
    objectActions: ObjectActionInfo[];
}
export interface ListRolesRequest {
    objectType: UnitObject;
}
export interface ListRolesResponse {
    error: Error | undefined;
    roles: UnitRoleKV[];
    actions: UnitAction[];
    defaultStrategies: UnitPermissionStrategy[];
}
export interface AuthzService {
    /** create a permission mount point for specified type of object */
    Create(request: CreateRequest, metadata?: Metadata): Observable<CreateResponse>;
    /**
     * update a permission mount point
     * selectrange and worksheet may not used if unit record the permission point in mutation by itself.
     * workbook and document use it to set share mode.
     */
    Update(request: UpdatePermPointRequest, metadata?: Metadata): Observable<UpdatePermPointResponse>;
    /**
     * list all permission mount points for unit
     * it may not used if unit record the permission point in mutation by itself
     */
    List(request: ListPermPointRequest, metadata?: Metadata): Observable<ListPermPointResponse>;
    /** request a couple of actions, return the allowed actions */
    Allowed(request: AllowedRequest, metadata?: Metadata): Observable<AllowedResponse>;
    /** barch check if the actions are allowed */
    BatchAllowed(request: BatchAllowedRequest, metadata?: Metadata): Observable<BatchAllowedResponse>;
    /** list object roles for specified object */
    ListRoles(request: ListRolesRequest, metadata?: Metadata): Observable<ListRolesResponse>;
    /** new collaborator for specified object */
    CreateCollaborator(request: CreateCollaboratorRequest, metadata?: Metadata): Observable<CreateCollaboratorResponse>;
    /** list all collaborators for specified object */
    ListCollaborators(request: ListCollaboratorRequest, metadata?: Metadata): Observable<ListCollaboratorResponse>;
    /** update collaborator for specified object */
    UpdateCollaborator(request: UpdateCollaboratorRequest, metadata?: Metadata): Observable<UpdateCollaboratorResponse>;
    /** delete collaborator for specified object */
    DeleteCollaborator(request: DeleteCollaboratorRequest, metadata?: Metadata): Observable<DeleteCollaboratorResponse>;
    /** put collaborators for specified object */
    PutCollaborators(request: PutCollaboratorsRequest, metadata?: Metadata): Observable<PutCollaboratorsResponse>;
}
