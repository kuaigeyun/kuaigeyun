import { Metadata } from '@grpc/grpc-js';
import { Observable } from 'rxjs';
import { Error } from '../../univer/constants/errors';
import { ExecutionStatus, ExecutionTriggerType } from './uniscript_logs';
export declare const protobufPackage = "universer.v1";
export declare enum TriggerIntervalUnit {
    UNDEFINED_Unit = 0,
    SECOND = 1,
    MINUTE = 2,
    HOUR = 3,
    DAY = 4,
    WEEK = 5,
    MONTH = 6,
    YEAR = 7,
    UNRECOGNIZED = -1
}
export declare enum TriggerStatus {
    TriggerStatusEnable = 0,
    TriggerStatusDISABLED = 1,
    TriggerStatusDelete = 2,
    UNRECOGNIZED = -1
}
export interface Trigger {
    triggerId: string;
    workspaceId: string;
    /** scriptId, unitId etc */
    sourceId: string;
    triggerName: string;
    functionName: string;
    source: ExecutionTriggerType;
    startTime: string;
    endTime: string;
    intervalTime: number;
    intervalUnit: TriggerIntervalUnit;
    description: string;
    /** begin time, timestamp seconds */
    lastRunTime: string;
    lastRunResult: ExecutionStatus;
    creator: string;
    createTime: string;
    updateTime: string;
}
export interface CreateTriggerRequest {
    workspaceId: string;
    sourceId: string;
    triggerName: string;
    functionName: string;
    source: ExecutionTriggerType;
    startTime: string;
    endTime: string;
    intervalTime: number;
    intervalUnit: TriggerIntervalUnit;
    description: string;
}
export interface CreateTriggerResponse {
    error: Error | undefined;
    triggerId: string;
}
export interface UpdateTriggerRequest {
    triggerId: string;
    sourceId?: string | undefined;
    triggerName?: string | undefined;
    functionName?: string | undefined;
    source?: ExecutionTriggerType | undefined;
    startTime?: string | undefined;
    endTime?: string | undefined;
    intervalTime?: number | undefined;
    intervalUnit?: TriggerIntervalUnit | undefined;
    description?: string | undefined;
    /** only use enable/disable trigger */
    status?: TriggerStatus | undefined;
}
export interface UpdateTriggerResponse {
    error: Error | undefined;
}
export interface DeleteTriggersRequest {
    triggerIds: string[];
}
export interface DeleteTriggersResponse {
    error: Error | undefined;
}
export interface ListTriggersRequest {
    workspaceId: string;
}
export interface ListTriggersResponse {
    error: Error | undefined;
    triggers: Trigger[];
}
export interface GetTriggerRequest {
    triggerId: string;
}
export interface GetTriggerResponse {
    error: Error | undefined;
    trigger: Trigger | undefined;
}
export interface TriggerService {
    CreateTrigger(request: CreateTriggerRequest, metadata?: Metadata): Observable<CreateTriggerResponse>;
    UpdateTrigger(request: UpdateTriggerRequest, metadata?: Metadata): Observable<UpdateTriggerResponse>;
    DeleteTriggers(request: DeleteTriggersRequest, metadata?: Metadata): Observable<DeleteTriggersResponse>;
    ListTriggers(request: ListTriggersRequest, metadata?: Metadata): Observable<ListTriggersResponse>;
    GetTrigger(request: GetTriggerRequest, metadata?: Metadata): Observable<GetTriggerResponse>;
}
