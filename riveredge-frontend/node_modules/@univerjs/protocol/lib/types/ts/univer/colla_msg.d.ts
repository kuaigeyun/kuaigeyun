import { Changeset } from './changeset';
import { UniverType } from './constants/univer';
import { ObjectScope, UnitPermissionStrategy, UnitRole, UnitShareScope, User } from './permission';
export declare const protobufPackage = "univer";
export interface CollaMsg {
    eventID: string;
    joinEvent?: CollaMsgJoin | undefined;
    leaveEvent?: CollaMsgLeave | undefined;
    newCsEvent?: NewChangesets | undefined;
    csAckEvent?: ChangesetAck | undefined;
    csRejEvent?: ChangesetRej | undefined;
    updateCursorEvent?: UpdateCursor | undefined;
    liveShareRequestHost?: LiveShareRequestHost | undefined;
    liveShareNewHost?: LiveShareNewHost | undefined;
    liveShareOperation?: LiveShareOperation | undefined;
    liveShareTerminate?: LiveShareTerminate | undefined;
    errorEvent?: CollaMsgErrorEvent | undefined;
    permissionRejEvent?: PermissionRej | undefined;
    /** eventID: "should_close_conn" */
    shouldCloseConn?: ShouldCloseConn | undefined;
    commentUpdateEvent?: CommentUpdate | undefined;
    /** envntID: "update_collaborator" */
    updateCollaboratorEvent?: UpdateCollaborator | undefined;
    /** eventID: "update_permission_obj" */
    updatePermissionObjEvent?: UpdatePermissionObj | undefined;
    /** eventID: "changeset_should_retry" */
    csShouldRetryEvent?: ChangesetShouldRetry | undefined;
    /** eventID: "uniscript.run" */
    uniscriptRunEvent?: UniscriptRun | undefined;
}
export interface CollaMsgJoin {
    memberID: string;
    name: string;
    avatar: string;
}
export interface CollaMsgLeave {
    memberID: string;
    name: string;
}
export interface NewChangesets {
    cs: Changeset | undefined;
}
export interface ChangesetAck {
    cs: Changeset | undefined;
}
export interface ChangesetRej {
    cs: Changeset | undefined;
}
export interface ChangesetShouldRetry {
    cs: Changeset | undefined;
}
export interface UpdateCursor {
    unitID: string;
    /**
     * Member ID of the user in the collaboration session.
     * If a user open a document multi times, there will be different memberIDs.
     */
    memberID: string;
    selection: string;
}
export interface LiveShareRequestHost {
    unitID: string;
    userID: string;
}
export interface LiveShareNewHost {
    presenter: string;
    unitID: string;
    userID: string;
}
export interface LiveShareOperation {
    unitID: string;
    presenter: string;
    /** key is Operation.id */
    operations: {
        [key: string]: LiveShareOperation_Operation;
    };
}
export interface LiveShareOperation_Operation {
    id: string;
    params?: string | undefined;
}
export interface LiveShareOperation_OperationsEntry {
    key: string;
    value: LiveShareOperation_Operation | undefined;
}
export interface LiveShareTerminate {
    unitID: string;
}
/** define msg for errors */
export interface CollaMsgErrorEvent {
    code: number;
    reason: string;
}
export interface PermissionRej {
    cs: Changeset | undefined;
}
export interface CommentUpdate {
    memberId: string;
    userId: string;
    unitId: string;
    threadId: string;
    type: CommentUpdate_EventType;
    replyId?: string | undefined;
    /** Set when solve or reopen  Otherwise, it will be null */
    solved?: CommentUpdate_Status | undefined;
    /** Set when edit or new comment reply. Otherwise, it will be null */
    content?: string | undefined;
    /** Set true when Create or Edit comment. Otherwise, it will be null */
    createTimestamp?: string | undefined;
    user?: User | undefined;
}
export declare enum CommentUpdate_Status {
    OpenOrReOpen = 0,
    Solved = 1,
    UNRECOGNIZED = -1
}
export declare enum CommentUpdate_EventType {
    Unknown = 0,
    Add = 1,
    Reply = 2,
    Edit = 3,
    Delete = 4,
    Solve = 5,
    UNRECOGNIZED = -1
}
export interface UpdateUnit {
    name: string;
    unitId: string;
}
export interface ShouldCloseConn {
    /** enum, ["logout", "roleChange"] */
    reason: string;
}
export interface UpdateCollaborator {
    role: UnitRole;
    /** enum, ["update", "delete"] */
    operation: string;
    userId: string;
}
export interface UpdatePermissionObj {
    objectId: string;
    strategies: UnitPermissionStrategy[];
    share: UpdatePermissionObj_Share | undefined;
    scope: UpdatePermissionObj_Scope | undefined;
}
export interface UpdatePermissionObj_Share {
    scope: UnitShareScope;
    role: UnitRole;
}
export interface UpdatePermissionObj_Scope {
    edit: ObjectScope;
    read: ObjectScope;
}
export interface CreateUnit {
    type: UniverType;
    unitID: string;
    name: string;
}
export interface DeleteUnits {
    unitIDs: string[];
}
export interface UniscriptRun {
    /** name of uniscript */
    name: string;
    /** content of uniscirpt */
    script: string;
    /** id of uniscript */
    scriptId: string;
    function: string;
    /**
     * argsOfFunction is a json string, it should be a list of arguments
     * e.g. '[123, "hello", true, {"a": 1, "b": 2}]'
     */
    argsOfFunction?: string | undefined;
    /** executionId for script logs record. */
    executionId: string;
    compiledScript: string;
}
