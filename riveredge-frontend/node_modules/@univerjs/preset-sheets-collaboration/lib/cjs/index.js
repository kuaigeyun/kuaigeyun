"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("@univerjs-pro/collaboration"),n=require("@univerjs-pro/collaboration-client"),o=require("@univerjs-pro/collaboration-client-ui"),l=require("@univerjs-pro/edit-history-loader");require("@univerjs-pro/collaboration-client/lib/facade");require("@univerjs-pro/collaboration-client-ui/lib/facade");const a=require("@univerjs-pro/edit-history-viewer");function p(e){const t=new URL(e,window.location.origin);switch(t.protocol){case"https:":t.protocol="wss:";break;case"http:":t.protocol="ws:";break}return t.toString()}function b(e={}){const{universerEndpoint:t,univerContainerId:s="app",enableOfflineEditing:c=!0,enableSingleActiveInstanceLock:u=!0}=e,r=t!=null?t:`${window.location.protocol}//${window.location.host}`;return{plugins:[i.UniverCollaborationPlugin,[n.UniverCollaborationClientPlugin,{socketService:o.BrowserCollaborationSocketService,enableOfflineEditing:c,enableSingleActiveInstanceLock:u,enableAuthServer:!0,authzUrl:`${r}/universer-api/authz`,snapshotServerUrl:`${r}/universer-api/snapshot`,collabSubmitChangesetUrl:`${r}/universer-api/comb`,collabWebSocketUrl:p(`${r}/universer-api/comb/connect`),loginUrlKey:`${r}/universer-api/oidc/authpage`,uploadFileServerUrl:`${r}/universer-api/stream/file/upload`,signUrlServerUrl:`${r}/universer-api/file/{fileID}/sign-url`,downloadEndpointUrl:`${r}/`,wsSessionTicketUrl:`${r}/universer-api/user/session-ticket`,sendChangesetTimeout:200}],[o.UniverCollaborationClientUIPlugin,{}],[l.UniverEditHistoryLoaderPlugin,{univerContainerId:s,historyListServerUrl:`${r}/universer-api/history`}]]}}exports.UniverSheetsCollaborationPreset=b;Object.keys(i).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(exports,e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>i[e]})});Object.keys(n).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(exports,e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>n[e]})});Object.keys(o).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(exports,e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>o[e]})});Object.keys(l).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(exports,e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>l[e]})});Object.keys(a).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(exports,e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>a[e]})});
