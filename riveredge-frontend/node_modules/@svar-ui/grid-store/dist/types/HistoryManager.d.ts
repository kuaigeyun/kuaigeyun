import { EventBus } from "@wx/lib-state";
import type { IDataMethodsConfig } from "./DataStore";
import { IData, TMethodsConfig } from "./types";
type ActionType = keyof IDataMethodsConfig;
interface ActionData<T extends ActionType> {
    action: T;
    data: IDataMethodsConfig[T];
}
interface HistoryEntry extends ActionData<ActionType> {
    source: ActionData<ActionType>;
}
export declare class HistoryManager {
    private undo;
    private redo;
    private progress;
    private in;
    private getState;
    private setState;
    private _previousValues;
    constructor(eventBus: EventBus<TMethodsConfig, keyof TMethodsConfig>, stateGetter: () => Partial<IData>, stateSetter: (state: Partial<IData>) => void);
    getHandlers(): {
        [key: string]: {
            handler: (ev: any) => HistoryEntry;
        };
    };
    resetHistory(): void;
    private getPrev;
    private setHandlers;
    private setPrev;
    private addToHistory;
    handleUndo(): void;
    handleRedo(): void;
    private resetStateHistory;
    private setStateHistory;
    private getRow;
    private getTreeRow;
    private getColumn;
}
export {};
