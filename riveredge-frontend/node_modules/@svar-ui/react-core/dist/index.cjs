"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),n=require("react"),T=require("@svar-ui/lib-react"),I=require("@svar-ui/lib-dom"),le=require("@svar-ui/core-locales"),Ce=require("react-dom"),U=n.createContext("willow"),we=n.createContext({}),B=n.createContext(null),z=n.createContext(null),ye=Object.freeze(Object.defineProperty({__proto__:null,fieldId:z,helpers:we,i18n:B,theme:U},Symbol.toStringTag,{value:"Module"}));function Y(t){const l=n.useContext(z),[s]=n.useState(()=>t||l&&l()||I.uid());return s}function De({value:t="",id:l,placeholder:s="",title:c="",disabled:a=!1,error:i=!1,readonly:u=!1,onChange:r}){const o=Y(l),[x,f]=T.useWritableProp(t),w=n.useCallback(v=>{const d=v.target.value;f(d),r&&r({value:d,input:!0})},[r]),m=n.useCallback(v=>{const d=v.target.value;f(d),r&&r({value:d})},[r]),p=n.useRef(null);return n.useEffect(()=>{const v=m,d=p.current;return d.addEventListener("change",v),()=>{d&&d.removeEventListener("change",v)}},[m]),e.jsx("textarea",{className:`wx-3yFVAC wx-textarea ${i?"wx-error":""}`,id:o,disabled:a,placeholder:s,readOnly:u,title:c,value:x,onInput:w,ref:p})}function Q({type:t="",css:l="",icon:s="",disabled:c=!1,title:a="",text:i="",children:u,onClick:r}){const o=n.useMemo(()=>{let f=t?t.split(" ").filter(w=>w!=="").map(w=>"wx-"+w).join(" "):"";return l+(l?" ":"")+f},[t,l]),x=f=>{r&&r(f)};return e.jsxs("button",{title:a,className:`wx-2ZWgb4 wx-button ${o} ${s&&!u?"wx-icon":""}`,disabled:c,onClick:x,children:[s&&e.jsx("i",{className:"wx-2ZWgb4 "+s}),u||i||" "]})}function ae({id:t,label:l="",inputValue:s="",value:c=!1,onChange:a,disabled:i=!1}){const u=Y(t),[r,o]=T.useWritableProp(c),x=({target:f})=>{const w=f.checked;o(w),a&&a({value:w,inputValue:s})};return e.jsxs("div",{className:"wx-2IvefP wx-checkbox",children:[e.jsx("input",{type:"checkbox",id:u,disabled:i,className:"wx-2IvefP wx-check",checked:r,value:s,onChange:x}),e.jsxs("label",{htmlFor:u,className:"wx-2IvefP wx-label",children:[e.jsx("span",{className:"wx-2IvefP wx-before"}),l&&e.jsx("span",{className:"wx-2IvefP wx-after",children:l})]})]})}function Se({options:t=[],value:l=[],type:s="",onChange:c}){const a=n.useCallback(i=>{let u;i.value?u=[...l,i.inputValue]:u=l.filter(r=>r!==i.inputValue),c&&c({value:u})},[l,c]);return e.jsx(z.Provider,{value:null,children:e.jsx("div",{className:`wx-q8xwRD wx-checkboxgroup ${s&&`wx-${s}`}`,children:t.map(i=>e.jsx("div",{className:"wx-q8xwRD wx-item",children:e.jsx(ae,{label:i.label,inputValue:i.id,value:l.includes(i.id),onChange:a})},i.id))})})}function q({position:t="bottom",align:l="start",autoFit:s=!0,onCancel:c,width:a="100%",children:i}){const u=n.useRef(null),[r,o]=T.useWritableProp(t),[x,f]=T.useWritableProp(l);return n.useEffect(()=>{if(s){const w=u.current;if(w){const m=w.getBoundingClientRect(),p=I.env.getTopNode(w).getBoundingClientRect();m.right>=p.right&&f("end"),m.bottom>=p.bottom&&o("top")}}},[s]),n.useEffect(()=>{if(u.current){const w=m=>{c&&c(m)};return I.clickOutside(u.current,w).destroy}},[c]),e.jsx("div",{ref:u,className:`wx-32GZ52 wx-dropdown wx-${r}-${x}`,style:{width:a},children:i})}const Me=["#00a037","#37a9ef","#f5a623","#ff4c3b","#a0a0a0","#000000","#ffffff"];function Re({colors:t=Me,value:l="",onChange:s,id:c,clear:a=!1,placeholder:i="",title:u="",disabled:r=!1,error:o=!1}){const x=Y(c),[f,w]=n.useState(l),[m,p]=n.useState(!1),v=n.useCallback((j,b)=>{j.stopPropagation(),w(b),p(!1),s&&s({value:b})},[s]),d=n.useCallback(j=>{j.stopPropagation(),w(""),s&&s({value:""})},[s]),h=n.useCallback(()=>{if(r)return!1;p(!0)},[r]);return e.jsxs("div",{className:"wx-121TgJ wx-colorselect",onClick:h,children:[e.jsx("input",{className:"wx-121TgJ wx-input"+(o?" wx-error":"")+(m?" wx-focus":""),title:u,value:f,readOnly:!0,id:x,placeholder:i,disabled:r}),a&&f&&!r&&e.jsx("i",{className:"wx-121TgJ wx-clear wxi-close",onClick:d}),f?e.jsx("div",{className:"wx-121TgJ wx-color wx-selected",style:{backgroundColor:f||"#00a037"}}):e.jsx("div",{className:"wx-121TgJ wx-empty wx-selected"}),m&&e.jsx(q,{onCancel:()=>p(!1),children:e.jsxs("div",{className:"wx-121TgJ wx-colors",children:[e.jsx("div",{className:"wx-121TgJ wx-empty",onClick:j=>v(j,"")}),t.map((j,b)=>e.jsx("div",{className:"wx-121TgJ wx-color",style:{backgroundColor:j},onClick:R=>v(R,j)},b))]})})]})}function ce(t,l){const s=t.firstChild,{moveBlockSlider:c,moveLineSlider:a}=l||{};function i(o){u(o),s.focus(),window.addEventListener("mousemove",u),window.addEventListener("mouseup",r)}function u(o){let x,f,w,m;const p=t.getBoundingClientRect();x=p.left,f=p.top,w=o.clientX-x,m=o.clientY-f,c&&l.moveBlockSlider(w,m),a&&l.moveLineSlider(w)}function r(){s.blur(),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",r)}return t.addEventListener("mousedown",i),{destroy(){t.removeEventListener("mousedown",i)}}}const _={_toHex:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],toHex(t,l){t=parseInt(t,10);let s="";for(;t>0;)s=this._toHex[t%16]+s,t=Math.floor(t/16);for(;s.length<l;)s=`0${s}`;return s},rgbToHex(t){let l=[];return typeof t=="string"?t.replace(/[\d+.]+/g,s=>l.push(parseFloat(s))):Array.isArray(t)&&(l=t),l[3]===0?"":l.slice(0,3).map(s=>this.toHex(Math.floor(s),2)).join("")},hexToDec(t){return parseInt(t,16)},hexToRgb(t){t=t.charAt(0)==="#"?t.slice(1):t;const l=t.match(/.{1,2}/g);let[s,c,a]=l;return s=this.hexToDec(s),c=this.hexToDec(c),a=this.hexToDec(a),[s,c,a]},hsvToRgb(t,l,s){let c,a,i,u,r,o,x,f;switch(c=Math.floor(t/60)%6,a=t/60-c,i=s*(1-l),u=s*(1-a*l),r=s*(1-(1-a)*l),o=0,x=0,f=0,c){case 0:o=s,x=r,f=i;break;case 1:o=u,x=s,f=i;break;case 2:o=i,x=s,f=r;break;case 3:o=i,x=u,f=s;break;case 4:o=r,x=i,f=s;break;case 5:o=s,x=i,f=u;break}return o=Math.floor(o*255),x=Math.floor(x*255),f=Math.floor(f*255),[o,x,f]},rgbToHsv(t,l,s){let c,a,i;t/=255,l/=255,s/=255;let u=Math.min(t,l,s),r=Math.max(t,l,s);return a=0,c=r===0?0:1-u/r,i=r,r===u?a=0:r===t&&l>=s?a=60*(l-s)/(r-u)+0:r===t&&l<s?a=60*(l-s)/(r-u)+360:r===l?a=60*(s-t)/(r-u)+120:r===s&&(a=60*(t-l)/(r-u)+240),[a,c,i]},hexToHvs(t){const l=this.hexToRgb(t);return this.rgbToHsv(...l)},hvsToHex(t,l,s){const c=this.hsvToRgb(t,l,s);return"#"+this.rgbToHex(c).toUpperCase()}},Ve=t=>/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t);function oe(t){return t?(t=t.toString(16),t.charAt(0)==="#"&&(t=t.slice(1)),Ve(t)?(t.length===3&&(t=t.slice(0,3).split("").reduce((l,s)=>l+s+s,"")),`#${t.toUpperCase()}`):null):null}function G(){return I.locale(le.en)}const ue="Block",ie="Line";function me({value:t="#65D3B3",button:l=!1,onChange:s}){const c=(n.useContext(B)||G()).getGroup("core"),a=n.useRef(null),i=n.useRef(null),[u,r]=n.useState(),[o,x]=n.useState(),[f,w]=n.useState(),[m,p]=n.useState(),[v,d]=T.useWritableProp(t),h=n.useMemo(()=>oe(v)||"#65D3B3",[v]),j=n.useMemo(()=>_.hvsToHex(f||0,1,1),[f]),b=n.useCallback((N,k)=>{const{width:P,height:E}=a.current.getBoundingClientRect();k<0?k=0:k>E&&(k=E),N<0?N=0:N>P&&(N=P),r(k),x(N);let $,M;_.hexToHvs(h);const L=P/100,W=E/100;$=Math.ceil(N/L)/100,M=Math.ceil(Math.abs(k/W-100))/100;const A=_.hvsToHex(f||0,$,M);d(A),s&&s({value:A,input:!0})},[h,f,s]),R=n.useCallback(N=>{const k=i.current.getBoundingClientRect().width;N<0?N=0:N>k&&(N=k);const P=Math.round(N*359/k),E=Math.max(Math.min(P,359),0);w(E),p(N);let $,M;[,$,M]=_.hexToHvs(h);const L=_.hvsToHex(E,$,M);d(L),s&&s({value:L,input:!0})},[h,s]),g=n.useCallback(()=>{const[N,k,P]=_.hexToHvs(h);if(w(N),a.current){const{width:E,height:$}=a.current.getBoundingClientRect();i.current&&p(N*i.current.getBoundingClientRect().width/359),x(k*E),r(Math.abs($*(P-1)))}},[h]),D=n.useCallback(({target:N})=>{const k=oe(N.value);d(k),s&&s({value:k,input:!0}),k&&g()},[s,g]),S=n.useCallback(N=>{N.stopPropagation(),s&&s({value:h})},[h,s]),V=n.useCallback(N=>{const k=N.target,P=k.getAttribute("data-slider")===ue,E=k.getAttribute("data-slider")===ie;let $=window.getComputedStyle(k),M=parseFloat($.left),L=parseFloat($.top);const W=N.code;if(P){switch(W){case"ArrowLeft":{M--;break}case"ArrowRight":{M++;break}case"ArrowDown":{L++;break}case"ArrowUp":{L--;break}default:return}b(M,L)}if(E){if(W==="ArrowLeft"||W==="ArrowDown")M--;else if(W==="ArrowRight"||W==="ArrowUp")M++;else return;R(M)}N.preventDefault()},[b,R]);n.useEffect(()=>{g()},[g]),n.useEffect(()=>{v!==v&&(d(v),g())},[v,v,g]),n.useEffect(()=>{a.current&&ce(a.current,{moveBlockSlider:b}),i.current&&ce(i.current,{moveLineSlider:R})},[b,R]),n.useEffect(()=>{v!==v&&s&&s({value:v,input:!0})},[v,s]),n.useEffect(()=>{h&&a.current&&g()},[h,g]);const C="wx-1yoKzq";return e.jsxs("div",{className:C+" wx-colorboard",children:[e.jsx("div",{className:C+" wx-color-block",style:{background:j},ref:a,children:e.jsx("div",{className:C+" wx-color-block-slider wx-slider",style:{background:h,top:u+"px",left:o+"px"},tabIndex:0,"data-slider":ue,onKeyDown:V})}),e.jsx("div",{className:C+" wx-color-line",ref:i,children:e.jsx("div",{className:C+" wx-color-line-slider wx-slider",style:{background:j,left:m+"px"},tabIndex:0,"data-slider":ie,onKeyDown:V})}),e.jsxs("div",{className:C+" wx-color-controls",children:[e.jsx("div",{className:C+" wx-color",style:{background:h}}),e.jsx("input",{type:"text",className:C+" wx-text",value:v,onChange:D})]}),l&&e.jsx(Q,{onClick:S,type:"secondary",children:c("select")})]})}function Pe({value:t="",id:l,placeholder:s="",title:c="",disabled:a=!1,error:i=!1,clear:u=!1,onChange:r}){const o=Y(l);let[x,f]=T.useWritableProp(t);const[w,m]=n.useState(!1);function p(){if(a)return!1;m(!0)}function v(h){if(h.input)return;m(!1);const j=h.value;f(j),r&&r({value:j})}function d(h){h.stopPropagation(),f(""),r&&r({value:""})}return e.jsxs("div",{className:"wx-mmT8WH wx-colorpicker",onClick:p,children:[e.jsx("input",{className:"wx-mmT8WH wx-input"+(i?" wx-error":"")+(w?" wx-focus":""),title:c,value:x,readOnly:!0,id:o,placeholder:s,disabled:a}),e.jsx("div",{className:"wx-mmT8WH wx-color",style:{background:x}}),u&&!a&&x&&e.jsx("i",{className:"wx-mmT8WH wxi-close",onClick:d}),w&&e.jsx(q,{onCancel:()=>m(!1),children:e.jsx(me,{value:x,button:"true",onChange:v})})]})}function Te(){let t=null,l=!1,s,c,a,i;const u=(m,p,v,d)=>{s=m,c=p,a=v,i=d},r=m=>{t=m,l=t!==null,a(t)},o=(m,p)=>{if(m!==null&&s){const v=s.querySelectorAll(".wx-list > .wx-item")[m];v&&(v.scrollIntoView({block:"nearest"}),p&&p.preventDefault())}},x=(m,p)=>{const v=m===null?null:Math.max(0,Math.min(t+m,c.length-1));v!==t&&(r(v),s?o(v,p):requestAnimationFrame(()=>o(v,p)))};return{move:m=>{const p=I.locateID(m),v=c.findIndex(d=>d.id==p);v!==t&&r(v)},keydown:(m,p)=>{switch(m.code){case"Enter":l?i():r(0);break;case"Space":l||r(0);break;case"Escape":a(t=null);break;case"Tab":a(t=null);break;case"ArrowDown":x(l?1:p||0,m);break;case"ArrowUp":x(l?-1:p||0,m);break}},init:u,navigate:x}}function X({items:t=[],children:l,onSelect:s,onReady:c}){const a=n.useRef(),i=n.useRef(Te()),[u,r]=n.useState(null),o=n.useRef(u),x=(n.useContext(B)||G()).getGroup("core"),f=m=>{m&&m.stopPropagation(),s&&s({id:t[o.current]?.id})};n.useEffect(()=>{i.current.init(a.current,t,m=>{r(m),o.current=m},f)},[t,a.current]),n.useEffect(()=>{c&&c(i.current)},[]);const w=n.useCallback(()=>{i.current.navigate(null)},[i]);return u===null?null:e.jsx(q,{onCancel:w,children:e.jsx("div",{className:"wx-233fr7 wx-list",ref:a,onClick:f,onMouseMove:i.current.move,children:t.length?t.map((m,p)=>e.jsx("div",{className:`wx-233fr7 wx-item ${p===u?"wx-focus":""}`,"data-id":m.id,children:l?T.snippet(l,{option:m}):m.label},m.id)):e.jsx("div",{className:"wx-233fr7 wx-no-data",children:x("No data")})})})}function $e({value:t="",id:l,options:s=[],textOptions:c=null,textField:a="label",placeholder:i="",title:u="",disabled:r=!1,error:o=!1,clear:x=!1,children:f,onChange:w}){const m=Y(l),p=n.useRef(null),v=n.useRef(null),[d,h]=T.useWritableProp(t),[j,b]=n.useState(!1),[R,g]=n.useState(""),D=n.useRef(null),S=n.useRef(!1),V=n.useMemo(()=>{if(j)return R;if(d||d===0){const F=(c||s).find(O=>O.id===d);if(F)return F[a]}return""},[j,R,d,c,s,a]),C=n.useMemo(()=>!V||!j?s:s.filter(F=>F[a].toLowerCase().includes(V.toLowerCase())),[V,j,s,a]),N=n.useCallback(()=>C.findIndex(F=>F.id===d),[C,d]),k=n.useCallback(F=>{p.current=F.navigate,v.current=F.keydown},[]),P=n.useCallback((F,O)=>{if(F||F===0){let J=s.find(y=>y.id===F);if(b(!1),O&&p.current(null),J&&d!==J.id){const y=J.id;h(y),w&&w({value:y})}}!S.current&&O&&D.current.focus()},[s,d,w]),E=n.useCallback(({id:F})=>{P(F,!0)},[P]),$=n.useCallback(F=>{F&&F.stopPropagation(),h(""),b(!1),w&&w({value:""})},[w]),M=n.useCallback(F=>{if(!s.length)return;if(F===""&&x){$();return}let O=s.find(y=>y[a]===F);O||(O=s.find(y=>y[a].toLowerCase().includes(F.toLowerCase())));const J=O?O.id:d||s[0].id;P(J,!1)},[s,a,x,d,P,$]),L=n.useCallback(()=>{g(D.current.value),b(!0),C.length?p.current(0):p.current(null)},[C.length,p]),W=n.useCallback(()=>{S.current=!0},[]),A=n.useCallback(()=>{S.current=!1,setTimeout(()=>{S.current||M(V)},200)},[M,V]);return e.jsxs("div",{className:"wx-1j11Jk wx-combo",onClick:()=>p.current(N()),onKeyDown:F=>v.current(F,N()),title:u,children:[e.jsx("input",{className:"wx-1j11Jk wx-input "+(o?"wx-error":""),id:m,ref:D,value:V,disabled:r,placeholder:i,onFocus:W,onBlur:A,onInput:L}),x&&!r&&d?e.jsx("i",{className:"wx-1j11Jk wx-icon wxi-close",onClick:$}):e.jsx("i",{className:"wx-1j11Jk wx-icon wxi-angle-down"}),!r&&e.jsx(X,{items:C,onReady:k,onSelect:E,children:({option:F})=>e.jsx(e.Fragment,{children:f?f({option:F}):F[a]})})]})}function ee({value:t="",id:l,readonly:s=!1,focus:c=!1,select:a=!1,type:i="text",placeholder:u="",disabled:r=!1,error:o=!1,inputStyle:x={},title:f="",css:w="",icon:m="",clear:p=!1,onChange:v}){const d=Y(l),[h,j]=T.useWritableProp(t),b=n.useRef(null),R=n.useMemo(()=>m&&w.indexOf("wx-icon-left")===-1?"wx-icon-right "+w:w,[m,w]),g=n.useMemo(()=>m&&w.indexOf("wx-icon-left")!==-1,[m,w]);n.useEffect(()=>{const N=setTimeout(()=>{c&&b.current&&b.current.focus(),a&&b.current&&b.current.select()},1);return()=>clearTimeout(N)},[c,a]);const D=n.useCallback(N=>{const k=N.target.value;j(k),v&&v({value:k,input:!0})},[v]),S=n.useCallback(N=>v&&v({value:N.target.value}),[v]);function V(N){N.stopPropagation(),j(""),v&&v({value:""})}let C=i;return i!=="password"&&i!=="number"&&(C="text"),n.useEffect(()=>{const N=S,k=b.current;return k.addEventListener("change",N),()=>{k&&k.removeEventListener("change",N)}},[S]),e.jsxs("div",{className:`wx-hQ64J4 wx-text ${R} ${o?"wx-error":""} ${r?"wx-disabled":""} ${p?"wx-clear":""}`,children:[e.jsx("input",{className:"wx-hQ64J4 wx-input",ref:b,id:d,readOnly:s,disabled:r,placeholder:u,type:C,style:x,title:f,value:h,onInput:D}),p&&!r&&h?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"wx-hQ64J4 wx-icon wxi-close",onClick:V}),g&&e.jsx("i",{className:`wx-hQ64J4 wx-icon ${m}`})]}):m?e.jsx("i",{className:`wx-hQ64J4 wx-icon ${m}`}):null]})}function Fe({date:t,type:l,part:s,onShift:c}){const{calendar:a,formats:i}=n.useContext(B).getRaw(),u=t.getFullYear(),r=n.useMemo(()=>{switch(l){case"month":return I.dateToString(i.monthYearFormat,a)(t);case"year":return I.dateToString(i.yearFormat,a)(t);case"duodecade":{const{start:x,end:f}=I.getDuodecade(u),w=I.dateToString(i.yearFormat,a);return`${w(new Date(x,0,1))} - ${w(new Date(f,11,31))}`}default:return""}},[t,l,u,a,i]);function o(){c&&c({diff:0,type:l})}return e.jsxs("div",{className:"wx-8HQVQV wx-header",children:[s!=="right"?e.jsx("i",{className:"wx-8HQVQV wx-pager wxi-angle-left",onClick:()=>c&&c({diff:-1,type:l})}):e.jsx("span",{className:"wx-8HQVQV wx-spacer"}),e.jsx("span",{className:"wx-8HQVQV wx-label",onClick:o,children:r}),s!=="left"?e.jsx("i",{className:"wx-8HQVQV wx-pager wxi-angle-right",onClick:()=>c&&c({diff:1,type:l})}):e.jsx("span",{className:"wx-8HQVQV wx-spacer"})]})}function re({onClick:t,children:l}){return e.jsx("button",{className:"wx-3s8W4d wx-button",onClick:t,children:l})}function pe({value:t,current:l,part:s="",markers:c=null,onCancel:a,onChange:i}){const u=(n.useContext(B)||G()).getRaw().calendar,r=(u.weekStart||7)%7,o=u.dayShort.slice(r).concat(u.dayShort.slice(0,r)),x=(g,D,S)=>new Date(g.getFullYear(),g.getMonth()+(D||0),g.getDate()+(S||0));let f=s!=="normal";function w(g){const D=g.getDay();return D===0||D===6}function m(){const g=x(l,0,1-l.getDate());return g.setDate(g.getDate()-(g.getDay()-(r-7))%7),g}function p(){const g=x(l,1,-l.getDate());return g.setDate(g.getDate()+(6-g.getDay()+r)%7),g}const v=n.useRef(0);function d(g,D){D.timeStamp!==v.current&&(v.current=D.timeStamp,D.stopPropagation(),i&&i(new Date(new Date(g))),a&&a())}const h=n.useMemo(()=>s=="normal"?[t?x(t).valueOf():0]:t?[t.start?x(t.start).valueOf():0,t.end?x(t.end).valueOf():0]:[0,0],[s,t]),j=n.useMemo(()=>{const g=m(),D=p(),S=l.getMonth();let V=[];for(let C=g;C<=D;C.setDate(C.getDate()+1)){const N={day:C.getDate(),in:C.getMonth()===S,date:C.valueOf()};let k="";if(k+=N.in?"":" wx-inactive",k+=h.indexOf(N.date)>-1?" wx-selected":"",f){const P=N.date==h[0],E=N.date==h[1];P&&!E?k+=" wx-left":E&&!P&&(k+=" wx-right"),N.date>h[0]&&N.date<h[1]&&(k+=" wx-inrange")}if(k+=w(C)?" wx-weekend":"",c){const P=c(C);P&&(k+=" "+P)}V.push({...N,css:k})}return V},[l,h,f,c]),b=n.useRef(null);let R=n.useRef({});return R.current.click=d,n.useEffect(()=>{I.delegateClick(b.current,R.current)},[]),e.jsxs("div",{children:[e.jsx("div",{className:"wx-398RBS wx-weekdays",children:o.map(g=>e.jsx("div",{className:"wx-398RBS wx-weekday",children:g},g))}),e.jsx("div",{className:"wx-398RBS wx-days",ref:b,children:j.map(g=>e.jsx("div",{className:`wx-398RBS wx-day ${g.css} ${g.in?"":"wx-out"}`,"data-id":g.date,children:g.day},g.date))})]})}function Ee({value:t,current:l,part:s,onCancel:c,onChange:a,onShift:i}){const[u,r]=T.useWritableProp(t||new Date),[o,x]=T.useWritableProp(l||new Date),f=n.useContext(B).getRaw().calendar,w=f.monthShort||[],m=n.useMemo(()=>o.getMonth(),[o]),p=n.useCallback((h,j)=>{if(h!=null){j.stopPropagation();const b=new Date(o);b.setMonth(h),x(b),i&&i({current:b})}s==="normal"&&r(new Date(o)),c&&c()},[o,s,i,c]),v=n.useCallback(()=>{const h=new Date(he(u,s)||o);h.setMonth(o.getMonth()),h.setFullYear(o.getFullYear()),a&&a(h)},[u,o,s,a]),d=n.useCallback(h=>{const j=h.target.closest("[data-id]");if(j){const b=parseInt(j.getAttribute("data-id"),10);p(b,h)}},[p]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"wx-34U8T8 wx-months",onClick:d,children:w.map((h,j)=>e.jsx("div",{className:"wx-34U8T8 wx-month"+(m===j?" wx-current":""),"data-id":j,children:h},j))}),e.jsx("div",{className:"wx-34U8T8 wx-buttons",children:e.jsx(re,{onClick:v,children:f.done})})]})}const te="wx-1XEF33",Ie=({value:t,current:l,onCancel:s,onChange:c,onShift:a,part:i})=>{const u=n.useContext(B).getRaw().calendar,[r,o]=T.useWritableProp(l),[x,f]=T.useWritableProp(t),w=n.useMemo(()=>r.getFullYear(),[r]),m=n.useMemo(()=>{const{start:j,end:b}=I.getDuodecade(w),R=[];for(let g=j;g<=b;++g)R.push(g);return R},[w]),p={click:v};function v(j,b){if(j){b.stopPropagation();const R=new Date(r);R.setFullYear(j),o(R),a&&a({current:R})}i==="normal"&&f(new Date(r)),s&&s()}function d(){const j=new Date(he(x,i)||r);j.setFullYear(r.getFullYear()),c&&c(j)}const h=n.useRef(null);return n.useEffect(()=>{h.current&&I.delegateClick(h.current,p)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:te+" wx-years",ref:h,children:m.map((j,b)=>e.jsx("div",{className:te+` wx-year ${w==j?"wx-current":""} ${b===0?"wx-prev-decade":""} ${b===11?"wx-next-decade":""}`,"data-id":j,children:j},b))}),e.jsx("div",{className:te+" wx-buttons",children:e.jsx(re,{onClick:d,children:u.done})})]})},xe={month:{component:pe,next:We,prev:Le},year:{component:Ee,next:Be,prev:He},duodecade:{component:Ie,next:Oe,prev:Ae}};function Le(t){return t=new Date(t),t.setMonth(t.getMonth()-1),t}function We(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t}function He(t){return t=new Date(t),t.setFullYear(t.getFullYear()-1),t}function Be(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t}function Ae(t){return t=new Date(t),t.setFullYear(t.getFullYear()-10),t}function Oe(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t}function he(t,l){let s;if(l==="normal")s=t;else{const{start:c,end:a}=t;l==="left"?s=c:l=="right"?s=a:s=c&&a}return s}const Ye=["clear","today"];function Je(t){if(t==="done")return-1;if(t==="clear")return null;if(t==="today")return new Date}function K({value:t,current:l,onCurrentChange:s,part:c="normal",markers:a=null,buttons:i,onShift:u,onChange:r}){const o=n.useContext(B).getGroup("calendar"),[x,f]=n.useState("month"),w=Array.isArray(i)?i:i?Ye:[],m=(j,b)=>{j.preventDefault(),r&&r({value:b})},p=()=>{x==="duodecade"?f("year"):x==="year"&&f("month")},v=j=>{const{diff:b,current:R}=j;if(b===0){x==="month"?f("year"):x==="year"&&f("duodecade");return}if(b){const g=xe[x];s(b>0?g.next(l):g.prev(l))}else R&&s(R);u&&u()},d=j=>{f("month"),r&&r({select:!0,value:j})},h=n.useMemo(()=>xe[x].component,[x]);return e.jsx("div",{className:`wx-2Gr4AS wx-calendar ${c!=="normal"&&c!=="both"?"wx-part":""}`,children:e.jsxs("div",{className:"wx-2Gr4AS wx-wrap",children:[e.jsx(Fe,{date:l,part:c,type:x,onShift:v}),e.jsxs("div",{children:[e.jsx(h,{value:t,current:l,onCurrentChange:s,part:c,markers:a,onCancel:p,onChange:d,onShift:v}),x==="month"&&w.length>0&&e.jsx("div",{className:"wx-2Gr4AS wx-buttons",children:w.map(j=>e.jsx("div",{className:"wx-2Gr4AS wx-button-item",children:e.jsx(re,{onClick:b=>m(b,Je(j)),children:o(j)})},j))})]})]})})}function Z(t){let{words:l=null,optional:s=!1,children:c}=t,a=n.useContext(B);const i=n.useMemo(()=>{let u=a;return(!u||!u.extend)&&(u=I.locale(le.en)),l!==null&&(u=u.extend(l,s)),u},[l,s,a]);return e.jsx(B.Provider,{value:i,children:c})}function de(t,l,s,c){if(!t||c){const a=l?new Date(l):new Date;a.setDate(1),s(a)}else if(t.getDate()!==1){const a=new Date(t);a.setDate(1),s(a)}}const Ge=["clear","today"];function ve({value:t,current:l,markers:s=null,buttons:c=Ge,onChange:a}){const[i,u]=T.useWritableProp(t),[r,o]=T.useWritableProp(l);n.useEffect(()=>{de(r,i,o,!1)},[i,r]);const x=n.useCallback(w=>{const m=w.value;m?(u(new Date(m)),de(r,new Date(m),o,!0)):u(null),a&&a({value:m?new Date(m):null})},[a,r]),f=n.useCallback(w=>{o(w)},[o]);return r?e.jsx(Z,{children:e.jsx(K,{value:i,current:r,markers:s,buttons:c,onChange:x,onCurrentChange:f})}):null}const Qe=["clear","today"];function qe({value:t,id:l,disabled:s=!1,error:c=!1,width:a="unset",align:i="start",placeholder:u="",format:r="",buttons:o=Qe,css:x="",title:f="",editable:w=!1,clear:m=!1,onChange:p}){const{calendar:v,formats:d}=(n.useContext(B)||G()).getRaw(),h=r||d?.dateFormat;let j=typeof h=="function"?h:I.dateToString(h,v);const[b,R]=n.useState(t),[g,D]=n.useState(!1);n.useEffect(()=>{R(t)},[t]);function S(){D(!1)}function V(k){const P=k===b||k&&b&&k.valueOf()===b.valueOf()||!k&&!b;R(k),P||p&&p({value:k}),setTimeout(S,1)}const C=n.useMemo(()=>b?j(b):"",[b,j]);function N({value:k,input:P}){if(!w&&!m||P)return;let E=typeof w=="function"?w(k):k?new Date(k):null;E=isNaN(E)?b||null:E||null,V(E)}return n.useEffect(()=>{const k=S;return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]),e.jsxs("div",{className:"wx-1lKOFG wx-datepicker",onClick:()=>D(!0),children:[e.jsx(ee,{css:x,title:f,value:C,id:l,readonly:!w,disabled:s,error:c,placeholder:u,onInput:S,onChange:N,icon:"wxi-calendar",inputStyle:{cursor:"pointer",width:"100%",paddingRight:"calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)"},clear:m}),g&&!s&&e.jsx(q,{onCancel:S,width:a,align:i,autoFit:!!i,children:e.jsx(ve,{buttons:o,value:b,onChange:k=>V(k.value)})})]})}const _e=["clear","today"],je=({start:t,end:l,current:s,months:c=2,markers:a=null,buttons:i=_e,onChange:u})=>{const[r,o]=T.useWritableProp(t),[x,f]=T.useWritableProp(l),[w,m]=n.useState(),[p,v]=n.useState(),d=n.useCallback((D,S,V)=>{const C=new Date(D);return C.setMonth(C.getMonth()+S),V&&C.valueOf()===V.valueOf()?V:C},[]),h=n.useCallback(D=>{m(()=>{const S=new Date(D);return S.setDate(1),v(d(S,1)),S})},[d]),j=n.useCallback(D=>{v(()=>{const S=new Date(D);return S.setDate(1),m(d(S,-1)),S})},[d]);n.useEffect(()=>{const D=r;w||h(D?new Date(D):s||new Date)},[r,s,w,h]);const b=n.useCallback(D=>{const S=D.value;let V=r,C=x;const N=S===-1;return N||(D.select?!r||x?(o(V=S),f(C=null)):r>S?(f(C=r),o(V=S)):f(C=S):S?(o(V=new Date(S)),f(C=new Date(S))):(o(V=null),f(C=null))),(N||!i.includes("done"))&&u&&u({start:V,end:C}),[V,C]},[r,x,i,u]),R=n.useCallback(D=>{const[S]=b(D);S&&h(new Date(S))},[h,r,x]),g=n.useCallback(D=>{const[,S]=b(D);S&&j(new Date(S))},[j,r,x]);return!w||!p?null:c===1?e.jsx(Z,{children:e.jsx(K,{value:{start:r,end:x},current:w,setCurrent:h,markers:a,buttons:i,part:"both",onChange:R})}):e.jsx(Z,{children:e.jsxs("div",{className:"wx-p2jCaW wx-rangecalendar",children:[e.jsx("div",{className:"wx-p2jCaW wx-half",children:e.jsx(K,{value:{start:r,end:x},current:w,setCurrent:h,markers:a,buttons:!1,part:"left",onChange:R,onCurrentChange:D=>h(D)})}),e.jsx("div",{className:"wx-p2jCaW wx-half",children:e.jsx(K,{value:{start:r,end:x},current:p,setCurrent:j,markers:a,buttons:i,part:"right",onChange:g,onCurrentChange:D=>j(D)})})]})})},Ue=["clear","today"],ze=({value:t,onChange:l,id:s,disabled:c=!1,error:a=!1,width:i="unset",align:u="start",placeholder:r="",css:o="",title:x="",format:f="",months:w=2,buttons:m=Ue,editable:p=!1,clear:v=!1})=>{const[d,h]=T.useWritableProp(t),{calendar:j,formats:b}=(n.useContext(B)||G()).getRaw(),R=f||b?.dateFormat,g=typeof R=="function"?R:I.dateToString(R,j),[D,S]=n.useState(!1),V=n.useCallback(()=>{S(!1)},[]),C=n.useMemo(()=>d?d.start?g(d.start)+(d.end?` - ${g(d.end)}`:""):g(d):"",[d,g]),N=n.useMemo(()=>d&&d.start||null,[d]),k=n.useMemo(()=>d&&d.end||null,[d]),P=n.useCallback($=>{const M=$.start||$.end?{start:$.start,end:$.end}:null;h&&h(M),($.start&&$.end||!$.start&&!$.end)&&(l&&l({value:M}),setTimeout(V,1))},[l,V,h]),E=n.useCallback($=>{if(!p&&!v)return;const{value:M,input:L}=$;if(L)return;const[W,A]=M.split(" -").map((F,O)=>{const J=F.trim();let y=typeof p=="function"?p(J):J?new Date(J):null,H=O===0?N:k;return isNaN(y)?H||null:y||null});P({start:W,end:A})},[p,v,N,k,P]);return n.useEffect(()=>{const $=()=>{V()};return window.addEventListener("scroll",$),()=>{window.removeEventListener("scroll",$)}},[V]),e.jsxs("div",{className:`wx-1b0WDQ wx-daterangepicker ${c?"wx-disabled":""} ${a?"wx-error":""}`,onClick:()=>S(!0),children:[e.jsx(ee,{css:o,title:x,value:C,id:s,readonly:!p,disabled:c,placeholder:r,error:a,onChange:E,icon:"wxi-calendar",inputStyle:{cursor:"pointer",width:"100%",paddingRight:"calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)"},clear:v}),D&&!c&&e.jsx(q,{onCancel:V,width:i,align:u,autoFit:!!u,children:e.jsx(je,{onCancel:V,buttons:m,start:N,end:k,months:w,onChange:P})})]})};function Ke({hotkey:t=null,toggleButton:l,children:s}){const c=n.useRef(null),[a,i]=n.useState(!1),u=n.useMemo(()=>`wxi-${a?"collapse":"expand"}`,[a]),r=n.useRef(null);return r.current=()=>{const o=c.current;!a&&o?o.requestFullscreen():a&&document.exitFullscreen(),i(x=>!x)},T.useHotkeys({[t]:()=>r.current()},c),n.useEffect(()=>{const o=()=>{i(document.fullscreenElement===c.current)};return document.addEventListener("fullscreenchange",o),()=>{document.removeEventListener("fullscreenchange",o)}},[]),e.jsxs("div",{className:"wx-13aa5W wx-fullscreen",ref:c,tabIndex:-1,children:[s,l?l(r.current,a):e.jsx(Q,{css:"wx-13aa5W wx-fullscreen-button",onClick:r.current,children:e.jsx("i",{className:`wx-13aa5W ${u} wx-fullscreen-icon`,children:" "})})]})}function Ze({css:t="",title:l="",children:s,onClick:c}){return s?e.jsx("i",{title:l,role:"img",className:`wx-mdnST1 wx-icon ${t}`,onClick:c,children:s}):e.jsx("i",{title:l,className:`wx-mdnST1 wx-icon ${t}`,onClick:c})}const Xe=[];function et({id:t,value:l=Xe,options:s=[],textOptions:c=null,textField:a="label",placeholder:i="",title:u="",disabled:r=!1,error:o=!1,checkboxes:x=!1,onChange:f,children:w}){const m=Y(t),p=n.useRef(null),v=n.useRef(null),[d,h]=T.useWritableProp(l),[j,b]=n.useState(""),[R,g]=n.useState(!1),D=n.useRef(null),S=n.useMemo(()=>d?(c||s).filter(M=>d.includes(M.id)):[],[d,c,s]),V=n.useMemo(()=>{const M=s;return j?M.filter(L=>L[a].toLowerCase().includes(j.toLowerCase())):M},[j,s,a]),C=n.useCallback(M=>{p.current=M.navigate,v.current=M.keydown},[]),N=n.useCallback(()=>{V.length?p.current(0):p.current(null)},[V]),k=n.useCallback(M=>{const{id:L}=M;if(L){let W;d?d.includes(L)?W=d.filter(A=>A!==L):W=[...d,L]:W=[L],h(W),f&&f({value:W}),D.current.focus()}},[d,f]),P=n.useCallback((M,L)=>{L&&L.stopPropagation();const W=d.filter(A=>A!==M);h(W),f&&f({value:W})},[d,f]),E=n.useCallback(()=>d&&d.length?V.findIndex(M=>M.id===d[0]):0,[d,V]),$=n.useCallback(()=>{r||(D.current.focus(),p.current(E()))},[r,E]);return e.jsxs("div",{title:u,className:`wx-12Wj21 wx-multicombo ${o?"wx-error":""} ${r?"wx-disabled":""} ${S.length?"wx-not-empty":""} ${R&&!r?"wx-focus":""}`,onClick:$,onKeyDown:M=>v.current(M,E()),children:[e.jsxs("div",{className:"wx-12Wj21 wx-wrapper",children:[e.jsx("div",{className:"wx-12Wj21 wx-tags",children:S.map(M=>e.jsxs("div",{className:"wx-12Wj21 wx-tag",children:[w?T.snippet(w,{option:M}):M[a],!r&&e.jsx("i",{className:"wx-12Wj21 wx-icon wxi-close",onClick:L=>P(M.id,L)})]},M.id))}),e.jsxs("div",{className:"wx-12Wj21 wx-select",children:[e.jsx("input",{className:"wx-12Wj21 wx-input",id:m,type:"text",value:j,onChange:M=>b(M.target.value),onInput:N,placeholder:i,disabled:r,onFocus:()=>g(!0),onBlur:()=>g(!1),ref:D}),e.jsx("i",{className:"wx-12Wj21 wx-icon wxi-angle-down"})]})]}),!r&&e.jsx(X,{items:V,onReady:C,onSelect:k,children:({option:M})=>e.jsxs(e.Fragment,{children:[x&&e.jsx(ae,{style:{marginRight:"8px",pointerEvents:"none"},name:M.id,value:d&&d.includes(M.id)}),w?T.snippet(w,{option:M}):M[a]]})})]})}function tt({left:t=0,top:l=0,at:s="bottom",parent:c=null,onCancel:a,children:i}){const[u,r]=n.useState(0),[o,x]=n.useState(0),[f,w]=n.useState("auto"),[m,p]=n.useState(!1),v=n.useRef(null),d=n.useCallback(()=>{if(!v.current)return;const h=I.calculatePosition(v.current,c,s,t,l);h&&(r(h.x),x(h.y),w(h.width),p(!0))},[v,c,s,t,l]);return n.useEffect(()=>{requestAnimationFrame(d)},[]),n.useEffect(()=>{d(c)},[c,s,t,l]),n.useEffect(()=>{const h=j=>{a&&a(j)};if(v.current)return I.clickOutside(v.current,h).destroy},[a]),e.jsx("div",{ref:v,className:"wx-37M6Fj wx-popup",style:{position:"absolute",visibility:m?"visible":"hidden",top:o+"px",left:u+"px",width:f},children:i})}const st=({total:t=0,pageSize:l=20,value:s=1,onChange:c})=>{const[a,i]=T.useWritableProp(l),[u,r]=T.useWritableProp(s),o=(n.useContext(B)||G()).getGroup("core"),x=Math.ceil(t/a),f=(u-1)*a,w=Math.min(u*a,t),m=(d,h)=>{Number.isNaN(d)||(h||r(d),d=Math.max(1,Math.min(d,x)),h&&r(d),d!==u&&setTimeout(()=>{c&&c({value:d,from:(d-1)*a,to:Math.min(d*a,t),pageSize:a})}))};function p(d){switch(d){case"first":m(1);break;case"prev":m(u-1);break;case"next":m(u+1);break;case"last":m(x);break}}const v=d=>{const h=d.target.value*1;Number.isNaN(h)||(i(h),c&&c({value:u,from:f,to:w,pageSize:h}))};return e.jsxs("div",{className:"wx-35Np0p wx-pager",children:[e.jsxs("div",{className:"wx-35Np0p wx-left",children:[e.jsxs("span",{children:[o("Rows per page"),": "]}),e.jsx("input",{type:"number",min:1,className:"wx-35Np0p wx-input",value:a,onChange:v})]}),e.jsxs("div",{className:"wx-35Np0p wx-center",children:[e.jsx("i",{className:"wx-35Np0p wx-icon wxi-angle-dbl-left"+(u===1?" wx-disabled":""),onClick:()=>p("first")}),e.jsx("i",{className:"wx-35Np0p wx-icon wxi-angle-left"+(u===1?" wx-disabled":""),onClick:()=>p("prev")}),e.jsx("input",{type:"text",value:u,className:"wx-35Np0p wx-input",onChange:d=>m(d.target.value*1),onBlur:d=>m(d.target.value*1,!0)}),e.jsx("i",{className:"wx-35Np0p wx-icon wxi-angle-right"+(u===x?" wx-disabled":""),onClick:()=>p("next")}),e.jsx("i",{className:"wx-35Np0p wx-icon wxi-angle-dbl-right"+(u===x?" wx-disabled":""),onClick:()=>p("last")})]}),e.jsxs("div",{className:"wx-35Np0p wx-right",children:[o("Total pages"),": ",x]})]})};function ge({id:t,label:l="",value:s,name:c="",inputValue:a="",disabled:i=!1,onChange:u}){const r=n.useId(),o=Y(t)||r,[x,f]=n.useState(!1),w=s!==void 0,m=w?s:x;function p(v){const d=v.target.checked;w||f(d),d&&u&&u({value:!0,inputValue:a})}return e.jsxs("div",{className:"wx-3lDF1s wx-radio",children:[e.jsx("input",{type:"radio",className:"wx-3lDF1s wx-input",id:o,disabled:i,name:c,value:a,checked:m,onChange:p}),e.jsxs("label",{htmlFor:o,className:"wx-3lDF1s wx-label",children:[e.jsx("span",{className:"wx-3lDF1s wx-circle"}),l&&e.jsx("span",{className:"wx-3lDF1s wx-radio-text",children:l})]})]})}function nt({options:t=[{}],value:l="",onChange:s,type:c=""}){const a=I.uid(),[i,u]=n.useState(l);n.useEffect(()=>{u(l)},[l]);function r(o){const x=o.inputValue;u(x),s&&s({value:x})}return e.jsx(z.Provider,{value:null,children:e.jsx("div",{className:`wx-38w70j wx-radiogroup ${c&&`wx-${c}`}`,children:t.map(o=>e.jsx("div",{className:"wx-38w70j wx-item",children:e.jsx(ge,{label:o.label,inputValue:o.id,value:i===o.id,name:a,onChange:r})},o.id))})})}function lt({value:t="",options:l=[],textOptions:s=null,placeholder:c="",disabled:a=!1,error:i=!1,title:u="",textField:r="label",clear:o=!1,children:x,onChange:f}){const w=n.useRef(null),m=n.useRef(null);let[p,v]=T.useWritableProp(t);function d(g){w.current=g.navigate,m.current=g.keydown}const h=n.useMemo(()=>p||p===0?(s||l).find(g=>g.id===p):null,[p,s,l]),j=n.useCallback(({id:g})=>{(g||g===0)&&(v(g),w.current(null),f&&f({value:g}))},[v,f]),b=n.useCallback(g=>{g.stopPropagation(),v(""),f&&f({value:""})},[v,f]),R=n.useCallback(()=>l.findIndex(g=>g.id===p),[l,p]);return e.jsxs("div",{className:`wx-2YgblL wx-richselect ${i?"wx-2YgblL wx-error":""} ${a?"wx-2YgblL wx-disabled":""} ${x?"":"wx-2YgblL wx-nowrap"}`,title:u,onClick:()=>w.current(R()),onKeyDown:g=>m.current(g,R()),tabIndex:0,children:[e.jsx("div",{className:"wx-2YgblL wx-label",children:h?x?x(h):h[r]:c?e.jsx("span",{className:"wx-2YgblL wx-placeholder",children:c}):"Â "}),o&&!a&&p?e.jsx("i",{className:"wx-2YgblL wx-icon wxi-close",onClick:b}):e.jsx("i",{className:"wx-2YgblL wx-icon wxi-angle-down"}),!a&&e.jsx(X,{items:l,onReady:d,onSelect:j,children:({option:g})=>x?x(g):g[r]})]})}const at=({options:t=[],value:l="",css:s="",children:c,onChange:a})=>{const[i,u]=n.useState(l),r=o=>{u(o),a&&a({value:o})};return n.useEffect(()=>{u(l)},[l]),e.jsx("div",{className:`wx-0hMO7P wx-segmented ${s}`,children:t.map(o=>e.jsx("button",{className:`wx-0hMO7P wx-segment ${o.css} ${o.id===i?"wx-selected":""}`,title:o.title,onClick:()=>r(o.id),children:c?T.snippet(c,{option:o}):e.jsxs(e.Fragment,{children:[o.icon&&e.jsx("i",{className:`wx-0hMO7P wx-icon ${o.icon} ${o.label?"":"wx-only"}`}),o.label&&e.jsx("span",{className:"wx-0hMO7P wx-label",children:o.label})]})},o.id))})};function rt({value:t,options:l=[],placeholder:s="",title:c="",disabled:a=!1,error:i=!1,textField:u="label",clear:r=!1,id:o,onChange:x}){const f=Y(o),[w,m]=n.useState(t||""),p=n.useCallback(d=>{const h=d.target.value;m(h),x&&x({value:h})},[x]),v=n.useCallback(()=>{m(""),x&&x({value:""})},[x]);return e.jsxs("div",{className:"wx-2yx1Fo wx-select-box",children:[e.jsxs("select",{id:f,value:w,disabled:a,className:`wx-2yx1Fo wx-select ${i?"wx-2yx1Fo wx-error":""}`,title:c,onChange:p,children:[e.jsx("option",{value:"",children:s}),l.map(d=>e.jsx("option",{value:d.id,children:d[u]},d.id))]}),r&&!a&&w?e.jsx("i",{className:"wx-2yx1Fo wx-icon wxi-close",onClick:v}):e.jsx("i",{className:"wx-2yx1Fo wx-icon wxi-angle-down"})]})}function se({id:t,label:l="",css:s="",min:c=0,max:a=100,value:i=0,step:u=1,title:r="",disabled:o=!1,onChange:x}){const f=Y(t),[w,m]=T.useWritableProp(i),p=n.useRef({value:w,input:w}),v=n.useMemo(()=>(w-c)/(a-c)*100+"%",[w,c,a]),d=n.useMemo(()=>o?"":`linear-gradient(90deg, var(--wx-slider-primary) 0% ${v}, var(--wx-slider-background) ${v} 100%)`,[o,v]);function h({target:R}){const g=R.value*1;m(g),x&&x({value:g,previous:p.current.input,input:!0}),p.current.input=g}function j({target:R}){const g=R.value*1;m(g),x&&x({value:g,previous:p.current.value}),p.current.value=g}n.useEffect(()=>{m(i)},[i]);const b=n.useRef(null);return n.useEffect(()=>{if(b.current)return b.current.addEventListener("change",j),()=>{b.current&&b.current.removeEventListener("change",j)}},[b,j]),e.jsxs("div",{className:`wx-2EDJ8G wx-slider ${s}`,title:r,children:[l&&e.jsx("label",{className:"wx-2EDJ8G wx-label",htmlFor:f,children:l}),e.jsx("div",{className:"wx-2EDJ8G wx-inner",children:e.jsx("input",{id:f,className:"wx-2EDJ8G wx-input",type:"range",min:c,max:a,step:u,disabled:o,value:w,onInput:h,style:{background:d},ref:b})})]})}function ct({id:t,value:l=!1,disabled:s=!1,onChange:c}){const a=Y(t),[i,u]=T.useWritableProp(l),r=n.useCallback(o=>{const x=o.target.checked;u(x),c&&c({value:x})},[c]);return e.jsxs("label",{className:"wx-2dAR5c wx-switch",children:[e.jsx("input",{className:"wx-2dAR5c wx-input",type:"checkbox",checked:i,onChange:r,disabled:s,id:a}),e.jsx("span",{className:"wx-2dAR5c wx-box"})]})}const ot=({options:t=[],value:l="",type:s="top",css:c="",onChange:a})=>{const[i,u]=T.useWritableProp(l),r=o=>{u(o),a&&a({value:o})};return e.jsx("div",{className:`wx-138fWJ wx-tabs wx-${s} ${c}`,children:t.map(o=>e.jsxs("button",{className:`wx-138fWJ wx-tab ${o.css} ${o.id===i?"wx-active":""}`,title:o.title,onClick:()=>r(o.id),children:[o.icon&&e.jsx("i",{className:`wx-138fWJ wx-icon ${o.icon} ${o.label?"":"wx-only"}`}),o.label&&e.jsx("span",{className:"wx-138fWJ wx-label",children:o.label})]},o.id))})},ut=({id:t,value:l=0,step:s=1,min:c=0,max:a=1/0,error:i=!1,disabled:u=!1,readonly:r=!1,onChange:o})=>{const x=Y(t),[f,w]=T.useWritableProp(l),m=n.useCallback(()=>{if(r||f<=c)return;const h=f-s;w(h),o&&o({value:h})},[f,r,c,s,o]),p=n.useCallback(()=>{if(r||f>=a)return;const h=f+s;w(h),o&&o({value:h})},[f,r,a,s,o]),v=n.useCallback(()=>{if(!r){const h=Math.round(Math.min(a,Math.max(f,c))/s)*s,j=isNaN(h)?Math.max(c,0):h;w(j),o&&o({value:j})}},[r,f,a,c,s,o]),d=n.useCallback(h=>{const j=h.target.value*1;w(j),o&&o({value:j,input:!0})},[o]);return e.jsxs("div",{className:`wx-22t21n wx-counter ${u?"wx-disabled":""} ${r?"wx-readonly":""} ${i?"wx-error":""}`,children:[e.jsx("button",{"aria-label":"-",className:"wx-22t21n wx-btn wx-btn-dec",disabled:u,onClick:m,children:e.jsx("svg",{className:"wx-22t21n wx-dec",width:"12",height:"2",viewBox:"0 0 12 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M11.2501 1.74994H0.750092V0.249939H11.2501V1.74994Z"})})}),e.jsx("input",{id:x,type:"text",className:"wx-22t21n wx-input",disabled:u,readOnly:r,required:!0,value:f,onBlur:v,onInput:d}),e.jsx("button",{"aria-label":"-",className:"wx-22t21n wx-btn wx-btn-inc",disabled:u,onClick:p,children:e.jsx("svg",{className:"wx-22t21n wx-inc",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:`M11.2501
								6.74994H6.75009V11.2499H5.25009V6.74994H0.750092V5.24994H5.25009V0.749939H6.75009V5.24994H11.2501V6.74994Z`})})})]})};function it({notice:t={}}){function l(){t.remove&&t.remove()}return e.jsxs("div",{className:`wx-11sNg5 wx-notice wx-${t.type?t.type:""}`,role:"status","aria-live":"polite",children:[e.jsx("div",{className:"wx-11sNg5 wx-text",children:t.text}),e.jsx("div",{className:"wx-11sNg5 wx-button",children:e.jsx("i",{className:"wx-11sNg5 wxi-close",onClick:l})})]})}function xt({data:t=[]}){return e.jsx("div",{className:"wx-3nwoO9 wx-notices",children:t.map(l=>e.jsx(it,{notice:l},l.id))})}function be({title:t="",buttons:l=["cancel","ok"],header:s,children:c,footer:a,onConfirm:i,onCancel:u}){const r=(n.useContext(B)||G()).getGroup("core"),o=n.useRef(null);n.useEffect(()=>{o.current?.focus()},[]);function x(w){switch(w.code){case"Enter":{const m=w.target.tagName;if(m==="TEXTAREA"||m==="BUTTON")return;i&&i({event:w});break}case"Escape":u&&u({event:w});break}}function f(w,m){const p={event:w,button:m};m==="cancel"?u&&u(p):i&&i(p)}return e.jsx("div",{className:"wx-1FxkZa wx-modal",ref:o,tabIndex:0,onKeyDown:x,children:e.jsxs("div",{className:"wx-1FxkZa wx-window",children:[s||(t?e.jsx("div",{className:"wx-1FxkZa wx-header",children:t}):null),e.jsx("div",{children:c}),a||l&&e.jsx("div",{className:"wx-1FxkZa wx-buttons",children:l.map(w=>e.jsx("div",{className:"wx-1FxkZa wx-button",children:e.jsx(Q,{type:`block ${w==="ok"?"primary":"secondary"}`,onClick:m=>f(m,w),children:r(w)})},w))})]})})}function dt({children:t},l){const[s,c]=n.useState(null),[a,i]=n.useState([]);return n.useImperativeHandle(l,()=>({showModal:u=>{const r={...u};return c(r),new Promise((o,x)=>{r.resolve=f=>{c(null),o(f)},r.reject=f=>{c(null),x(f)}})},showNotice:u=>{u={...u},u.id=u.id||I.uid(),u.remove=()=>i(r=>r.filter(o=>o.id!==u.id)),u.expire!=-1&&setTimeout(u.remove,u.expire||5100),i(r=>[...r,u])}}),[]),e.jsxs(e.Fragment,{children:[t,s&&e.jsx(be,{title:s.title,buttons:s.buttons,onConfirm:s.resolve,onCancel:s.reject,children:s.message}),e.jsx(xt,{data:a})]})}const ft=n.forwardRef(dt);function wt(t){let{children:l}=t,s=n.useRef();const c=n.useMemo(()=>({showNotice:a=>s.current.showNotice(a),showModal:a=>s.current.showModal(a)}),[]);return e.jsx(we.Provider,{value:c,children:e.jsx(ft,{ref:s,children:l})})}function ne({label:t="",position:l="",css:s="",error:c=!1,type:a="",required:i=!1,children:u}){const r=n.useRef(null),o=n.useCallback(()=>{if(r.current)return r.current;const x=I.uid();return r.current=x,x},[]);return e.jsx(z.Provider,{value:o,children:e.jsxs("div",{className:`wx-2oVUvC wx-field wx-${l} ${s} ${c?"wx-error":""} ${i?"wx-required":""}`.trim(),children:[t&&e.jsx("label",{className:"wx-2oVUvC wx-label",htmlFor:r.current,children:t}),e.jsx("div",{className:`wx-2oVUvC wx-field-control wx-${a}`,children:u})]})})}const ke=({value:t=!1,type:l="",icon:s="",disabled:c=!1,iconActive:a="",onClick:i,title:u="",css:r="",text:o="",textActive:x="",children:f,active:w,onChange:m})=>{const[p,v]=T.useWritableProp(t),d=n.useMemo(()=>(p?"pressed":"")+(l?" "+l:""),[p,l]),h=n.useCallback(j=>{let b=!p;i&&i(j),j.defaultPrevented||(v(b),m&&m({value:b}))},[p,i,m]);return p&&w?e.jsx(Q,{title:u,text:p&&x||o,css:r,type:d,icon:p&&a||s,onClick:h,disabled:c,children:T.snippet(w,{value:p})}):f?e.jsx(Q,{title:u,text:p&&x||o,css:r,type:d,icon:p&&a||s,onClick:h,disabled:c,children:f}):e.jsx(Q,{title:u,text:p&&x||o,css:r,type:d,icon:p&&a||s,onClick:h,disabled:c})},fe=new Date(0,0,0,0,0);function mt({value:t=fe,id:l,title:s="",css:c="",disabled:a=!1,error:i=!1,format:u="",onChange:r}){let[o,x]=T.useWritableProp(t);const{calendar:f,formats:w}=(n.useContext(B)||G()).getRaw(),m=f.clockFormat==12,p=23,v=59,d=n.useMemo(()=>{const y=u||w?.timeFormat;return typeof y=="function"?y:I.dateToString(y,f)},[u,w,f]),h=n.useMemo(()=>d(new Date(0,0,0,1)).indexOf("01")!=-1,[d]),j=(y,H)=>(y<10&&H?`0${y}`:`${y}`).slice(-2),b=y=>j(y,!0),R=y=>`${y}`.replace(/[^\d]/g,"")||0,g=y=>m&&(y=y%12,y===0)?"12":j(y,h),D=n.useCallback((y,H)=>(y=R(y),Math.min(y,H)),[]),[S,V]=n.useState(null),C=o||fe,N=D(C.getHours(),p),k=D(C.getMinutes(),v),P=N>12,E=g(N),$=b(k),M=n.useMemo(()=>d(new Date(0,0,0,N,k)),[N,k,d]),L=n.useCallback(()=>{V(!0)},[]),W=n.useCallback(()=>{const y=new Date(C);y.setHours(y.getHours()+(P?-12:12)),x(y),r&&r({value:y})},[C,P,r]),A=n.useCallback(({value:y})=>{if(C.getHours()===y)return;const H=new Date(C);H.setHours(y),x(H),r&&r({value:H})},[C,r]),F=n.useCallback(({value:y})=>{if(C.getMinutes()===y)return;const H=new Date(C);H.setMinutes(y),x(H),r&&r({value:H})},[C,r]),O=n.useCallback(y=>(y=D(y,p),m&&(y=y*1,y===12&&(y=0),P&&(y+=12)),y),[D,m,P]),J=n.useCallback(()=>{V(null)},[]);return e.jsxs("div",{className:`wx-7f497i wx-timepicker ${i?"wx-7f497i wx-error":""} ${a?"wx-7f497i wx-disabled":""}`,onClick:a?void 0:L,style:{cursor:a?"default":"pointer"},children:[e.jsx(ee,{id:l,css:c,title:s,value:M,readonly:!0,disabled:a,error:i,icon:"wxi-clock",inputStyle:{cursor:"pointer",width:"100%",paddingRight:"calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)"}}),S&&!a&&e.jsx(q,{onCancel:J,width:"unset",children:e.jsxs("div",{className:"wx-7f497i wx-wrapper",children:[e.jsxs("div",{className:"wx-7f497i wx-timer",children:[e.jsx("input",{className:"wx-7f497i wx-digit",value:E,onChange:y=>{const H=O(y.target.value);A({value:H})}}),e.jsx("div",{className:"wx-7f497i wx-separator",children:":"}),e.jsx("input",{className:"wx-7f497i wx-digit",value:$,onChange:y=>{const H=D(y.target.value,v);F({value:H})}}),m&&e.jsx(ke,{value:P,onClick:W,active:()=>e.jsx("span",{children:"pm"}),children:e.jsx("span",{children:"am"})})]}),e.jsx(ne,{width:"unset",children:e.jsx(se,{label:f.hours,value:N,onChange:A,max:p})}),e.jsx(ne,{width:"unset",children:e.jsx(se,{label:f.minutes,value:k,onChange:F,max:v})})]})})]})}function pt({children:t}){return e.jsx("div",{className:"wx-KgpO9N wx-modal",children:e.jsx("div",{className:"wx-KgpO9N wx-window",children:t})})}function ht({position:t="right",children:l,onCancel:s}){const c=n.useRef(null);return n.useEffect(()=>I.clickOutside(c.current,s).destroy,[]),e.jsx("div",{ref:c,className:`wx-2L733M wx-sidearea wx-pos-${t}`,children:l})}function vt({theme:t="",target:l,children:s}){const c=n.useRef(null),a=n.useRef(null),[i,u]=n.useState(null);c.current||(c.current=document.createElement("div"));const r=n.useContext(U);return n.useEffect(()=>{u(l||jt(a.current)||I.env.getTopNode(a.current))},[a.current]),e.jsxs(e.Fragment,{children:[e.jsx("span",{ref:a,style:{display:"none"}}),a.current&&i?Ce.createPortal(e.jsx("div",{className:`wx-3ZWsT0 wx-${t||r}-theme`,children:s}),i):null]})}function jt(t){const l=I.env.getTopNode(t);for(;t&&t!==l&&!t.getAttribute("data-wx-portal-root");)t=t.parentNode;return t}function gt(){return e.jsx(e.Fragment,{})}function bt(t){const{fonts:l=!0,children:s}=t;return e.jsx(U.Provider,{value:"material",children:e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"wx-theme wx-material-theme",children:s}),l&&e.jsxs(e.Fragment,{children:[e.jsx("link",{rel:"preconnect",href:"https://cdn.svar.dev",crossOrigin:"true"}),e.jsx(gt,{}),e.jsx("link",{rel:"stylesheet",href:"https://cdn.svar.dev/fonts/wxi/wx-icons.css"})]})]})})}function Ne(){return e.jsx(e.Fragment,{})}function kt(t){const{fonts:l=!0,children:s}=t;return e.jsx(U.Provider,{value:"willow",children:e.jsxs(e.Fragment,{children:[s&&s&&e.jsx("div",{className:"wx-theme wx-willow-theme",children:s}),l&&e.jsxs(e.Fragment,{children:[e.jsx("link",{rel:"preconnect",href:"https://cdn.svar.dev",crossOrigin:"true"}),e.jsx(Ne,{}),e.jsx("link",{rel:"stylesheet",href:"https://cdn.svar.dev/fonts/wxi/wx-icons.css"})]})]})})}function Nt(t){const{fonts:l=!0,children:s}=t;return e.jsx(U.Provider,{value:"willow-dark",children:e.jsxs(e.Fragment,{children:[s&&s&&e.jsx("div",{className:"wx-theme wx-willow-dark-theme",children:s}),l&&e.jsxs(e.Fragment,{children:[e.jsx("link",{rel:"preconnect",href:"https://cdn.svar.dev",crossOrigin:"true"}),e.jsx(Ne,{}),e.jsx("link",{rel:"stylesheet",href:"https://cdn.svar.dev/fonts/wxi/wx-icons.css"})]})]})})}function Ct(t){const l=I.uid();t.setAttribute("data-wx-portal-root",l)}I.setEnv(I.env);Object.defineProperty(exports,"locale",{enumerable:!0,get:()=>I.locale});Object.defineProperty(exports,"en",{enumerable:!0,get:()=>le.en});exports.Button=Q;exports.Calendar=ve;exports.Checkbox=ae;exports.CheckboxGroup=Se;exports.ColorBoard=me;exports.ColorPicker=Pe;exports.ColorSelect=Re;exports.Combo=$e;exports.Counter=ut;exports.DatePicker=qe;exports.DateRangePicker=ze;exports.Dropdown=q;exports.Field=ne;exports.Fullscreen=Ke;exports.Globals=wt;exports.Icon=Ze;exports.Locale=Z;exports.Material=bt;exports.Modal=be;exports.ModalArea=pt;exports.Month=pe;exports.MultiCombo=et;exports.Pager=st;exports.Popup=tt;exports.Portal=vt;exports.RadioButton=ge;exports.RadioButtonGroup=nt;exports.RangeCalendar=je;exports.RichSelect=lt;exports.Segmented=at;exports.Select=rt;exports.SideArea=ht;exports.Slider=se;exports.SuggestDropdown=X;exports.Switch=ct;exports.Tabs=ot;exports.Text=ee;exports.TextArea=De;exports.TimePicker=mt;exports.TwoState=ke;exports.Willow=kt;exports.WillowDark=Nt;exports.context=ye;exports.popupContainer=Ct;
//# sourceMappingURL=index.cjs.map
