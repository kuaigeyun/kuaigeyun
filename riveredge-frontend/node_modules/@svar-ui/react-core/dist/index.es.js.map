{"version":3,"file":"index.es.js","sources":["../src/context.js","../src/components/helpers/getInputId.js","../src/components/TextArea.jsx","../src/components/Button.jsx","../src/components/Checkbox.jsx","../src/components/CheckboxGroup.jsx","../src/components/Dropdown.jsx","../src/components/ColorSelect.jsx","../src/components/helpers/sliderMove.js","../src/components/helpers/colorTransformator.js","../src/components/helpers/colorValidation.js","../src/components/helpers/locale.js","../src/components/ColorBoard.jsx","../src/components/ColorPicker.jsx","../src/components/helpers/listnav.js","../src/components/helpers/SuggestDropdown.jsx","../src/components/Combo.jsx","../src/components/Text.jsx","../src/components/calendar/Header.jsx","../src/components/calendar/Button.jsx","../src/components/calendar/Month.jsx","../src/components/calendar/Year.jsx","../src/components/calendar/Duodecade.jsx","../src/components/calendar/helpers.js","../src/components/calendar/Panel.jsx","../src/Locale.jsx","../src/components/Calendar.jsx","../src/components/DatePicker.jsx","../src/components/RangeCalendar.jsx","../src/components/DateRangePicker.jsx","../src/components/Fullscreen.jsx","../src/components/Icon.jsx","../src/components/MultiCombo.jsx","../src/components/Popup.jsx","../src/components/Pager.jsx","../src/components/RadioButton.jsx","../src/components/RadioButtonGroup.jsx","../src/components/RichSelect.jsx","../src/components/Segmented.jsx","../src/components/Select.jsx","../src/components/Slider.jsx","../src/components/Switch.jsx","../src/components/Tabs.jsx","../src/components/Counter.jsx","../src/components/Notice.jsx","../src/components/Notices.jsx","../src/components/Modal.jsx","../src/components/Globals.jsx","../src/Globals.jsx","../src/components/Field.jsx","../src/components/TwoState.jsx","../src/components/TimePicker.jsx","../src/components/ModalArea.jsx","../src/components/SideArea.jsx","../src/components/Portal.jsx","../src/themes/FonttRoboto.jsx","../src/themes/Material.jsx","../src/themes/FontOpenSans.jsx","../src/themes/Willow.jsx","../src/themes/WillowDark.jsx","../src/components/helpers/popup.js","../src/index.js"],"sourcesContent":["import { createContext } from 'react';\n\nexport const theme = createContext('willow');\nexport const helpers = createContext({});\nexport const i18n = createContext(null);\nexport const fieldId = createContext(null);\n","import { useContext, useState } from 'react';\nimport { fieldId } from '../../context';\nimport { uid } from '@svar-ui/lib-dom';\n\nexport function useInputId(id) {\n  const register = useContext(fieldId);\n\n  const [inputId] = useState(() => id || (register && register()) || uid());\n\n  return inputId;\n}\n","import { useCallback, useEffect, useRef } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\n\nimport './TextArea.css';\n\nexport default function TextArea({\n  value: propValue = '',\n  id,\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  readonly = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(propValue);\n\n  const handleInput = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      setValue(newValue);\n      if (onChange) {\n        onChange({ value: newValue, input: true });\n      }\n    },\n    [onChange],\n  );\n\n  const ontextchange = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      setValue(newValue);\n      if (onChange) {\n        onChange({ value: newValue });\n      }\n    },\n    [onChange],\n  );\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    const handler = ontextchange;\n    const node = inputRef.current;\n    node.addEventListener('change', handler);\n    return () => {\n      if (node) {\n        node.removeEventListener('change', handler);\n      }\n    };\n  }, [ontextchange]);\n\n  return (\n    <textarea\n      className={'wx-3yFVAC' + ` wx-textarea ${error ? 'wx-error' : ''}`}\n      id={inputId}\n      disabled={disabled}\n      placeholder={placeholder}\n      readOnly={readonly}\n      title={title}\n      value={value}\n      onInput={handleInput}\n      ref={inputRef}\n    />\n  );\n}\n","import { useMemo } from 'react';\nimport './Button.css';\n\nexport default function Button({\n  type = '',\n  css = '',\n  icon = '',\n  disabled = false,\n  title = '',\n  text = '',\n  children,\n  onClick,\n}) {\n  const buttonCss = useMemo(() => {\n    let cssType = type\n      ? type\n          .split(' ')\n          .filter((a) => a !== '')\n          .map((x) => 'wx-' + x)\n          .join(' ')\n      : '';\n    return css + (css ? ' ' : '') + cssType;\n  }, [type, css]);\n\n  const handleClick = (ev) => {\n    onClick && onClick(ev);\n  };\n\n  return (\n    <button\n      title={title}\n      className={`wx-2ZWgb4 wx-button ${buttonCss} ${icon && !children ? 'wx-icon' : ''}`}\n      disabled={disabled}\n      onClick={handleClick}\n    >\n      {icon && <i className={'wx-2ZWgb4 ' + icon}></i>}\n      {children ? children : text || ' '}\n    </button>\n  );\n}\n","import { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Checkbox.css';\n\nexport default function Checkbox({\n  id,\n  label = '',\n  inputValue = '',\n  value: valueProp = false,\n  onChange,\n  disabled = false,\n}) {\n\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(valueProp);\n\n  const handlerChange = ({ target }) => {\n    const newValue = target.checked;\n    setValue(newValue);\n    onChange && onChange({ value: newValue, inputValue });\n  };\n\n  return (\n    <div className=\"wx-2IvefP wx-checkbox\">\n      <input\n        type=\"checkbox\"\n        id={inputId}\n        disabled={disabled}\n        className=\"wx-2IvefP wx-check\"\n        checked={value}\n        value={inputValue}\n        onChange={handlerChange}\n      />\n      <label htmlFor={inputId} className=\"wx-2IvefP wx-label\">\n        <span className=\"wx-2IvefP wx-before\"></span>\n        {label && <span className=\"wx-2IvefP wx-after\">{label}</span>}\n      </label>\n    </div>\n  );\n}\n","import { useCallback } from 'react';\nimport Checkbox from './Checkbox.jsx';\nimport './CheckboxGroup.css';\nimport { fieldId } from \"../context\";\n\nexport default function CheckboxGroup({\n  options = [],\n  value = [],\n  type = '',\n  onChange,\n}) {\n  // Handle both onchange and onChange props for compatibility\n  const handleChange = useCallback(\n    (obj) => {\n      let newValue;\n      if (obj.value) newValue = [...value, obj.inputValue];\n      else newValue = value.filter((a) => a !== obj.inputValue);\n\n      if (onChange) onChange({ value: newValue });\n    },\n    [value, onChange],\n  );\n\n  return (\n    <fieldId.Provider value={null}>\n      <div className={`wx-q8xwRD wx-checkboxgroup ${type && `wx-${type}`}`}>\n        {options.map((option) => (\n          <div key={option.id} className=\"wx-q8xwRD wx-item\">\n            <Checkbox\n              label={option.label}\n              inputValue={option.id}\n              value={value.includes(option.id)}\n              onChange={handleChange}\n            />\n          </div>\n        ))}\n      </div>\n    </fieldId.Provider>\n  );\n}\n","import { useEffect, useRef } from 'react';\nimport { clickOutside, env } from '@svar-ui/lib-dom';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './Dropdown.css';\n\nfunction Dropdown({\n  position = 'bottom',\n  align = 'start',\n  autoFit = true,\n  onCancel,\n  width = '100%',\n  children,\n}) {\n  const nodeRef = useRef(null);\n\n  const [positionState, setPosition] = useWritableProp(position);\n  const [alignState, setAlign] = useWritableProp(align);\n\n  useEffect(() => {\n    if (autoFit) {\n      const node = nodeRef.current;\n      if (node) {\n        const nodeCoords = node.getBoundingClientRect();\n        const bodyCoords = env.getTopNode(node).getBoundingClientRect();\n\n        if (nodeCoords.right >= bodyCoords.right) {\n          setAlign('end');\n        }\n\n        if (nodeCoords.bottom >= bodyCoords.bottom) {\n          setPosition('top');\n        }\n      }\n    }\n  }, [autoFit]);\n\n  useEffect(() => {\n    if (nodeRef.current) {\n      const down = (e) => {\n        onCancel && onCancel(e);\n      };\n      return clickOutside(nodeRef.current, down).destroy;\n    }\n  }, [onCancel]);\n\n  return (\n    <div\n      ref={nodeRef}\n      className={'wx-32GZ52' + ` wx-dropdown wx-${positionState}-${alignState}`}\n      style={{ width: width }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Dropdown;\n","import { useState, useCallback } from 'react';\nimport { useInputId } from './helpers/getInputId.js';\nimport Dropdown from './Dropdown.jsx';\nimport './ColorSelect.css';\n\nconst defaultColors = [\n  '#00a037',\n  '#37a9ef',\n  '#f5a623',\n  '#ff4c3b',\n  '#a0a0a0',\n  '#000000',\n  '#ffffff',\n];\n\nexport default function ColorSelect({\n  colors = defaultColors,\n  value = '',\n  onChange,\n  id,\n  clear = false,\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n}) {\n  const inputId = useInputId(id);\n  const [currentValue, setCurrentValue] = useState(value);\n  const [popup, setPopup] = useState(false);\n\n  const selectColor = useCallback(\n    (ev, color) => {\n      ev.stopPropagation();\n      setCurrentValue(color);\n      setPopup(false);\n      onChange && onChange({ value: color });\n    },\n    [onChange],\n  );\n\n  const unselectColor = useCallback(\n    (ev) => {\n      ev.stopPropagation();\n      setCurrentValue('');\n      onChange && onChange({ value: '' });\n    },\n    [onChange],\n  );\n\n  const handlePopup = useCallback(() => {\n    if (disabled) return false;\n    setPopup(true);\n  }, [disabled]);\n\n  return (\n    <div className=\"wx-121TgJ wx-colorselect\" onClick={handlePopup}>\n      <input\n        className={\n          'wx-121TgJ wx-input' +\n          (error ? ' wx-error' : '') +\n          (popup ? ' wx-focus' : '')\n        }\n        title={title}\n        value={currentValue}\n        readOnly\n        id={inputId}\n        placeholder={placeholder}\n        disabled={disabled}\n      />\n\n      {clear && currentValue && !disabled && (\n        <i className=\"wx-121TgJ wx-clear wxi-close\" onClick={unselectColor}></i>\n      )}\n\n      {currentValue ? (\n        <div\n          className=\"wx-121TgJ wx-color wx-selected\"\n          style={{ backgroundColor: currentValue || '#00a037' }}\n        ></div>\n      ) : (\n        <div className=\"wx-121TgJ wx-empty wx-selected\"></div>\n      )}\n\n      {popup && (\n        <Dropdown onCancel={() => setPopup(false)}>\n          <div className=\"wx-121TgJ wx-colors\">\n            <div\n              className=\"wx-121TgJ wx-empty\"\n              onClick={(ev) => selectColor(ev, '')}\n            ></div>\n            {colors.map((color, index) => (\n              <div\n                key={index}\n                className=\"wx-121TgJ wx-color\"\n                style={{ backgroundColor: color }}\n                onClick={(ev) => selectColor(ev, color)}\n              ></div>\n            ))}\n          </div>\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","export function sliderMove(node, config) {\n  const slider = node.firstChild;\n  const { moveBlockSlider, moveLineSlider } = config || {};\n\n  function down(ev) {\n    move(ev);\n\n    slider.focus();\n\n    window.addEventListener('mousemove', move);\n    window.addEventListener('mouseup', up);\n  }\n\n  function move(ev) {\n    let x, y, dx, dy;\n\n    const coords = node.getBoundingClientRect();\n    x = coords.left;\n    y = coords.top;\n\n    dx = ev.clientX - x;\n    dy = ev.clientY - y;\n\n    if (moveBlockSlider) config.moveBlockSlider(dx, dy);\n    if (moveLineSlider) config.moveLineSlider(dx);\n  }\n\n  function up() {\n    slider.blur();\n\n    window.removeEventListener('mousemove', move);\n    window.removeEventListener('mouseup', up);\n  }\n\n  node.addEventListener('mousedown', down);\n\n  return {\n    destroy() {\n      node.removeEventListener('mousedown', down);\n    },\n  };\n}\n","const colorTransformator = {\n  _toHex: [\n    '0',\n    '1',\n    '2',\n    '3',\n    '4',\n    '5',\n    '6',\n    '7',\n    '8',\n    '9',\n    'A',\n    'B',\n    'C',\n    'D',\n    'E',\n    'F',\n  ],\n  toHex(number, length) {\n    number = parseInt(number, 10);\n    let str = '';\n    while (number > 0) {\n      str = this._toHex[number % 16] + str;\n      number = Math.floor(number / 16);\n    }\n    while (str.length < length) str = `0${str}`;\n    return str;\n  },\n  rgbToHex(rgb) {\n    let arr = [];\n    if (typeof rgb === 'string')\n      rgb.replace(/[\\d+.]+/g, (v) => arr.push(parseFloat(v)));\n    else if (Array.isArray(rgb)) arr = rgb;\n\n    //transparent\n    if (arr[3] === 0) return '';\n\n    return arr\n      .slice(0, 3)\n      .map((n) => {\n        return this.toHex(Math.floor(n), 2);\n      })\n      .join('');\n  },\n  hexToDec(hex) {\n    return parseInt(hex, 16);\n  },\n  // only handles the six-digit hex color format\n  hexToRgb(hex) {\n    hex = hex.charAt(0) === '#' ? hex.slice(1) : hex;\n    const rgbPairs = hex.match(/.{1,2}/g);\n\n    let [r, g, b] = rgbPairs;\n\n    r = this.hexToDec(r);\n    g = this.hexToDec(g);\n    b = this.hexToDec(b);\n\n    return [r, g, b];\n  },\n  hsvToRgb(h, s, v) {\n    let hi, f, p, q, t, r, g, b;\n    hi = Math.floor(h / 60) % 6;\n    f = h / 60 - hi;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    r = 0;\n    g = 0;\n    b = 0;\n    switch (hi) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n      default:\n        break;\n    }\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n\n    return [r, g, b];\n  },\n  rgbToHsv(r, g, b) {\n    let s, h, v;\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    let min = Math.min(r, g, b);\n    let max = Math.max(r, g, b);\n    h = 0;\n    s = max === 0 ? 0 : 1 - min / max;\n    v = max;\n    if (max === min) {\n      h = 0;\n    } else if (max === r && g >= b) {\n      h = (60 * (g - b)) / (max - min) + 0;\n    } else if (max === r && g < b) {\n      h = (60 * (g - b)) / (max - min) + 360;\n    } else if (max === g) {\n      h = (60 * (b - r)) / (max - min) + 120;\n    } else if (max === b) {\n      h = (60 * (r - g)) / (max - min) + 240;\n    }\n\n    return [h, s, v];\n  },\n  hexToHvs(hex) {\n    const rgb = this.hexToRgb(hex);\n    return this.rgbToHsv(...rgb);\n  },\n  hvsToHex(h, v, s) {\n    const rgb = this.hsvToRgb(h, v, s);\n    return '#' + this.rgbToHex(rgb).toUpperCase();\n  },\n};\n\nexport default colorTransformator;\n","const hexValidation = (str) => /^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(str);\n\nexport function parseColor(value) {\n  if (!value) return null;\n\n  value = value.toString(16);\n\n  if (value.charAt(0) === '#') value = value.slice(1);\n\n  if (hexValidation(value)) {\n    if (value.length === 3) {\n      value = value\n        .slice(0, 3)\n        .split('')\n        .reduce((a, b) => a + b + b, '');\n    }\n    return `#${value.toUpperCase()}`;\n  }\n\n  return null;\n}\n","import { locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/core-locales';\n\nexport function defaultLocale() {\n  return locale(en);\n}\n","import {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useContext,\n  useMemo,\n} from 'react';\nimport Button from './Button.jsx';\nimport { sliderMove } from './helpers/sliderMove.js';\nimport colorTransformator from './helpers/colorTransformator.js';\nimport { parseColor } from './helpers/colorValidation.js';\nimport { i18n } from '../context.js';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './ColorBoard.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst BLOCK = 'Block';\nconst LINE = 'Line';\n\nfunction ColorBoard({\n  value: propertyValue = '#65D3B3',\n  button = false,\n  onChange,\n}) {\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n\n  const blockRef = useRef(null);\n  const colorLineRef = useRef(null);\n\n  const [blockTop, setBlockTop] = useState();\n  const [blockLeft, setBlockLeft] = useState();\n  const [hueColor, setHueColor] = useState();\n  const [lineLeft, setLineLeft] = useState();\n\n  const [value, setValue] = useWritableProp(propertyValue);\n\n  const color = useMemo(() => parseColor(value) || '#65D3B3', [value]);\n  const blockColor = useMemo(\n    () => colorTransformator.hvsToHex(hueColor || 0, 1, 1),\n    [hueColor],\n  );\n\n  const moveBlockSlider = useCallback(\n    (dx, dy) => {\n      const { width, height } = blockRef.current.getBoundingClientRect();\n\n      if (dy < 0) dy = 0;\n      else if (dy > height) dy = height;\n\n      if (dx < 0) dx = 0;\n      else if (dx > width) dx = width;\n\n      setBlockTop(dy);\n      setBlockLeft(dx);\n\n      // Call setCurrentColor\n      let _sValue, _vValue;\n\n      const [, ,] = colorTransformator.hexToHvs(color);\n      const pxX = width / 100;\n      const pxY = height / 100;\n\n      _sValue = Math.ceil(dx / pxX) / 100;\n      _vValue = Math.ceil(Math.abs(dy / pxY - 100)) / 100;\n\n      const newValue = colorTransformator.hvsToHex(\n        hueColor || 0,\n        _sValue,\n        _vValue,\n      );\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [color, hueColor, onChange],\n  );\n\n  const moveLineSlider = useCallback(\n    (dx) => {\n      const width = colorLineRef.current.getBoundingClientRect().width;\n\n      if (dx < 0) dx = 0;\n      else if (dx > width) dx = width;\n\n      const h = Math.round((dx * 359) / width);\n      const newHue = Math.max(Math.min(h, 359), 0);\n      setHueColor(newHue);\n      setLineLeft(dx);\n\n      // Call setCurrentColor with lineSliderMove=true\n      let _sValue, _vValue;\n      [, _sValue, _vValue] = colorTransformator.hexToHvs(color);\n      const newValue = colorTransformator.hvsToHex(newHue, _sValue, _vValue);\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [color, onChange],\n  );\n\n  const setSlidersPosition = useCallback(() => {\n    const [h, s, v] = colorTransformator.hexToHvs(color);\n    setHueColor(h);\n\n    if (blockRef.current) {\n      const { width, height } = blockRef.current.getBoundingClientRect();\n\n      if (colorLineRef.current) {\n        setLineLeft(\n          (h * colorLineRef.current.getBoundingClientRect().width) / 359,\n        );\n      }\n      setBlockLeft(s * width);\n      setBlockTop(Math.abs(height * (v - 1)));\n    }\n  }, [color]);\n\n  const handleChange = useCallback(\n    ({ target }) => {\n      const newColor = parseColor(target.value);\n      setValue(newColor);\n      onChange && onChange({ value: newColor, input: true });\n      if (newColor) {\n        setSlidersPosition();\n      }\n    },\n    [onChange, setSlidersPosition],\n  );\n\n  const handleSelect = useCallback(\n    (ev) => {\n      ev.stopPropagation();\n      onChange && onChange({ value: color });\n    },\n    [color, onChange],\n  );\n\n  const keydown = useCallback(\n    (ev) => {\n      const slider = ev.target;\n      const isSliderBlock = slider.getAttribute('data-slider') === BLOCK;\n      const isSliderLine = slider.getAttribute('data-slider') === LINE;\n\n      let css = window.getComputedStyle(slider);\n      let left = parseFloat(css.left);\n      let top = parseFloat(css.top);\n      const code = ev.code;\n\n      if (isSliderBlock) {\n        switch (code) {\n          case 'ArrowLeft': {\n            left--;\n            break;\n          }\n          case 'ArrowRight': {\n            left++;\n            break;\n          }\n          case 'ArrowDown': {\n            top++;\n            break;\n          }\n          case 'ArrowUp': {\n            top--;\n            break;\n          }\n          default:\n            return;\n        }\n\n        moveBlockSlider(left, top);\n      }\n\n      if (isSliderLine) {\n        if (code === 'ArrowLeft' || code === 'ArrowDown') left--;\n        else if (code === 'ArrowRight' || code === 'ArrowUp') left++;\n        else return;\n        moveLineSlider(left);\n      }\n\n      ev.preventDefault();\n    },\n    [moveBlockSlider, moveLineSlider],\n  );\n\n  useEffect(() => {\n    setSlidersPosition();\n  }, [setSlidersPosition]);\n\n  useEffect(() => {\n    if (value !== value) {\n      setValue(value);\n      setSlidersPosition();\n    }\n  }, [value, value, setSlidersPosition]);\n\n  useEffect(() => {\n    if (blockRef.current) {\n      sliderMove(blockRef.current, { moveBlockSlider });\n    }\n    if (colorLineRef.current) {\n      sliderMove(colorLineRef.current, { moveLineSlider });\n    }\n  }, [moveBlockSlider, moveLineSlider]);\n\n  useEffect(() => {\n    if (value !== value) {\n      onChange && onChange({ value: value, input: true });\n    }\n  }, [value, onChange]);\n\n  useEffect(() => {\n    if (color && blockRef.current) {\n      setSlidersPosition();\n    }\n  }, [color, setSlidersPosition]);\n\n  const cssScope = 'wx-1yoKzq';\n\n  return (\n    <div className={cssScope + ' wx-colorboard'}>\n      <div\n        className={cssScope + ' wx-color-block'}\n        style={{ background: blockColor }}\n        ref={blockRef}\n      >\n        <div\n          className={cssScope + ' wx-color-block-slider wx-slider'}\n          style={{\n            background: color,\n            top: blockTop + 'px',\n            left: blockLeft + 'px',\n          }}\n          tabIndex={0}\n          data-slider={BLOCK}\n          onKeyDown={keydown}\n        ></div>\n      </div>\n      <div className={cssScope + ' wx-color-line'} ref={colorLineRef}>\n        <div\n          className={cssScope + ' wx-color-line-slider wx-slider'}\n          style={{ background: blockColor, left: lineLeft + 'px' }}\n          tabIndex={0}\n          data-slider={LINE}\n          onKeyDown={keydown}\n        ></div>\n      </div>\n      <div className={cssScope + ' wx-color-controls'}>\n        <div\n          className={cssScope + ' wx-color'}\n          style={{ background: color }}\n        ></div>\n        <input\n          type=\"text\"\n          className={cssScope + ' wx-text'}\n          value={value}\n          onChange={handleChange}\n        />\n      </div>\n      {button && (\n        <Button onClick={handleSelect} type=\"secondary\">\n          {_('select')}\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default ColorBoard;\n","import { useState } from 'react';\nimport Dropdown from './Dropdown.jsx';\nimport ColorBoard from './ColorBoard.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\n\nimport './ColorPicker.css';\n\nexport default function ColorPicker({\n  value: propertyValue = '',\n  id,\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  clear = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  let [value, setValue] = useWritableProp(propertyValue);\n  const [popup, setPopup] = useState(false);\n\n  function handlePopup() {\n    if (disabled) return false;\n    setPopup(true);\n  }\n\n  function selectColor(ev) {\n    if (ev.input) return;\n\n    setPopup(false);\n    const newValue = ev.value;\n    setValue(newValue);\n    if (onChange) onChange({ value: newValue });\n  }\n\n  function unselectColor(ev) {\n    ev.stopPropagation();\n    setValue('');\n    if (onChange) onChange({ value: '' });\n  }\n\n  return (\n    <div className=\"wx-mmT8WH wx-colorpicker\" onClick={handlePopup}>\n      <input\n        className={\n          'wx-mmT8WH wx-input' +\n          (error ? ' wx-error' : '') +\n          (popup ? ' wx-focus' : '')\n        }\n        title={title}\n        value={value}\n        readOnly\n        id={inputId}\n        placeholder={placeholder}\n        disabled={disabled}\n      />\n      <div className=\"wx-mmT8WH wx-color\" style={{ background: value }}></div>\n\n      {clear && !disabled && value && (\n        <i className=\"wx-mmT8WH wxi-close\" onClick={unselectColor}></i>\n      )}\n\n      {popup && (\n        <Dropdown onCancel={() => setPopup(false)}>\n          <ColorBoard value={value} button=\"true\" onChange={selectColor} />\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","import { locateID } from '@svar-ui/lib-dom';\n\nexport function getListHandlers() {\n  let navIndex = null;\n  let isVisible = false;\n\n  let list, options, navCallback, selectCallback;\n  const init = (l, o, n, c) => {\n    list = l;\n    options = o;\n    navCallback = n;\n    selectCallback = c;\n  };\n\n  const setNav = (index) => {\n    navIndex = index;\n    isVisible = navIndex !== null;\n    navCallback(navIndex);\n  };\n\n  const scrollTo = (navIndex, ev) => {\n    if (navIndex !== null && list) {\n      const next = list.querySelectorAll(`.wx-list > .wx-item`)[navIndex];\n      if (next) {\n        next.scrollIntoView({ block: 'nearest' });\n        if (ev) ev.preventDefault();\n      }\n    }\n  };\n\n  const navigate = (dir, ev) => {\n    const index =\n      dir === null\n        ? null\n        : Math.max(0, Math.min(navIndex + dir, options.length - 1));\n    if (index === navIndex) return;\n    setNav(index);\n\n    if (list) scrollTo(index, ev);\n    else requestAnimationFrame(() => scrollTo(index, ev));\n  };\n\n  const move = (ev) => {\n    const id = locateID(ev);\n    // if we have id:\"1\", the locateID will return 1 as number\n    // so using non-strict comparison\n    const index = options.findIndex((a) => a.id == id);\n\n    if (index !== navIndex) {\n      setNav(index);\n    }\n  };\n\n  const keydown = (ev, position) => {\n    switch (ev.code) {\n      case 'Enter':\n        if (isVisible) selectCallback();\n        else setNav(0);\n        break;\n\n      case 'Space':\n        if (!isVisible) setNav(0);\n        break;\n\n      case 'Escape':\n        navCallback((navIndex = null));\n        break;\n\n      case 'Tab':\n        navCallback((navIndex = null));\n        break;\n\n      case 'ArrowDown':\n        navigate(isVisible ? 1 : position || 0, ev);\n        break;\n\n      case 'ArrowUp':\n        navigate(isVisible ? -1 : position || 0, ev);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return { move, keydown, init, navigate };\n}\n","import { useEffect, useState, useRef, useCallback } from 'react';\nimport { useContext } from 'react';\nimport { snippet } from '@svar-ui/lib-react';\nimport { getListHandlers } from './listnav';\nimport Dropdown from '../Dropdown.jsx';\nimport { i18n } from '../../context.js';\nimport './SuggestDropdown.css';\nimport { defaultLocale } from './locale.js';\n\nexport default function SuggestDropdown({\n  items = [],\n  children,\n  onSelect,\n  onReady,\n}) {\n  const list = useRef();\n  const helpers = useRef(getListHandlers());\n\n  const [navIndex, setNavIndex] = useState(null);\n  const navIndexRef = useRef(navIndex);\n\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n\n  const selectItem = (ev) => {\n    if (ev) ev.stopPropagation();\n    onSelect && onSelect({ id: items[navIndexRef.current]?.id });\n  };\n\n  useEffect(() => {\n    helpers.current.init(\n      list.current,\n      items,\n      (i) => {\n        setNavIndex(i);\n        navIndexRef.current = i;\n      },\n      selectItem,\n    );\n  }, [items, list.current]);\n\n  useEffect(() => {\n    onReady && onReady(helpers.current);\n  }, []);\n\n  const onCancel = useCallback(() => {\n    helpers.current.navigate(null);\n  }, [helpers]);\n\n  if (navIndex === null) return null;\n\n  return (\n    <Dropdown onCancel={onCancel}>\n      <div\n        className=\"wx-233fr7 wx-list\"\n        ref={list}\n        onClick={selectItem}\n        onMouseMove={helpers.current.move}\n      >\n        {items.length ? (\n          items.map((data, index) => (\n            <div\n              key={data.id}\n              className={`wx-233fr7 wx-item ${index === navIndex ? 'wx-focus' : ''}`}\n              data-id={data.id}\n            >\n              {children ? snippet(children, { option: data }) : data.label}\n            </div>\n          ))\n        ) : (\n          <div className=\"wx-233fr7 wx-no-data\">{_('No data')}</div>\n        )}\n      </div>\n    </Dropdown>\n  );\n}\n","import { useState, useRef, useMemo, useCallback } from 'react';\nimport List from './helpers/SuggestDropdown.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Combo.css';\n\nexport default function Combo({\n  value: valueProp = '',\n  id,\n  options = [],\n  textOptions = null,\n  textField = 'label',\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  clear = false,\n  children: kids,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n\n  const [value, setValue] = useWritableProp(valueProp);\n  const [filterActive, setFilterActive] = useState(false);\n  const [textInput, setTextInput] = useState('');\n\n  const inputElement = useRef(null);\n  const hasFocus = useRef(false);\n\n  // calculate the derived values\n  const text = useMemo(() => {\n    if (filterActive) return textInput;\n    if (value || value === 0) {\n      const option = (textOptions || options).find((a) => a.id === value);\n      if (option) return option[textField];\n    }\n    return '';\n  }, [filterActive, textInput, value, textOptions, options, textField]);\n\n  const filteredOptions = useMemo(() => {\n    if (!text || !filterActive) return options;\n\n    return options.filter((i) =>\n      i[textField].toLowerCase().includes(text.toLowerCase()),\n    );\n  }, [text, filterActive, options, textField]);\n\n  const index = useCallback(\n    () => filteredOptions.findIndex((a) => a.id === value),\n    [filteredOptions, value],\n  );\n\n  const ready = useCallback((ev) => {\n    navigate.current = ev.navigate;\n    keydown.current = ev.keydown;\n  }, []);\n\n  const doSelect = useCallback(\n    (id, effects) => {\n      if (id || id === 0) {\n        let selected = options.find((a) => a.id === id);\n        setFilterActive(false);\n\n        if (effects) navigate.current(null);\n\n        if (selected && value !== selected.id) {\n          const newValue = selected.id;\n          setValue(newValue);\n          onChange && onChange({ value: newValue });\n        }\n      }\n\n      if (!hasFocus.current && effects) inputElement.current.focus();\n    },\n    [options, value, onChange],\n  );\n\n  const selectByEvent = useCallback(\n    ({ id }) => {\n      doSelect(id, true);\n    },\n    [doSelect],\n  );\n\n  const doUnselect = useCallback(\n    (ev) => {\n      if (ev) ev.stopPropagation();\n\n      setValue('');\n      setFilterActive(false);\n      onChange && onChange({ value: '' });\n    },\n    [onChange],\n  );\n\n  const selectByText = useCallback(\n    (chunk) => {\n      if (!options.length) return;\n      if (chunk === '' && clear) {\n        doUnselect();\n        return;\n      }\n\n      let res = options.find((i) => i[textField] === chunk);\n      if (!res) {\n        res = options.find((i) =>\n          i[textField].toLowerCase().includes(chunk.toLowerCase()),\n        );\n      }\n\n      const id = res ? res.id : value || options[0].id;\n      doSelect(id, false);\n    },\n    [options, textField, clear, value, doSelect, doUnselect],\n  );\n\n  const handleInput = useCallback(() => {\n    setTextInput(inputElement.current.value);\n    setFilterActive(true);\n\n    if (filteredOptions.length) navigate.current(0);\n    else navigate.current(null);\n  }, [filteredOptions.length, navigate]);\n\n  const handleFocus = useCallback(() => {\n    hasFocus.current = true;\n  }, []);\n\n  const handleBlur = useCallback(() => {\n    hasFocus.current = false;\n    setTimeout(() => {\n      if (!hasFocus.current) selectByText(text);\n    }, 200);\n  }, [selectByText, text]);\n\n  return (\n    <div\n      className=\"wx-1j11Jk wx-combo\"\n      onClick={() => navigate.current(index())}\n      onKeyDown={(ev) => keydown.current(ev, index())}\n      title={title}\n    >\n      <input\n        className={'wx-1j11Jk wx-input ' + (error ? 'wx-error' : '')}\n        id={inputId}\n        ref={inputElement}\n        value={text}\n        disabled={disabled}\n        placeholder={placeholder}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onInput={handleInput}\n      />\n\n      {clear && !disabled && value ? (\n        <i className=\"wx-1j11Jk wx-icon wxi-close\" onClick={doUnselect}></i>\n      ) : (\n        <i className=\"wx-1j11Jk wx-icon wxi-angle-down\"></i>\n      )}\n\n      {!disabled && (\n        <List items={filteredOptions} onReady={ready} onSelect={selectByEvent}>\n          {({ option }) => <>{kids ? kids({ option }) : option[textField]}</>}\n        </List>\n      )}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Text.css';\n\nexport default function Text({\n  value: propsValue = '',\n  id,\n  readonly = false,\n  focus = false,\n  select = false,\n  type = 'text',\n  placeholder = '',\n  disabled = false,\n  error = false,\n  inputStyle = {},\n  title = '',\n  css = '',\n  icon = '',\n  clear = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(propsValue);\n  const inputRef = useRef(null);\n\n  const cssString = useMemo(\n    () =>\n      icon && css.indexOf('wx-icon-left') === -1 ? 'wx-icon-right ' + css : css,\n    [icon, css],\n  );\n\n  const hasLeftIcon = useMemo(\n    () => icon && css.indexOf('wx-icon-left') !== -1,\n    [icon, css],\n  );\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (focus && inputRef.current) inputRef.current.focus();\n      if (select && inputRef.current) inputRef.current.select();\n    }, 1);\n\n    return () => clearTimeout(timer);\n  }, [focus, select]);\n\n  const oninput = useCallback(\n    (e) => {\n      const newValue = e.target.value;\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [onChange],\n  );\n\n  const ontextchange = useCallback(\n    (ev) => onChange && onChange({ value: ev.target.value }),\n    [onChange],\n  );\n\n  function clearValue(ev) {\n    ev.stopPropagation();\n    setValue('');\n    onChange && onChange({ value: '' });\n  }\n\n  let inputType = type;\n  if (type !== 'password' && type !== 'number') {\n    inputType = 'text';\n  }\n\n  // MK :: EXTRACT\n  useEffect(() => {\n    const handler = ontextchange;\n    const node = inputRef.current;\n    node.addEventListener('change', handler);\n    return () => {\n      if (node) {\n        node.removeEventListener('change', handler);\n      }\n    };\n  }, [ontextchange]);\n\n  return (\n    <div\n      className={`wx-hQ64J4 wx-text ${cssString} ${error ? 'wx-error' : ''} ${\n        disabled ? 'wx-disabled' : ''\n      } ${clear ? 'wx-clear' : ''}`}\n    >\n      <input\n        className=\"wx-hQ64J4 wx-input\"\n        ref={inputRef}\n        id={inputId}\n        readOnly={readonly}\n        disabled={disabled}\n        placeholder={placeholder}\n        type={inputType}\n        style={inputStyle}\n        title={title}\n        value={value}\n        onInput={oninput}\n      />\n\n      {clear && !disabled && value ? (\n        <>\n          <i className=\"wx-hQ64J4 wx-icon wxi-close\" onClick={clearValue}></i>\n          {hasLeftIcon && <i className={`wx-hQ64J4 wx-icon ${icon}`}></i>}\n        </>\n      ) : icon ? (\n        <i className={`wx-hQ64J4 wx-icon ${icon}`}></i>\n      ) : null}\n    </div>\n  );\n}\n","import { useContext, useMemo } from 'react';\nimport { dateToString, getDuodecade } from '@svar-ui/lib-dom';\nimport { i18n } from '../../context.js';\n\nfunction Header({ date, type, part, onShift }) {\n  const { calendar, formats } = useContext(i18n).getRaw();\n\n  const year = date.getFullYear();\n\n  const label = useMemo(() => {\n    switch (type) {\n      case 'month':\n        return dateToString(formats.monthYearFormat, calendar)(date);\n      case 'year':\n        return dateToString(formats.yearFormat, calendar)(date);\n      case 'duodecade': {\n        const { start, end } = getDuodecade(year);\n        const yearFormat = dateToString(formats.yearFormat, calendar);\n        return `${yearFormat(new Date(start, 0, 1))} - ${yearFormat(new Date(end, 11, 31))}`;\n      }\n      default:\n        return '';\n    }\n  }, [date, type, year, calendar, formats]);\n\n  function changeType() {\n    onShift && onShift({ diff: 0, type });\n  }\n\n  return (\n    <div className=\"wx-8HQVQV wx-header\">\n      {part !== 'right' ? (\n        <i\n          className=\"wx-8HQVQV wx-pager wxi-angle-left\"\n          onClick={() => onShift && onShift({ diff: -1, type })}\n        />\n      ) : (\n        <span className=\"wx-8HQVQV wx-spacer\" />\n      )}\n\n      <span className=\"wx-8HQVQV wx-label\" onClick={changeType}>\n        {label}\n      </span>\n\n      {part !== 'left' ? (\n        <i\n          className=\"wx-8HQVQV wx-pager wxi-angle-right\"\n          onClick={() => onShift && onShift({ diff: 1, type })}\n        />\n      ) : (\n        <span className=\"wx-8HQVQV wx-spacer\" />\n      )}\n    </div>\n  );\n}\n\nimport './Header.css';\n\nexport default Header;\n","import './Button.css';\n\nexport default function Button({ onClick, children }) {\n  return (\n    <button className=\"wx-3s8W4d wx-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n","import { useContext, useMemo, useEffect, useRef } from 'react';\nimport { delegateClick } from '@svar-ui/lib-dom';\nimport { i18n } from '../../context.js';\nimport './Month.css';\nimport { defaultLocale } from '../helpers/locale.js';\n\nexport default function Month({\n  value,\n  current,\n  part = '',\n  markers = null,\n  onCancel,\n  onChange,\n}) {\n  const locale = (useContext(i18n) || defaultLocale()).getRaw().calendar;\n  const weekStart = (locale.weekStart || 7) % 7;\n  const weekdays = locale.dayShort\n    .slice(weekStart)\n    .concat(locale.dayShort.slice(0, weekStart));\n\n  const dv = (d, dm, dd) =>\n    new Date(\n      d.getFullYear(),\n      d.getMonth() + (dm || 0),\n      d.getDate() + (dd || 0),\n    );\n  let ranges = part !== 'normal';\n\n  function isWeekEnd(date) {\n    const d = date.getDay();\n    return d === 0 || d === 6;\n  }\n\n  function getStart() {\n    const start = dv(current, 0, 1 - current.getDate());\n    start.setDate(start.getDate() - ((start.getDay() - (weekStart - 7)) % 7));\n    return start;\n  }\n  function getEnd() {\n    const end = dv(current, 1, -current.getDate());\n    end.setDate(end.getDate() + ((6 - end.getDay() + weekStart) % 7));\n    return end;\n  }\n\n  //MK : HACK\n  const lastTime = useRef(0);\n  function selectDate(date, e) {\n    if (e.timeStamp === lastTime.current) return;\n    lastTime.current = e.timeStamp;\n\n    e.stopPropagation();\n    if (onChange) onChange(new Date(new Date(date)));\n    if (onCancel) onCancel();\n  }\n\n  const date = useMemo(() => {\n    if (part == 'normal') return [value ? dv(value).valueOf() : 0];\n    return value\n      ? [\n          value.start ? dv(value.start).valueOf() : 0,\n          value.end ? dv(value.end).valueOf() : 0,\n        ]\n      : [0, 0];\n  }, [part, value]);\n\n  const days = useMemo(() => {\n    const start = getStart();\n    const end = getEnd();\n    const curMonth = current.getMonth();\n\n    let days = [];\n    for (let d = start; d <= end; d.setDate(d.getDate() + 1)) {\n      const day = {\n        day: d.getDate(),\n        in: d.getMonth() === curMonth,\n        date: d.valueOf(),\n      };\n\n      let css = '';\n      css += !day.in ? ' wx-inactive' : '';\n      css += date.indexOf(day.date) > -1 ? ' wx-selected' : '';\n\n      if (ranges) {\n        const s = day.date == date[0];\n        const e = day.date == date[1];\n        if (s && !e) css += ' wx-left';\n        else if (e && !s) css += ' wx-right';\n\n        if (day.date > date[0] && day.date < date[1]) css += ' wx-inrange';\n      }\n\n      css += isWeekEnd(d) ? ' wx-weekend' : '';\n      if (markers) {\n        const mark = markers(d);\n        if (mark) css += ' ' + mark;\n      }\n\n      days.push({ ...day, css });\n    }\n    return days;\n  }, [current, date, ranges, markers]);\n\n  const delegateRef = useRef(null);\n  let delegateHandler = useRef({});\n  delegateHandler.current.click = selectDate;\n\n  useEffect(() => {\n    delegateClick(delegateRef.current, delegateHandler.current);\n  }, []);\n\n  return (\n    <div>\n      <div className=\"wx-398RBS wx-weekdays\">\n        {weekdays.map((day) => (\n          <div key={day} className=\"wx-398RBS wx-weekday\">\n            {day}\n          </div>\n        ))}\n      </div>\n      <div className=\"wx-398RBS wx-days\" ref={delegateRef}>\n        {days.map((day) => (\n          <div\n            key={day.date}\n            className={`wx-398RBS wx-day ${day.css} ${!day.in ? 'wx-out' : ''}`}\n            data-id={day.date}\n          >\n            {day.day}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useContext, useMemo, useCallback } from 'react';\nimport Button from './Button.jsx';\nimport { getPartValue } from './helpers';\nimport { i18n } from '../../context.js';\nimport './Year.css';\nimport { useWritableProp } from '@svar-ui/lib-react';\n\nexport default function Year({\n  value: valueProp,\n  current: currentProp,\n  part,\n  onCancel,\n  onChange,\n  onShift,\n}) {\n  const [value, setValue] = useWritableProp(valueProp || new Date());\n  const [current, setCurrent] = useWritableProp(currentProp || new Date());\n\n  const locale = useContext(i18n).getRaw().calendar;\n  const months = locale.monthShort || [];\n\n  const monthNum = useMemo(() => {\n    return current.getMonth();\n  }, [current]);\n\n  const selectMonth = useCallback(\n    (month, e) => {\n      if (month !== null && month !== undefined) {\n        e.stopPropagation();\n        const newCurrent = new Date(current);\n        newCurrent.setMonth(month);\n        setCurrent(newCurrent);\n\n        onShift && onShift({ current: newCurrent });\n      }\n\n      if (part === 'normal') setValue(new Date(current));\n\n      onCancel && onCancel();\n    },\n    [current, part, onShift, onCancel],\n  );\n\n  const done = useCallback(() => {\n    const date = new Date(getPartValue(value, part) || current);\n\n    date.setMonth(current.getMonth());\n    date.setFullYear(current.getFullYear());\n\n    onChange && onChange(date);\n  }, [value, current, part, onChange]);\n\n  const handleMonthClick = useCallback(\n    (e) => {\n      const target = e.target.closest('[data-id]');\n      if (target) {\n        const month = parseInt(target.getAttribute('data-id'), 10);\n        selectMonth(month, e);\n      }\n    },\n    [selectMonth],\n  );\n\n  return (\n    <>\n      <div className={'wx-34U8T8 wx-months'} onClick={handleMonthClick}>\n        {months.map((month, i) => (\n          <div\n            key={i}\n            className={\n              'wx-34U8T8 wx-month' + (monthNum === i ? ' wx-current' : '')\n            }\n            data-id={i}\n          >\n            {month}\n          </div>\n        ))}\n      </div>\n      <div className={'wx-34U8T8 wx-buttons'}>\n        <Button onClick={done}>{locale.done}</Button>\n      </div>\n    </>\n  );\n}\n","import { useContext, useMemo, useRef, useEffect } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { delegateClick, getDuodecade } from '@svar-ui/lib-dom';\nimport Button from './Button.jsx';\nimport { getPartValue } from './helpers';\nimport { i18n } from '../../context.js';\nimport './Duodecade.css';\n\nconst cssScope = 'wx-1XEF33';\n\nconst Duodecade = ({ value, current, onCancel, onChange, onShift, part }) => {\n  const _ = useContext(i18n).getRaw().calendar;\n\n  const [currentState, setCurrent] = useWritableProp(current);\n  const [valueState, setValue] = useWritableProp(value);\n\n  const year = useMemo(() => currentState.getFullYear(), [currentState]);\n\n  const years = useMemo(() => {\n    const { start, end } = getDuodecade(year);\n    const years = [];\n    for (let y = start; y <= end; ++y) {\n      years.push(y);\n    }\n    return years;\n  }, [year]);\n\n  const selectYears = {\n    click: selectYear,\n  };\n\n  function selectYear(yearVal, e) {\n    if (yearVal) {\n      e.stopPropagation();\n      const newCurrent = new Date(currentState);\n      newCurrent.setFullYear(yearVal);\n      setCurrent(newCurrent);\n\n      onShift && onShift({ current: newCurrent });\n    }\n\n    if (part === 'normal') {\n      setValue(new Date(currentState));\n    }\n\n    onCancel && onCancel();\n  }\n\n  function done() {\n    const date = new Date(getPartValue(valueState, part) || currentState);\n\n    date.setFullYear(currentState.getFullYear());\n\n    onChange && onChange(date);\n  }\n\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (containerRef.current) {\n      delegateClick(containerRef.current, selectYears);\n    }\n  }, []);\n\n  return (\n    <>\n      <div className={cssScope + ' wx-years'} ref={containerRef}>\n        {years.map((y, i) => (\n          <div\n            key={i}\n            className={\n              cssScope +\n              ` wx-year ${year == y ? 'wx-current' : ''} ${i === 0 ? 'wx-prev-decade' : ''} ${i === 11 ? 'wx-next-decade' : ''}`\n            }\n            data-id={y}\n          >\n            {y}\n          </div>\n        ))}\n      </div>\n      <div className={cssScope + ' wx-buttons'}>\n        <Button onClick={done}>{_.done}</Button>\n      </div>\n    </>\n  );\n};\n\nexport default Duodecade;\n","import Month from './Month.jsx';\nimport Year from './Year.jsx';\nimport Duodecade from './Duodecade.jsx';\n\nexport const configs = {\n  month: {\n    component: Month,\n    next: nextMonth,\n    prev: prevMonth,\n  },\n  year: {\n    component: Year,\n    next: nextYear,\n    prev: prevYear,\n  },\n  duodecade: {\n    component: Duodecade,\n    next: nextDuodecade,\n    prev: prevDuodecade,\n  },\n};\n\nfunction prevMonth(current) {\n  current = new Date(current);\n  current.setMonth(current.getMonth() - 1);\n  return current;\n}\nfunction nextMonth(current) {\n  current = new Date(current);\n  current.setMonth(current.getMonth() + 1);\n  return current;\n}\nfunction prevYear(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() - 1);\n  return current;\n}\nfunction nextYear(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() + 1);\n  return current;\n}\nfunction prevDuodecade(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() - 10);\n  return current;\n}\nfunction nextDuodecade(current) {\n  current = new Date(current);\n  current.setFullYear(current.getFullYear() + 10);\n  return current;\n}\n\nexport function getPartValue(value, part) {\n  let date;\n  if (part === 'normal') date = value;\n  else {\n    const { start, end } = value;\n    if (part === 'left') date = start;\n    else if (part == 'right') date = end;\n    else date = start ? end : start;\n  }\n\n  return date;\n}\n","import { useContext, useState, useMemo } from 'react';\nimport Header from './Header.jsx';\nimport Button from './Button.jsx';\nimport { configs } from './helpers';\nimport { i18n } from '../../context.js';\nimport './Panel.css';\n\nconst defaultButtons = ['clear', 'today'];\n\nfunction getButtonValue(btn) {\n  if (btn === 'done') return -1;\n  if (btn === 'clear') return null;\n  if (btn === 'today') return new Date();\n}\n\nfunction Panel({\n  value,\n  current,\n  onCurrentChange,\n  part = 'normal',\n  markers = null,\n  buttons,\n  onShift,\n  onChange,\n}) {\n  const _ = useContext(i18n).getGroup('calendar');\n\n  const [type, setType] = useState('month');\n\n  const buttonsList = Array.isArray(buttons)\n    ? buttons\n    : buttons\n      ? defaultButtons\n      : [];\n\n  const selectDate = (ev, date) => {\n    ev.preventDefault();\n    onChange && onChange({ value: date });\n  };\n\n  const oncancel = () => {\n    if (type === 'duodecade') setType('year');\n    else if (type === 'year') setType('month');\n  };\n\n  const onShiftLocal = (ev) => {\n    const { diff, current: newCurrent } = ev;\n\n    if (diff === 0) {\n      if (type === 'month') setType('year');\n      else if (type === 'year') setType('duodecade');\n      return;\n    }\n    if (diff) {\n      const obj = configs[type];\n      onCurrentChange(diff > 0 ? obj.next(current) : obj.prev(current));\n    } else if (newCurrent) {\n      onCurrentChange(newCurrent);\n    }\n\n    onShift && onShift();\n  };\n\n  const onChangeLocal = (value) => {\n    setType('month');\n    onChange && onChange({ select: true, value });\n  };\n\n  const CalendarView = useMemo(() => configs[type].component, [type]);\n\n  return (\n    <div\n      className={`wx-2Gr4AS wx-calendar ${part !== 'normal' && part !== 'both' ? 'wx-part' : ''}`}\n    >\n      <div className=\"wx-2Gr4AS wx-wrap\">\n        <Header date={current} part={part} type={type} onShift={onShiftLocal} />\n        <div>\n          <CalendarView\n            value={value}\n            current={current}\n            onCurrentChange={onCurrentChange}\n            part={part}\n            markers={markers}\n            onCancel={oncancel}\n            onChange={onChangeLocal}\n            onShift={onShiftLocal}\n          />\n          {type === 'month' && buttonsList.length > 0 && (\n            <div className=\"wx-2Gr4AS wx-buttons\">\n              {buttonsList.map((button) => (\n                <div key={button} className=\"wx-2Gr4AS wx-button-item\">\n                  <Button\n                    onClick={(e) => selectDate(e, getButtonValue(button))}\n                  >\n                    {_(button)}\n                  </Button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Panel;\n","import { useContext, useMemo } from 'react';\nimport { i18n } from './context';\nimport { locale } from '@svar-ui/lib-dom';\nimport { en } from '@svar-ui/core-locales';\n\nexport default function Component(props) {\n  let { words = null, optional = false, children } = props;\n\n  let l = useContext(i18n);\n  const v = useMemo(() => {\n    let t = l;\n    if (!t || !t.extend) t = locale(en);\n    if (words !== null) t = t.extend(words, optional);\n    return t;\n  }, [words, optional, l]);\n\n  return <i18n.Provider value={v}>{children}</i18n.Provider>;\n}\n","import { useEffect, useCallback } from 'react';\nimport Panel from './calendar/Panel.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport Locale from '../Locale.jsx';\n\nfunction fixCurrent(current, value, setCurrent, force) {\n  if (!current || force) {\n    const newCurrent = value ? new Date(value) : new Date();\n    newCurrent.setDate(1);\n    setCurrent(newCurrent);\n  } else {\n    if (current.getDate() !== 1) {\n      const newCurrent = new Date(current);\n      newCurrent.setDate(1);\n      setCurrent(newCurrent);\n    }\n  }\n}\n\nconst defaultButtons = ['clear', 'today'];\n\nexport default function Calendar({\n  value: valueProp,\n  current: currentProp,\n  markers = null,\n  buttons = defaultButtons,\n  onChange,\n}) {\n  const [value, setValue] = useWritableProp(valueProp);\n  const [current, setCurrent] = useWritableProp(currentProp);\n\n  useEffect(() => {\n    fixCurrent(current, value, setCurrent, false);\n  }, [value, current]);\n\n  const onChangeLocal = useCallback(\n    (v) => {\n      const x = v.value;\n      if (x) {\n        setValue(new Date(x));\n        fixCurrent(current, new Date(x), setCurrent, true);\n      } else {\n        setValue(null);\n      }\n\n      onChange && onChange({ value: x ? new Date(x) : null });\n    },\n    [onChange, current],\n  );\n\n  const onCurrentChangeLocal = useCallback(\n    (v) => {\n      setCurrent(v);\n    },\n    [setCurrent],\n  );\n\n  if (!current) return null;\n\n  return (\n    <Locale>\n      <Panel\n        value={value}\n        current={current}\n        markers={markers}\n        buttons={buttons}\n        onChange={onChangeLocal}\n        onCurrentChange={onCurrentChangeLocal}\n      />\n    </Locale>\n  );\n}\n","import { useState, useEffect, useMemo, useContext } from 'react';\nimport { dateToString } from '@svar-ui/lib-dom';\nimport { i18n } from '../context.js';\n\nimport Text from './Text.jsx';\nimport Dropdown from './Dropdown.jsx';\nimport Calendar from './Calendar.jsx';\nimport './DatePicker.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst defaultButtons = ['clear', 'today'];\n\nexport default function DatePicker({\n  value: propValue,\n  id,\n  disabled = false,\n  error = false,\n  width = 'unset',\n  align = 'start',\n  placeholder = '',\n  format = '',\n  buttons = defaultButtons,\n  css = '',\n  title = '',\n  editable = false,\n  clear = false,\n  onChange,\n}) {\n  const { calendar: calendarLocale, formats } = (\n    useContext(i18n) || defaultLocale()\n  ).getRaw();\n  const f = format || formats?.dateFormat;\n  let dateFormat =\n    typeof f === 'function' ? f : dateToString(f, calendarLocale);\n\n  const [value, setValue] = useState(propValue);\n  const [popup, setPopup] = useState(false);\n\n  // Update local value when prop value changes\n  useEffect(() => {\n    setValue(propValue);\n  }, [propValue]);\n\n  function oncancel() {\n    setPopup(false);\n  }\n\n  function doChange(v) {\n    // skip \"select\" event if the same value\n    // or different objects with the same value\n    // or different objects with the same value\n    const skipEvent =\n      v === value ||\n      (v && value && v.valueOf() === value.valueOf()) ||\n      (!v && !value);\n\n    setValue(v);\n    if (!skipEvent) {\n      onChange && onChange({ value: v });\n    }\n\n    // fire after on-click finished\n    setTimeout(oncancel, 1);\n  }\n\n  const formattedValue = useMemo(\n    () => (value ? dateFormat(value) : ''),\n    [value, dateFormat],\n  );\n\n  function onchangeHandler({ value: v, input }) {\n    if (!editable && !clear) return;\n    if (input) return;\n\n    // convert to date, but ignore empty string input\n    let date =\n      typeof editable === 'function' ? editable(v) : v ? new Date(v) : null;\n\n    // if date is invalid ( incorrect text input ) then use old value\n    // else use the entered date\n    // in any case fallback to null, to prevent undefined as value\n    date = isNaN(date) ? value || null : date || null;\n    doChange(date);\n  }\n\n  // Handle scroll event on window\n  useEffect(() => {\n    const handleScroll = oncancel;\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return (\n    <div className=\"wx-1lKOFG wx-datepicker\" onClick={() => setPopup(true)}>\n      <Text\n        css={css}\n        title={title}\n        value={formattedValue}\n        id={id}\n        readonly={!editable}\n        disabled={disabled}\n        error={error}\n        placeholder={placeholder}\n        onInput={oncancel}\n        onChange={onchangeHandler}\n        icon=\"wxi-calendar\"\n        inputStyle={{\n          cursor: 'pointer',\n          width: '100%',\n          paddingRight:\n            'calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)',\n        }}\n        clear={clear}\n      />\n\n      {popup && !disabled && (\n        <Dropdown\n          onCancel={oncancel}\n          width={width}\n          align={align}\n          autoFit={!!align}\n        >\n          <Calendar\n            buttons={buttons}\n            value={value}\n            onChange={(e) => doChange(e.value)}\n          />\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport Panel from './calendar/Panel';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './RangeCalendar.css';\nimport Locale from '../Locale.jsx';\n\nconst defaultButtons = ['clear', 'today'];\n\nconst RangeCalendar = ({\n  start: startProp,\n  end: endProp,\n  current,\n  months = 2,\n  markers = null,\n  buttons = defaultButtons,\n  onChange,\n}) => {\n  const [start, setStart] = useWritableProp(startProp);\n  const [end, setEnd] = useWritableProp(endProp);\n  const [leftCurrent, setLeftCurrent] = useState();\n  const [rightCurrent, setRightCurrent] = useState();\n\n  const addMonth = useCallback((l, diff, rPrev) => {\n    const r = new Date(l);\n    r.setMonth(r.getMonth() + diff);\n    if (rPrev && r.valueOf() === rPrev.valueOf()) return rPrev;\n    return r;\n  }, []);\n\n  const onLeft = useCallback(\n    (v) => {\n      setLeftCurrent(() => {\n        const newLeft = new Date(v);\n        newLeft.setDate(1);\n        setRightCurrent(addMonth(newLeft, 1));\n        return newLeft;\n      });\n    },\n    [addMonth],\n  );\n\n  const onRight = useCallback(\n    (v) => {\n      setRightCurrent(() => {\n        const newRight = new Date(v);\n        newRight.setDate(1);\n        setLeftCurrent(addMonth(newRight, -1));\n        return newRight;\n      });\n    },\n    [addMonth],\n  );\n\n  // Effect for initializing leftCurrent based on start/current\n  useEffect(() => {\n    const startVal = start;\n    const currentVal = current;\n\n    if (!leftCurrent) {\n      onLeft(startVal ? new Date(startVal) : currentVal || new Date());\n    }\n  }, [start, current, leftCurrent, onLeft]);\n\n  const selectChange = useCallback(\n    (ev) => {\n      const v = ev.value;\n      let s = start,\n        e = end;\n      const final = v === -1;\n      if (!final) {\n        if (ev.select) {\n          if (!start || end) {\n            setStart((s = v));\n            setEnd((e = null));\n          } else {\n            if (start > v) {\n              setEnd((e = start));\n              setStart((s = v));\n            } else {\n              setEnd((e = v));\n            }\n          }\n        } else {\n          if (!v) {\n            setStart((s = null));\n            setEnd((e = null));\n          } else {\n            setStart((s = new Date(v)));\n            setEnd((e = new Date(v)));\n          }\n        }\n      }\n\n      if (final || !buttons.includes('done'))\n        onChange && onChange({ start: s, end: e });\n      return [s, e];\n    },\n    [start, end, buttons, onChange],\n  );\n\n  const doChangeStart = useCallback(\n    (v) => {\n      const [s] = selectChange(v);\n      if (s) onLeft(new Date(s));\n    },\n    [onLeft, start, end],\n  );\n\n  const doChangeEnd = useCallback(\n    (v) => {\n      const [, e] = selectChange(v);\n      if (e) onRight(new Date(e));\n    },\n    [onRight, start, end],\n  );\n\n  if (!leftCurrent || !rightCurrent) return null;\n\n  if (months === 1) {\n    return (\n      <Locale>\n        <Panel\n          value={{ start, end }}\n          current={leftCurrent}\n          setCurrent={onLeft}\n          markers={markers}\n          buttons={buttons}\n          part=\"both\"\n          onChange={doChangeStart}\n        />\n      </Locale>\n    );\n  } else {\n    return (\n      <Locale>\n        <div className=\"wx-p2jCaW wx-rangecalendar\">\n          <div className=\"wx-p2jCaW wx-half\">\n            <Panel\n              value={{ start, end }}\n              current={leftCurrent}\n              setCurrent={onLeft}\n              markers={markers}\n              buttons={false}\n              part=\"left\"\n              onChange={doChangeStart}\n              onCurrentChange={(v) => onLeft(v)}\n            />\n          </div>\n          <div className=\"wx-p2jCaW wx-half\">\n            <Panel\n              value={{ start, end }}\n              current={rightCurrent}\n              setCurrent={onRight}\n              markers={markers}\n              buttons={buttons}\n              part=\"right\"\n              onChange={doChangeEnd}\n              onCurrentChange={(v) => onRight(v)}\n            />\n          </div>\n        </div>\n      </Locale>\n    );\n  }\n};\n\nexport default RangeCalendar;\n","import { useState, useEffect, useMemo, useContext, useCallback } from 'react';\nimport { dateToString } from '@svar-ui/lib-dom';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { i18n } from '../context.js';\n\nimport Text from './Text.jsx';\nimport Dropdown from './Dropdown.jsx';\nimport RangeCalendar from './RangeCalendar.jsx';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst defaultButtons = ['clear', 'today'];\n\nconst DateRangePicker = ({\n  value: valueProp,\n  onChange,\n  id,\n  disabled = false,\n  error = false,\n  width = 'unset',\n  align = 'start',\n  placeholder = '',\n  css = '',\n  title = '',\n  format = '',\n  months = 2,\n  buttons = defaultButtons,\n  editable = false,\n  clear = false,\n}) => {\n  const [value, setValue] = useWritableProp(valueProp);\n  const { calendar: calendarLocale, formats } = (\n    useContext(i18n) || defaultLocale()\n  ).getRaw();\n\n  const f = format || formats?.dateFormat;\n  const dateFormat =\n    typeof f === 'function' ? f : dateToString(f, calendarLocale);\n\n  const [popup, setPopup] = useState(false);\n\n  const onCancel = useCallback(() => {\n    setPopup(false);\n  }, []);\n\n  const formattedValue = useMemo(() => {\n    return value\n      ? value.start\n        ? dateFormat(value.start) +\n          (value.end ? ` - ${dateFormat(value.end)}` : '')\n        : dateFormat(value)\n      : '';\n  }, [value, dateFormat]);\n\n  const start = useMemo(() => {\n    return value ? value.start || null : null;\n  }, [value]);\n\n  const end = useMemo(() => {\n    return value ? value.end || null : null;\n  }, [value]);\n\n  const doChange = useCallback(\n    (d) => {\n      const newValue = d.start || d.end ? { start: d.start, end: d.end } : null;\n\n      // Handle both cases: either external setValue or onChange prop\n      if (setValue) {\n        setValue(newValue);\n      } else {\n        // Parent must handle value prop update via onChange\n      }\n\n      // fire after on-click finished\n      if ((d.start && d.end) || (!d.start && !d.end)) {\n        // FIXME - select event will trigger even if the same value\n        if (onChange) {\n          onChange({ value: newValue });\n        }\n        setTimeout(onCancel, 1);\n      }\n    },\n    [onChange, onCancel, setValue],\n  );\n\n  const doInputChange = useCallback(\n    (ev) => {\n      if (!editable && !clear) return;\n\n      const { value: v, input } = ev;\n      if (input) return;\n\n      const [s, e] = v.split(' -').map((a, i) => {\n        const av = a.trim();\n        let date =\n          typeof editable === 'function'\n            ? editable(av)\n            : av\n              ? new Date(av)\n              : null;\n\n        // if date is invalid ( incorrect text input ) then use old value\n        // else use the entered date\n        // in any case fallback to null, to prevent undefined as value\n        let val = i === 0 ? start : end;\n        return isNaN(date) ? (val ? val : null) : date || null;\n      });\n\n      doChange({ start: s, end: e });\n    },\n    [editable, clear, start, end, doChange],\n  );\n\n  useEffect(() => {\n    const handleScroll = () => {\n      onCancel();\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [onCancel]);\n\n  return (\n    <div\n      className={`wx-1b0WDQ wx-daterangepicker ${disabled ? 'wx-disabled' : ''} ${error ? 'wx-error' : ''}`}\n      onClick={() => setPopup(true)}\n    >\n      <Text\n        css={css}\n        title={title}\n        value={formattedValue}\n        id={id}\n        readonly={!editable}\n        disabled={disabled}\n        placeholder={placeholder}\n        error={error}\n        onChange={doInputChange}\n        icon=\"wxi-calendar\"\n        inputStyle={{\n          cursor: 'pointer',\n          width: '100%',\n          paddingRight:\n            'calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)',\n        }}\n        clear={clear}\n      />\n\n      {popup && !disabled && (\n        <Dropdown\n          onCancel={onCancel}\n          width={width}\n          align={align}\n          autoFit={!!align}\n        >\n          <RangeCalendar\n            onCancel={onCancel}\n            buttons={buttons}\n            start={start}\n            end={end}\n            months={months}\n            onChange={doChange}\n          />\n        </Dropdown>\n      )}\n    </div>\n  );\n};\n\nexport default DateRangePicker;\n\nimport './DateRangePicker.css';\n","import { useEffect, useRef, useState, useMemo } from 'react';\nimport { useHotkeys } from '@svar-ui/lib-react';\nimport Button from './Button.jsx';\nimport './Fullscreen.css';\n\nexport default function Fullscreen({\n  hotkey = null,\n  toggleButton,\n  children,\n}) {\n  const nodeRef = useRef(null);\n  const [inFullscreen, setInFullscreen] = useState(false);\n\n  const icon = useMemo(\n    () => `wxi-${inFullscreen ? 'collapse' : 'expand'}`,\n    [inFullscreen],\n  );\n\n  const toggleFullscreen = useRef(null);\n  toggleFullscreen.current = () => {\n    const node = nodeRef.current;\n    if (!inFullscreen && node) {\n      node.requestFullscreen();\n    } else if (inFullscreen) {\n      document.exitFullscreen();\n    }\n    setInFullscreen((prev) => !prev);\n  };\n\n  useHotkeys({ [hotkey]: () => toggleFullscreen.current() }, nodeRef);\n\n  useEffect(() => {\n    const setFullscreenState = () => {\n      setInFullscreen(document.fullscreenElement === nodeRef.current);\n    };\n\n    document.addEventListener('fullscreenchange', setFullscreenState);\n    return () => {\n      document.removeEventListener('fullscreenchange', setFullscreenState);\n    };\n  }, []);\n\n  return (\n    <div className=\"wx-13aa5W wx-fullscreen\" ref={nodeRef} tabIndex={-1}>\n      {children}\n      {toggleButton ? (\n        toggleButton(toggleFullscreen.current, inFullscreen)\n      ) : (\n        <Button css=\"wx-13aa5W wx-fullscreen-button\" onClick={toggleFullscreen.current}>\n          <i className={`wx-13aa5W ${icon} wx-fullscreen-icon`}> </i>\n        </Button>\n      )}\n    </div>\n  );\n}\n","import './Icon.css';\n\nexport default function Icon({ css = '', title = '', children, onClick }) {\n  if (children) {\n    return (\n      <i\n        title={title}\n        role=\"img\"\n        className={`wx-mdnST1 wx-icon ${css}`}\n        onClick={onClick}\n      >\n        {children}\n      </i>\n    );\n  } else {\n    return (\n      <i\n        title={title}\n        className={`wx-mdnST1 wx-icon ${css}`}\n        onClick={onClick}\n      />\n    );\n  }\n}\n","import { useState, useMemo, useRef, useCallback } from 'react';\nimport { useWritableProp, snippet } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport List from './helpers/SuggestDropdown.jsx';\nimport Checkbox from './Checkbox.jsx';\nimport './MultiCombo.css';\n\nconst defaultValue = [];\n\nexport default function MultiCombo({\n  id,\n  value: valueProp = defaultValue,\n  options = [],\n  textOptions = null,\n  textField = 'label',\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  checkboxes = false,\n  onChange,\n  children,\n}) {\n  const inputId = useInputId(id);\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n\n  const [value, setValue] = useWritableProp(valueProp);\n\n  const [text, setText] = useState('');\n  const [focus, setFocus] = useState(false);\n  const inputElement = useRef(null);\n\n  const selected = useMemo(() => {\n    return value\n      ? (textOptions || options).filter((i) => value.includes(i.id))\n      : [];\n  }, [value, textOptions, options]);\n\n  const filterOptions = useMemo(() => {\n    const o = options;\n    return text\n      ? o.filter((i) => i[textField].toLowerCase().includes(text.toLowerCase()))\n      : o;\n  }, [text, options, textField]);\n\n  const onready = useCallback((ev) => {\n    navigate.current = ev.navigate;\n    keydown.current = ev.keydown;\n  }, []);\n\n  const input = useCallback(() => {\n    if (filterOptions.length) navigate.current(0);\n    else navigate.current(null);\n  }, [filterOptions]);\n\n  const onselect = useCallback(\n    (ev) => {\n      const { id } = ev;\n\n      if (id) {\n        let next;\n        if (value) {\n          if (value.includes(id)) {\n            next = value.filter((i) => i !== id);\n          } else {\n            next = [...value, id];\n          }\n        } else {\n          next = [id];\n        }\n\n        setValue(next);\n        onChange && onChange({ value: next });\n\n        inputElement.current.focus();\n      }\n    },\n    [value, onChange],\n  );\n\n  const remove = useCallback(\n    (id, ev) => {\n      if (ev) ev.stopPropagation();\n\n      const next = value.filter((i) => i !== id);\n      setValue(next);\n      onChange && onChange({ value: next });\n    },\n    [value, onChange],\n  );\n\n  const index = useCallback(\n    () =>\n      value && value.length\n        ? filterOptions.findIndex((i) => i.id === value[0])\n        : 0,\n    [value, filterOptions],\n  );\n\n  const onClickHandler = useCallback(() => {\n    if (!disabled) {\n      inputElement.current.focus();\n      navigate.current(index());\n    }\n  }, [disabled, index]);\n\n  return (\n    <div\n      title={title}\n      className={\n        'wx-12Wj21 wx-multicombo ' +\n        `${error ? 'wx-error' : ''} ${disabled ? 'wx-disabled' : ''} ${selected.length ? 'wx-not-empty' : ''} ${focus && !disabled ? 'wx-focus' : ''}`\n      }\n      onClick={onClickHandler}\n      onKeyDown={(ev) => keydown.current(ev, index())}\n    >\n      <div className=\"wx-12Wj21 wx-wrapper\">\n        <div className=\"wx-12Wj21 wx-tags\">\n          {selected.map((tag) => (\n            <div key={tag.id} className=\"wx-12Wj21 wx-tag\">\n              {children ? snippet(children, { option: tag }) : tag[textField]}\n              {!disabled && (\n                <i\n                  className=\"wx-12Wj21 wx-icon wxi-close\"\n                  onClick={(ev) => remove(tag.id, ev)}\n                ></i>\n              )}\n            </div>\n          ))}\n        </div>\n        <div className=\"wx-12Wj21 wx-select\">\n          <input\n            className=\"wx-12Wj21 wx-input\"\n            id={inputId}\n            type=\"text\"\n            value={text}\n            onChange={(ev) => setText(ev.target.value)}\n            onInput={input}\n            placeholder={placeholder}\n            disabled={disabled}\n            onFocus={() => setFocus(true)}\n            onBlur={() => setFocus(false)}\n            ref={inputElement}\n          />\n          <i className=\"wx-12Wj21 wx-icon wxi-angle-down\"></i>\n        </div>\n      </div>\n\n      {!disabled && (\n        <List items={filterOptions} onReady={onready} onSelect={onselect}>\n          {({ option }) => (\n            <>\n              {checkboxes && (\n                <Checkbox\n                  style={{ marginRight: '8px', pointerEvents: 'none' }}\n                  name={option.id}\n                  value={value && value.includes(option.id)}\n                />\n              )}\n              {children ? snippet(children, { option }) : option[textField]}\n            </>\n          )}\n        </List>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect, useRef, useCallback } from 'react';\nimport { clickOutside, calculatePosition } from '@svar-ui/lib-dom';\nimport './Popup.css';\n\nexport function Popup({\n  left = 0,\n  top = 0,\n  at = 'bottom',\n  parent = null,\n  onCancel,\n  children,\n}) {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [width, setWidth] = useState('auto');\n  const [visible, setVisible] = useState(false);\n\n  const self = useRef(null);\n\n  const updatePosition = useCallback(() => {\n    if (!self.current) return;\n\n    const result = calculatePosition(self.current, parent, at, left, top);\n    if (result) {\n      setX(result.x);\n      setY(result.y);\n      setWidth(result.width);\n      setVisible(true);\n    }\n  }, [self, parent, at, left, top]);\n\n  useEffect(() => {\n    requestAnimationFrame(updatePosition);\n  }, []);\n\n  useEffect(() => {\n    updatePosition(parent);\n  }, [parent, at, left, top]);\n\n  useEffect(() => {\n    const down = (e) => {\n      onCancel && onCancel(e);\n    };\n    if (self.current) {\n      return clickOutside(self.current, down).destroy;\n    }\n  }, [onCancel]);\n\n  return (\n    <div\n      ref={self}\n      className=\"wx-37M6Fj wx-popup\"\n      style={{\n        position: 'absolute',\n        visibility: visible ? 'visible' : 'hidden',\n        top: y + 'px',\n        left: x + 'px',\n        width: width,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Popup;\n","import { useContext } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { i18n } from '../context.js';\nimport './Pager.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst Pager = ({\n  total = 0,\n  pageSize: initialPageSize = 20,\n  value: initialValue = 1,\n  onChange,\n}) => {\n  const [pageSize, setPageSize] = useWritableProp(initialPageSize);\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n\n  const pageCount = Math.ceil(total / pageSize);\n  const from = (value - 1) * pageSize;\n  const to = Math.min(value * pageSize, total);\n\n  const setInnerValue = (v, final) => {\n    if (Number.isNaN(v)) return;\n\n    if (!final) setValue(v);\n    v = Math.max(1, Math.min(v, pageCount));\n    if (final) setValue(v);\n\n    if (v === value) return;\n    setTimeout(() => {\n      onChange &&\n        onChange({\n          value: v,\n          from: (v - 1) * pageSize,\n          to: Math.min(v * pageSize, total),\n          pageSize: pageSize,\n        });\n    });\n  };\n\n  function setActivePage(id) {\n    switch (id) {\n      case 'first':\n        setInnerValue(1);\n        break;\n\n      case 'prev':\n        setInnerValue(value - 1);\n        break;\n\n      case 'next':\n        setInnerValue(value + 1);\n        break;\n\n      case 'last':\n        setInnerValue(pageCount);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  const onPageSizeInput = (e) => {\n    const newValue = e.target.value * 1;\n    if (Number.isNaN(newValue)) {\n      return;\n    }\n\n    setPageSize(newValue);\n    onChange && onChange({ value, from, to, pageSize: newValue });\n  };\n\n  return (\n    <div className=\"wx-35Np0p wx-pager\">\n      <div className=\"wx-35Np0p wx-left\">\n        <span>{_('Rows per page')}: </span>\n        <input\n          type=\"number\"\n          min={1}\n          className=\"wx-35Np0p wx-input\"\n          value={pageSize}\n          onChange={onPageSizeInput}\n        />\n      </div>\n\n      <div className=\"wx-35Np0p wx-center\">\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-dbl-left' +\n            (value === 1 ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('first')}\n        ></i>\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-left' +\n            (value === 1 ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('prev')}\n        ></i>\n        <input\n          type=\"text\"\n          value={value}\n          className=\"wx-35Np0p wx-input\"\n          onChange={(e) => setInnerValue(e.target.value * 1)}\n          onBlur={(e) => setInnerValue(e.target.value * 1, true)}\n        />\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-right' +\n            (value === pageCount ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('next')}\n        ></i>\n        <i\n          className={\n            'wx-35Np0p wx-icon wxi-angle-dbl-right' +\n            (value === pageCount ? ' wx-disabled' : '')\n          }\n          onClick={() => setActivePage('last')}\n        ></i>\n      </div>\n\n      <div className=\"wx-35Np0p wx-right\">\n        {_('Total pages')}: {pageCount}\n      </div>\n    </div>\n  );\n};\n\nexport default Pager;\n","import { useState } from 'react';\nimport { useInputId } from './helpers/getInputId.js';\nimport { useId } from 'react';\nimport './RadioButton.css';\n\nexport default function RadioButton({\n  id,\n  label = '',\n  value: externalValue,\n  name = '',\n  inputValue = '',\n  disabled = false,\n  onChange,\n}) {\n  const fallbackId = useId();\n  const inputId = useInputId(id) || fallbackId;\n  // Internal state for uncontrolled behavior\n  const [internalValue, setInternalValue] = useState(false);\n\n  // Determine which value to use (controlled vs uncontrolled)\n  // For React, we need to handle both cases\n  const isControlled = externalValue !== undefined;\n  const currentValue = isControlled ? externalValue : internalValue;\n\n  function handlerChange(ev) {\n    const newValue = ev.target.checked;\n\n    if (!isControlled) {\n      setInternalValue(newValue);\n    }\n\n    if (newValue && onChange) {\n      onChange({ value: true, inputValue });\n    }\n  }\n\n  return (\n    <div className=\"wx-3lDF1s wx-radio\">\n      <input\n        type=\"radio\"\n        className=\"wx-3lDF1s wx-input\"\n        id={inputId}\n        disabled={disabled}\n        name={name}\n        value={inputValue}\n        checked={currentValue}\n        onChange={handlerChange}\n      />\n      <label htmlFor={inputId} className=\"wx-3lDF1s wx-label\">\n        <span className=\"wx-3lDF1s wx-circle\"></span>\n        {label && <span className=\"wx-3lDF1s wx-radio-text\">{label}</span>}\n      </label>\n    </div>\n  );\n}\n","import { uid } from '@svar-ui/lib-dom';\nimport { useState, useEffect } from 'react';\nimport RadioButton from './RadioButton.jsx';\nimport { fieldId } from \"../context\";\nimport './RadioButtonGroup.css';\n\n\nexport default function RadioButtonGroup({\n  options = [{}],\n  value = '',\n  onChange,\n  type = '',\n}) {\n  const name = uid();\n\n  const [currentValue, setCurrentValue] = useState(value);\n\n  useEffect(() => {\n    setCurrentValue(value);\n  }, [value]);\n\n  function handleChange(ev) {\n    const newValue = ev.inputValue;\n    setCurrentValue(newValue);\n    if (onChange) {\n      onChange({ value: newValue });\n    }\n  }\n\n  return (\n    <fieldId.Provider value={null}>\n      <div className={`wx-38w70j wx-radiogroup ${type && `wx-${type}`}`}>\n        {options.map((option) => (\n          <div key={option.id} className=\"wx-38w70j wx-item\">\n            <RadioButton\n              label={option.label}\n              inputValue={option.id}\n              value={currentValue === option.id}\n              name={name}\n              onChange={handleChange}\n            />\n          </div>\n        ))}\n      </div>\n    </fieldId.Provider>\n  );\n}\n","import { useRef, useCallback, useMemo } from 'react';\nimport List from './helpers/SuggestDropdown.jsx';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport './RichSelect.css';\n\nexport default function RichSelect({\n  value: propertyValue = '',\n  options = [],\n  textOptions = null,\n  placeholder = '',\n  disabled = false,\n  error = false,\n  title = '',\n  textField = 'label',\n  clear = false,\n  children: kids,\n  onChange,\n}) {\n  const navigate = useRef(null);\n  const keydown = useRef(null);\n  let [value, setValue] = useWritableProp(propertyValue);\n\n  function ready(ev) {\n    navigate.current = ev.navigate;\n    keydown.current = ev.keydown;\n  }\n\n  const selected = useMemo(() => {\n    return value || value === 0\n      ? (textOptions || options).find((a) => a.id === value)\n      : null;\n  }, [value, textOptions, options]);\n\n  const select = useCallback(\n    ({ id }) => {\n      if (id || id === 0) {\n        setValue(id);\n        navigate.current(null);\n        onChange && onChange({ value: id });\n      }\n    },\n    [setValue, onChange],\n  );\n\n  const unselect = useCallback(\n    (ev) => {\n      ev.stopPropagation();\n      setValue('');\n      onChange && onChange({ value: '' });\n    },\n    [setValue, onChange],\n  );\n\n  const index = useCallback(() => {\n    return options.findIndex((a) => a.id === value);\n  }, [options, value]);\n\n  return (\n    <div\n      className={`wx-2YgblL wx-richselect ${error ? 'wx-2YgblL wx-error' : ''} ${disabled ? 'wx-2YgblL wx-disabled' : ''} ${!kids ? 'wx-2YgblL wx-nowrap' : ''}`}\n      title={title}\n      onClick={() => navigate.current(index())}\n      onKeyDown={(ev) => keydown.current(ev, index())}\n      tabIndex={0}\n    >\n      <div className=\"wx-2YgblL wx-label\">\n        {selected ? (\n          kids ? (\n            kids(selected)\n          ) : (\n            selected[textField]\n          )\n        ) : placeholder ? (\n          <span className=\"wx-2YgblL wx-placeholder\">{placeholder}</span>\n        ) : (\n          '\\u00A0'\n        )}\n      </div>\n\n      {clear && !disabled && value ? (\n        <i className=\"wx-2YgblL wx-icon wxi-close\" onClick={unselect} />\n      ) : (\n        <i className=\"wx-2YgblL wx-icon wxi-angle-down\" />\n      )}\n\n      {!disabled && (\n        <List items={options} onReady={ready} onSelect={select}>\n          {({ option }) => (kids ? kids(option) : option[textField])}\n        </List>\n      )}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { snippet } from '@svar-ui/lib-react';\nimport './Segmented.css';\n\nconst Segmented = ({\n  options = [],\n  value = '',\n  css = '',\n  children,\n  onChange,\n}) => {\n  // Note: Using additional state for controlled/uncontrolled handling since React doesn't allow direct prop mutation\n  const [internalValue, setInternalValue] = useState(value);\n\n  const handleClick = (id) => {\n    setInternalValue(id);\n    if (onChange) {\n      onChange({ value: id });\n    }\n  };\n\n  // Ensure internal value stays in sync with external value changes\n  useEffect(() => {\n    setInternalValue(value);\n  }, [value]);\n\n  return (\n    <div className={'wx-0hMO7P' + ` wx-segmented ${css}`}>\n      {options.map((option) => (\n        <button\n          key={option.id}\n          className={\n            'wx-0hMO7P' +\n            ` wx-segment ${option.css} ${option.id === internalValue ? 'wx-selected' : ''}`\n          }\n          title={option.title}\n          onClick={() => handleClick(option.id)}\n        >\n          {children ? (\n            snippet(children, { option })\n          ) : (\n            <>\n              {option.icon && (\n                <i\n                  className={\n                    'wx-0hMO7P' +\n                    ` wx-icon ${option.icon} ${!option.label ? 'wx-only' : ''}`\n                  }\n                ></i>\n              )}\n              {option.label && (\n                <span className=\"wx-0hMO7P wx-label\">{option.label}</span>\n              )}\n            </>\n          )}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default Segmented;\n","import { useState, useCallback } from 'react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Select.css';\n\nexport default function Select({\n  value: valueProp,\n  options = [],\n  placeholder = '',\n  title = '',\n  disabled = false,\n  error = false,\n  textField = 'label',\n  clear = false,\n  id,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useState(valueProp || '');\n\n  const handleChange = useCallback(\n    (event) => {\n      const newValue = event.target.value;\n      setValue(newValue);\n      if (onChange) onChange({ value: newValue });\n    },\n    [onChange],\n  );\n\n  const unselect = useCallback(() => {\n    setValue('');\n    if (onChange) onChange({ value: '' });\n  }, [onChange]);\n\n  return (\n    <div className=\"wx-2yx1Fo wx-select-box\">\n      <select\n        id={inputId}\n        value={value}\n        disabled={disabled}\n        className={`wx-2yx1Fo wx-select ${error ? 'wx-2yx1Fo wx-error' : ''}`}\n        title={title}\n        onChange={handleChange}\n      >\n        <option value=\"\">{placeholder}</option>\n        {options.map((option) => (\n          <option key={option.id} value={option.id}>\n            {option[textField]}\n          </option>\n        ))}\n      </select>\n\n      {clear && !disabled && value ? (\n        <i className=\"wx-2yx1Fo wx-icon wxi-close\" onClick={unselect}></i>\n      ) : (\n        <i className=\"wx-2yx1Fo wx-icon wxi-angle-down\"></i>\n      )}\n    </div>\n  );\n}\n","import { useEffect, useMemo, useRef } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Slider.css';\n\nexport default function Slider({\n  id,\n  label = '',\n  css = '',\n  min = 0,\n  max = 100,\n  value: initialValue = 0,\n  step = 1,\n  title = '',\n  disabled = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(initialValue);\n  const previous = useRef({ value: value, input: value });\n\n  const progress = useMemo(\n    () => ((value - min) / (max - min)) * 100 + '%',\n    [value, min, max],\n  );\n\n  const bgStyle = useMemo(() => {\n    return disabled\n      ? ''\n      : `linear-gradient(90deg, var(--wx-slider-primary) 0% ${progress}, var(--wx-slider-background) ${progress} 100%)`;\n  }, [disabled, progress]);\n\n  function oninput({ target }) {\n    const newValue = target.value * 1;\n    setValue(newValue);\n    onChange &&\n      onChange({\n        value: newValue,\n        previous: previous.current.input,\n        input: true,\n      });\n    previous.current.input = newValue;\n  }\n\n  function onslider({ target }) {\n    const newValue = target.value * 1;\n    setValue(newValue);\n    onChange && onChange({ value: newValue, previous: previous.current.value });\n    previous.current.value = newValue;\n  }\n\n  // Sync if props.value changes externally\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.addEventListener('change', onslider);\n      return () => {\n        if (inputRef.current) {\n          inputRef.current.removeEventListener('change', onslider);\n        }\n      };\n    }\n  }, [inputRef, onslider]);\n\n  return (\n    <div className={`wx-2EDJ8G wx-slider ${css}`} title={title}>\n      {label && (\n        <label className=\"wx-2EDJ8G wx-label\" htmlFor={inputId}>\n          {label}\n        </label>\n      )}\n      <div className=\"wx-2EDJ8G wx-inner\">\n        <input\n          id={inputId}\n          className=\"wx-2EDJ8G wx-input\"\n          type=\"range\"\n          min={min}\n          max={max}\n          step={step}\n          disabled={disabled}\n          value={value}\n          onInput={oninput}\n          style={{ background: bgStyle }}\n          ref={inputRef}\n        />\n      </div>\n    </div>\n  );\n}\n","import { useCallback } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Switch.css';\n\nexport default function Switch({\n  id,\n  value: initialValue = false,\n  disabled = false,\n  onChange,\n}) {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const handleChange = useCallback(\n    (event) => {\n      const newValue = event.target.checked;\n      setValue(newValue);\n      onChange && onChange({ value: newValue });\n    },\n    [onChange],\n  );\n\n  return (\n    <label className=\"wx-2dAR5c wx-switch\">\n      <input\n        className=\"wx-2dAR5c wx-input\"\n        type=\"checkbox\"\n        checked={value}\n        onChange={handleChange}\n        disabled={disabled}\n        id={inputId}\n      />\n      <span className=\"wx-2dAR5c wx-box\" />\n    </label>\n  );\n}\n","import { useWritableProp } from '@svar-ui/lib-react';\nimport './Tabs.css';\n\nconst Tabs = ({\n  options = [],\n  value: propValue = '',\n  type = 'top',\n  css = '',\n  onChange,\n}) => {\n  const [value, setValue] = useWritableProp(propValue);\n\n  const handleClick = (optionId) => {\n    setValue(optionId);\n    if (onChange) {\n      onChange({ value: optionId });\n    }\n  };\n\n  return (\n    <div className={'wx-138fWJ ' + `wx-tabs wx-${type} ${css}`}>\n      {options.map((option) => (\n        <button\n          key={option.id}\n          className={\n            'wx-138fWJ ' +\n            `wx-tab ${option.css} ${option.id === value ? 'wx-active' : ''}`\n          }\n          title={option.title}\n          onClick={() => handleClick(option.id)}\n        >\n          {option.icon && (\n            <i\n              className={\n                'wx-138fWJ ' +\n                `wx-icon ${option.icon} ${!option.label ? 'wx-only' : ''}`\n              }\n            ></i>\n          )}\n          {option.label && (\n            <span className=\"wx-138fWJ wx-label\">{option.label}</span>\n          )}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default Tabs;\n","import { useCallback } from 'react';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { useInputId } from './helpers/getInputId.js';\nimport './Counter.css';\n\nconst Counter = ({\n  id,\n  value: initialValue = 0,\n  step = 1,\n  min = 0,\n  max = Infinity,\n  error = false,\n  disabled = false,\n  readonly = false,\n  onChange,\n}) => {\n  const inputId = useInputId(id);\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const dec = useCallback(() => {\n    if (readonly || value <= min) return;\n    const newValue = value - step;\n    setValue(newValue);\n    onChange && onChange({ value: newValue });\n  }, [value, readonly, min, step, onChange]);\n\n  const inc = useCallback(() => {\n    if (readonly || value >= max) return;\n    const newValue = value + step;\n    setValue(newValue);\n    onChange && onChange({ value: newValue });\n  }, [value, readonly, max, step, onChange]);\n\n  const blur = useCallback(() => {\n    if (!readonly) {\n      const tValue =\n        Math.round(Math.min(max, Math.max(value, min)) / step) * step;\n      const newValue = isNaN(tValue) ? Math.max(min, 0) : tValue;\n      setValue(newValue);\n      onChange && onChange({ value: newValue });\n    }\n  }, [readonly, value, max, min, step, onChange]);\n\n  const input = useCallback(\n    (e) => {\n      const newValue = e.target.value * 1;\n      setValue(newValue);\n      onChange && onChange({ value: newValue, input: true });\n    },\n    [onChange],\n  );\n\n  return (\n    <div\n      className={\n        'wx-22t21n ' +\n        `wx-counter ${disabled ? 'wx-disabled' : ''} ${readonly ? 'wx-readonly' : ''} ${error ? 'wx-error' : ''}`\n      }\n    >\n      <button\n        aria-label=\"-\"\n        className={'wx-22t21n ' + 'wx-btn wx-btn-dec'}\n        disabled={disabled}\n        onClick={dec}\n      >\n        <svg\n          className={'wx-22t21n ' + 'wx-dec'}\n          width=\"12\"\n          height=\"2\"\n          viewBox=\"0 0 12 2\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M11.2501 1.74994H0.750092V0.249939H11.2501V1.74994Z\" />\n        </svg>\n      </button>\n      <input\n        id={inputId}\n        type=\"text\"\n        className={'wx-22t21n ' + 'wx-input'}\n        disabled={disabled}\n        readOnly={readonly}\n        required\n        value={value}\n        onBlur={blur}\n        onInput={input}\n      />\n      <button\n        aria-label=\"-\"\n        className={'wx-22t21n ' + 'wx-btn wx-btn-inc'}\n        disabled={disabled}\n        onClick={inc}\n      >\n        <svg\n          className={'wx-22t21n ' + 'wx-inc'}\n          width=\"12\"\n          height=\"12\"\n          viewBox=\"0 0 12 12\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M11.2501\n\t\t\t\t\t\t\t\t6.74994H6.75009V11.2499H5.25009V6.74994H0.750092V5.24994H5.25009V0.749939H6.75009V5.24994H11.2501V6.74994Z\"\n          />\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n","import './Notice.css';\n\nexport default function Notice({ notice = {} }) {\n  function onRemove() {\n    if (notice.remove) notice.remove();\n  }\n\n  return (\n    <div\n      className={`wx-11sNg5 wx-notice wx-${notice.type ? notice.type : ''}`}\n      role=\"status\"\n      aria-live=\"polite\"\n    >\n      <div className=\"wx-11sNg5 wx-text\">{notice.text}</div>\n      <div className=\"wx-11sNg5 wx-button\">\n        <i className=\"wx-11sNg5 wxi-close\" onClick={onRemove} />\n      </div>\n    </div>\n  );\n}\n","import Notice from './Notice.jsx';\nimport './Notices.css';\n\nexport default function Notices({ data = [] }) {\n  return (\n    <div className=\"wx-3nwoO9 wx-notices\">\n      {data.map((notice) => (\n        <Notice key={notice.id} notice={notice} />\n      ))}\n    </div>\n  );\n}\n","import { useRef, useEffect, useContext } from 'react';\nimport Button from './Button.jsx';\nimport { i18n } from '../context.js';\nimport './Modal.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nexport default function Modal({\n  title = '',\n  buttons = ['cancel', 'ok'],\n  header,\n  children,\n  footer,\n  onConfirm,\n  onCancel,\n}) {\n  const _ = (useContext(i18n) || defaultLocale()).getGroup('core');\n  const modal = useRef(null);\n\n  useEffect(() => {\n    modal.current?.focus();\n  }, []);\n\n  function keydown(ev) {\n    switch (ev.code) {\n      case 'Enter': {\n        const from = ev.target.tagName;\n        if (from === 'TEXTAREA' || from === 'BUTTON') return;\n        onConfirm && onConfirm({ event: ev });\n        break;\n      }\n      case 'Escape':\n        onCancel && onCancel({ event: ev });\n        break;\n    }\n  }\n\n  function onclick(ev, button) {\n    const pack = { event: ev, button };\n    if (button === 'cancel') {\n      onCancel && onCancel(pack);\n    } else {\n      onConfirm && onConfirm(pack);\n    }\n  }\n\n  return (\n    <div\n      className=\"wx-1FxkZa wx-modal\"\n      ref={modal}\n      tabIndex={0}\n      onKeyDown={keydown}\n    >\n      <div className=\"wx-1FxkZa wx-window\">\n        {header ? (\n          header\n        ) : title ? (\n          <div className=\"wx-1FxkZa wx-header\">{title}</div>\n        ) : null}\n\n        <div>{children}</div>\n\n        {footer\n          ? footer\n          : buttons && (\n              <div className=\"wx-1FxkZa wx-buttons\">\n                {buttons.map((button) => (\n                  <div key={button} className=\"wx-1FxkZa wx-button\">\n                    <Button\n                      type={`block ${button === 'ok' ? 'primary' : 'secondary'}`}\n                      onClick={(ev) => onclick(ev, button)}\n                    >\n                      {_(button)}\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            )}\n      </div>\n    </div>\n  );\n}\n","import { useState, useImperativeHandle, forwardRef } from 'react';\nimport Notices from './Notices.jsx';\nimport Modal from './Modal.jsx';\n\nimport { uid } from '@svar-ui/lib-dom';\n\nfunction Globals({ children }, apiRef) {\n  const [modal, setModal] = useState(null);\n  const [notices, setNotices] = useState([]);\n\n  useImperativeHandle(\n    apiRef,\n    () => ({\n      showModal: (msg) => {\n        const modalObj = { ...msg };\n        setModal(modalObj);\n        return new Promise((res, rej) => {\n          modalObj.resolve = (v) => {\n            setModal(null);\n            res(v);\n          };\n          modalObj.reject = (v) => {\n            setModal(null);\n            rej(v);\n          };\n        });\n      },\n      showNotice: (msg) => {\n        msg = { ...msg };\n        msg.id = msg.id || uid();\n        msg.remove = () =>\n          setNotices((prev) => prev.filter((a) => a.id !== msg.id));\n\n        if (msg.expire != -1) {\n          setTimeout(msg.remove, msg.expire || 5100);\n        }\n        setNotices((prev) => [...prev, msg]);\n      },\n    }),\n    [],\n  );\n\n  return (\n    <>\n      {children}\n      {modal && (\n        <Modal\n          title={modal.title}\n          buttons={modal.buttons}\n          onConfirm={modal.resolve}\n          onCancel={modal.reject}\n        >\n          {modal.message}\n        </Modal>\n      )}\n      <Notices data={notices} />\n    </>\n  );\n}\n\nconst GlobalsComponentWithRef = forwardRef(Globals);\nexport default GlobalsComponentWithRef;\n","import { useMemo, useRef } from 'react';\nimport { helpers } from './context';\nimport Globals from './components/Globals.jsx';\n\nexport default function Component(props) {\n  let { children } = props;\n  let api = useRef();\n\n  const l = useMemo(() => {\n    return {\n      showNotice: (msg) => api.current.showNotice(msg),\n      showModal: (msg) => api.current.showModal(msg),\n    };\n  }, []);\n\n  return (\n    <helpers.Provider value={l}>\n      <Globals ref={api}>{children}</Globals>\n    </helpers.Provider>\n  );\n}\n","import { useCallback, useRef } from 'react';\nimport { uid } from '@svar-ui/lib-dom';\nimport { fieldId } from \"../context\";\nimport './Field.css';\n\nexport default function Field({\n  label = '',\n  position = '',\n  css = '',\n  error = false,\n  type = '',\n  required = false,\n  children,\n}) {\n  const firstInputId = useRef(null);\n  const registerInput = useCallback(() => {\n    if (firstInputId.current) return firstInputId.current;\n    const id = uid();\n    firstInputId.current = id;\n    return id;\n  }, []);\n\n  return (\n    <fieldId.Provider value={registerInput}>\n      <div\n        className={`wx-2oVUvC wx-field wx-${position} ${css} ${error ? 'wx-error' : ''} ${required ? 'wx-required' : ''}`.trim()}\n      >\n        {label && (\n          <label className=\"wx-2oVUvC wx-label\" htmlFor={firstInputId.current}>\n            {label}\n          </label>\n        )}\n        <div className={`wx-2oVUvC wx-field-control wx-${type}`}>\n          {children}\n        </div>\n      </div>\n    </fieldId.Provider>\n  );\n}\n","import { useCallback, useMemo } from 'react';\nimport { snippet, useWritableProp } from '@svar-ui/lib-react';\nimport Button from './Button.jsx';\n\nconst TwoState = ({\n  value: initialValue = false,\n  type = '',\n  icon = '',\n  disabled = false,\n  iconActive = '',\n  onClick,\n  title = '',\n  css = '',\n  text = '',\n  textActive = '',\n  children,\n  active,\n  onChange,\n}) => {\n  const [value, setValue] = useWritableProp(initialValue);\n\n  const typeStr = useMemo(() => {\n    return (value ? 'pressed' : '') + (type ? ' ' + type : '');\n  }, [value, type]);\n\n  const handleClick = useCallback(\n    (ev) => {\n      let next = !value;\n      if (onClick) onClick(ev);\n      if (!ev.defaultPrevented) {\n        setValue(next);\n        onChange && onChange({ value: next });\n      }\n    },\n    [value, onClick, onChange],\n  );\n\n  if (value && active) {\n    return (\n      <Button\n        title={title}\n        text={(value && textActive) || text}\n        css={css}\n        type={typeStr}\n        icon={(value && iconActive) || icon}\n        onClick={handleClick}\n        disabled={disabled}\n      >\n        {snippet(active, { value })}\n      </Button>\n    );\n  } else if (children) {\n    return (\n      <Button\n        title={title}\n        text={(value && textActive) || text}\n        css={css}\n        type={typeStr}\n        icon={(value && iconActive) || icon}\n        onClick={handleClick}\n        disabled={disabled}\n      >\n        {children}\n      </Button>\n    );\n  } else {\n    return (\n      <Button\n        title={title}\n        text={(value && textActive) || text}\n        css={css}\n        type={typeStr}\n        icon={(value && iconActive) || icon}\n        onClick={handleClick}\n        disabled={disabled}\n      />\n    );\n  }\n};\n\nexport default TwoState;\n","import { useState, useMemo, useContext, useCallback } from 'react';\nimport Field from './Field.jsx';\nimport Text from './Text.jsx';\nimport Dropdown from './Dropdown.jsx';\nimport Slider from './Slider.jsx';\nimport TwoState from './TwoState.jsx';\nimport { i18n } from '../context.js';\nimport { useWritableProp } from '@svar-ui/lib-react';\nimport { dateToString } from '@svar-ui/lib-dom';\nimport './TimePicker.css';\nimport { defaultLocale } from './helpers/locale.js';\n\nconst defValue = new Date(0, 0, 0, 0, 0);\n\nexport default function TimePicker({\n  value: propertyValue = defValue,\n  id,\n  title = '',\n  css = '',\n  disabled = false,\n  error = false,\n  format = '',\n  onChange,\n}) {\n  let [value, setValue] = useWritableProp(propertyValue);\n\n  const { calendar: calendarLocale, formats } = (\n    useContext(i18n) || defaultLocale()\n  ).getRaw();\n  const h12 = calendarLocale.clockFormat == 12;\n\n  const maxH = 23;\n  const maxM = 59;\n\n  const timeFormat = useMemo(() => {\n    const f = format || formats?.timeFormat;\n    return typeof f === 'function' ? f : dateToString(f, calendarLocale);\n  }, [format, formats, calendarLocale]);\n\n  const zeroBased = useMemo(() => {\n    return timeFormat(new Date(0, 0, 0, 1)).indexOf('01') != -1;\n  }, [timeFormat]);\n\n  const formatTime = (v, zeroBased) => {\n    return (v < 10 && zeroBased ? `0${v}` : `${v}`).slice(-2);\n  };\n\n  const formatM = (v) => {\n    return formatTime(v, true);\n  };\n\n  const getNumber = (v) => {\n    return `${v}`.replace(/[^\\d]/g, '') || 0;\n  };\n  const formatH = (v) => {\n    if (h12) {\n      v = v % 12;\n      if (v === 0) return '12';\n    }\n    return formatTime(v, zeroBased);\n  };\n\n  const update = useCallback((v, max) => {\n    v = getNumber(v);\n    return Math.min(v, max);\n  }, []);\n\n  const [popup, setPopup] = useState(null);\n\n  const safeValue = value || defValue;\n\n  const h = update(safeValue.getHours(), maxH);\n  const m = update(safeValue.getMinutes(), maxM);\n\n  const pm = h > 12;\n\n  const hText = formatH(h);\n  const mText = formatM(m);\n  const textValue = useMemo(\n    () => timeFormat(new Date(0, 0, 0, h, m)),\n    [h, m, timeFormat],\n  );\n\n  const click = useCallback(() => {\n    setPopup(true);\n  }, []);\n\n  const togglePM = useCallback(() => {\n    const next = new Date(safeValue);\n    next.setHours(next.getHours() + (pm ? -12 : 12));\n    setValue(next);\n    if (onChange) onChange({ value: next });\n  }, [safeValue, pm, onChange]);\n\n  const setHours = useCallback(\n    ({ value: v }) => {\n      if (safeValue.getHours() === v) return;\n\n      const next = new Date(safeValue);\n      next.setHours(v);\n      setValue(next);\n      if (onChange) onChange({ value: next });\n    },\n    [safeValue, onChange],\n  );\n\n  const setMinutes = useCallback(\n    ({ value: v }) => {\n      if (safeValue.getMinutes() === v) return;\n\n      const next = new Date(safeValue);\n      next.setMinutes(v);\n      setValue(next);\n      if (onChange) onChange({ value: next });\n    },\n    [safeValue, onChange],\n  );\n\n  const updateH = useCallback(\n    (v) => {\n      v = update(v, maxH);\n      if (h12) {\n        v = v * 1;\n        if (v === 12) v = 0;\n        if (pm) v += 12;\n      }\n      return v;\n    },\n    [update, h12, pm],\n  );\n\n  const oncancel = useCallback(() => {\n    setPopup(null);\n  }, []);\n\n  return (\n    <div\n      className={`wx-7f497i wx-timepicker ${error ? 'wx-7f497i wx-error' : ''} ${disabled ? 'wx-7f497i wx-disabled' : ''}`}\n      onClick={disabled ? undefined : click}\n      style={{ cursor: disabled ? 'default' : 'pointer' }}\n    >\n      <Text\n        id={id}\n        css={css}\n        title={title}\n        value={textValue}\n        readonly={true}\n        disabled={disabled}\n        error={error}\n        icon=\"wxi-clock\"\n        inputStyle={{\n          cursor: 'pointer',\n          width: '100%',\n          paddingRight:\n            'calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2)',\n        }}\n      />\n\n      {popup && !disabled && (\n        <Dropdown onCancel={oncancel} width=\"unset\">\n          <div className=\"wx-7f497i wx-wrapper\">\n            <div className=\"wx-7f497i wx-timer\">\n              <input\n                className=\"wx-7f497i wx-digit\"\n                value={hText}\n                onChange={(ev) => {\n                  const val = updateH(ev.target.value);\n                  setHours({ value: val });\n                }}\n              />\n              <div className=\"wx-7f497i wx-separator\">:</div>\n              <input\n                className=\"wx-7f497i wx-digit\"\n                value={mText}\n                onChange={(ev) => {\n                  const val = update(ev.target.value, maxM);\n                  setMinutes({ value: val });\n                }}\n              />\n              {h12 && (\n                <TwoState\n                  value={pm}\n                  onClick={togglePM}\n                  active={() => <span>pm</span>}\n                >\n                  <span>am</span>\n                </TwoState>\n              )}\n            </div>\n            <Field width=\"unset\">\n              <Slider\n                label={calendarLocale.hours}\n                value={h}\n                onChange={setHours}\n                max={maxH}\n              />\n            </Field>\n            <Field width=\"unset\">\n              <Slider\n                label={calendarLocale.minutes}\n                value={m}\n                onChange={setMinutes}\n                max={maxM}\n              />\n            </Field>\n          </div>\n        </Dropdown>\n      )}\n    </div>\n  );\n}\n","import './ModalArea.css';\n\nexport default function ModalArea({ children }) {\n  return (\n    <div className=\"wx-KgpO9N wx-modal\">\n      <div className=\"wx-KgpO9N wx-window\">{children}</div>\n    </div>\n  );\n}\n","import { useRef, useEffect } from 'react';\nimport { clickOutside } from '@svar-ui/lib-dom';\nimport './SideArea.css';\n\nexport default function SideArea({ position = 'right', children, onCancel }) {\n  const divRef = useRef(null);\n\n  useEffect(() => {\n    return clickOutside(divRef.current, onCancel).destroy;\n  }, []);\n\n  return (\n    <div ref={divRef} className={`wx-2L733M wx-sidearea wx-pos-${position}`}>\n      {children}\n    </div>\n  );\n}\n","import { useContext, useRef, useEffect, useState } from 'react';\nimport { theme as themeContext } from '../context.js';\nimport { env } from '@svar-ui/lib-dom';\nimport { createPortal } from 'react-dom';\n\nfunction Portal({ theme: initialTheme = '', target, children }) {\n  const portalRef = useRef(null);\n  const componentRef = useRef(null);\n  const [targetRef, setTargetRef] = useState(null);\n\n  if (!portalRef.current) {\n    portalRef.current = document.createElement('div');\n  }\n\n  const contextTheme = useContext(themeContext);\n\n  useEffect(() => {\n    setTargetRef(\n      target ||\n        getParentRoot(componentRef.current) ||\n        env.getTopNode(componentRef.current),\n    );\n  }, [componentRef.current]);\n\n  return (\n    <>\n      <span ref={componentRef} style={{ display: 'none' }} />\n      {componentRef.current && targetRef\n        ? createPortal(\n            <div\n              className={`wx-3ZWsT0 wx-${initialTheme || contextTheme}-theme`}\n            >\n              {children}\n            </div>,\n            targetRef,\n          )\n        : null}\n    </>\n  );\n}\n\nexport default Portal;\n\nfunction getParentRoot(p) {\n  const root = env.getTopNode(p);\n  while (p && p !== root && !p.getAttribute('data-wx-portal-root')) {\n    p = p.parentNode;\n  }\n  return p;\n}\n","import './FonttRoboto.css';\nexport default function render() {\n  return <></>;\n}\n","import { theme } from '../context';\nimport RobotoFont from './FonttRoboto';\nimport './Material.css';\nexport default function render(props) {\n  const { fonts = true, children } = props;\n\n  return (\n    <theme.Provider value=\"material\">\n      <>\n        {children && <div className=\"wx-theme wx-material-theme\">{children}</div>}\n\n        {fonts && (\n          <>\n            <link\n              rel=\"preconnect\"\n              href=\"https://cdn.svar.dev\"\n              crossOrigin=\"true\"\n            />\n            <RobotoFont />\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n            />\n          </>\n        )}\n      </>\n    </theme.Provider>\n  );\n}\n","import './FontOpenSans.css';\nexport default function render() {\n  return <></>;\n}\n","import { theme } from '../context';\nimport FontOpenSans from './FontOpenSans';\nimport './Willow.css';\nexport default function render(props) {\n  const { fonts = true, children } = props;\n\n  return (\n    <theme.Provider value=\"willow\">\n      <>\n        {children && children && (\n          <div className=\"wx-theme wx-willow-theme\">{children}</div>\n        )}\n\n        {fonts && (\n          <>\n            <link\n              rel=\"preconnect\"\n              href=\"https://cdn.svar.dev\"\n              crossOrigin=\"true\"\n            />\n            <FontOpenSans />\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n            />\n          </>\n        )}\n      </>\n    </theme.Provider>\n  );\n}\n","import { theme } from '../context';\nimport FontOpenSans from './FontOpenSans';\nimport './WillowDark.css';\nexport default function render(props) {\n  const { fonts = true, children } = props;\n\n  return (\n    <theme.Provider value=\"willow-dark\">\n      <>\n        {children && children && (\n          <div className=\"wx-theme wx-willow-dark-theme\">{children}</div>\n        )}\n\n        {fonts && (\n          <>\n            <link\n              rel=\"preconnect\"\n              href=\"https://cdn.svar.dev\"\n              crossOrigin=\"true\"\n            />\n            <FontOpenSans />\n            <link\n              rel=\"stylesheet\"\n              href=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n            />\n          </>\n        )}\n      </>\n    </theme.Provider>\n  );\n}\n","import { uid } from '@svar-ui/lib-dom';\n\nexport function popupContainer(node) {\n  const id = uid();\n  node.setAttribute('data-wx-portal-root', id);\n}\n","export { default as TextArea } from './components/TextArea.jsx';\nexport { default as Button } from './components/Button.jsx';\nexport { default as Checkbox } from './components/Checkbox.jsx';\nexport { default as CheckboxGroup } from './components/CheckboxGroup.jsx';\nexport { default as ColorSelect } from './components/ColorSelect.jsx';\nexport { default as ColorBoard } from './components/ColorBoard.jsx';\nexport { default as ColorPicker } from './components/ColorPicker.jsx';\nexport { default as Combo } from './components/Combo.jsx';\nexport { default as DatePicker } from './components/DatePicker.jsx';\nexport { default as DateRangePicker } from './components/DateRangePicker.jsx';\nexport { default as Fullscreen } from './components/Fullscreen.jsx';\nexport { default as Icon } from './components/Icon.jsx';\nexport { default as MultiCombo } from './components/MultiCombo.jsx';\nexport { default as Popup } from './components/Popup.jsx';\nexport { default as Dropdown } from './components/Dropdown.jsx';\nexport { default as Pager } from './components/Pager.jsx';\nexport { default as RadioButton } from './components/RadioButton.jsx';\nexport { default as RadioButtonGroup } from './components/RadioButtonGroup.jsx';\nexport { default as RichSelect } from './components/RichSelect.jsx';\nexport { default as Segmented } from './components/Segmented.jsx';\nexport { default as Select } from './components/Select.jsx';\nexport { default as Slider } from './components/Slider.jsx';\nexport { default as Switch } from './components/Switch.jsx';\nexport { default as Tabs } from './components/Tabs.jsx';\nexport { default as Text } from './components/Text.jsx';\nexport { default as Counter } from './components/Counter.jsx';\nexport { default as Globals } from './Globals.jsx';\nexport { default as Field } from './components/Field.jsx';\nexport { default as Calendar } from './components/Calendar.jsx';\nexport { default as Month } from './components/calendar/Month.jsx';\nexport { default as RangeCalendar } from './components/RangeCalendar.jsx';\nexport { default as TimePicker } from './components/TimePicker.jsx';\nexport { default as TwoState } from './components/TwoState.jsx';\nexport { default as Modal } from './components/Modal.jsx';\nexport { default as ModalArea } from './components/ModalArea.jsx';\nexport { default as SideArea } from './components/SideArea.jsx';\nexport { default as Portal } from './components/Portal.jsx';\n\nexport { default as Material } from './themes/Material.jsx';\nexport { default as Willow } from './themes/Willow.jsx';\nexport { default as WillowDark } from './themes/WillowDark.jsx';\n\nexport { default as Locale } from './Locale.jsx';\nexport { locale } from '@svar-ui/lib-dom';\n\nexport { popupContainer } from './components/helpers/popup';\nexport { default as SuggestDropdown } from './components/helpers/SuggestDropdown.jsx';\n\nexport { en } from '@svar-ui/core-locales';\nexport * as context from './context.js';\n\nimport { env, setEnv } from '@svar-ui/lib-dom';\nsetEnv(env);\n"],"names":["theme","createContext","helpers","i18n","fieldId","useInputId","id","register","useContext","inputId","useState","uid","TextArea","propValue","placeholder","title","disabled","error","readonly","onChange","value","setValue","useWritableProp","handleInput","useCallback","e","newValue","ontextchange","inputRef","useRef","useEffect","handler","node","jsx","Button","type","css","icon","text","children","onClick","buttonCss","useMemo","cssType","a","x","handleClick","ev","jsxs","Checkbox","label","inputValue","valueProp","target","CheckboxGroup","options","handleChange","obj","option","Dropdown","position","align","autoFit","onCancel","width","nodeRef","positionState","setPosition","alignState","setAlign","nodeCoords","bodyCoords","env","down","clickOutside","defaultColors","ColorSelect","colors","clear","currentValue","setCurrentValue","popup","setPopup","selectColor","color","unselectColor","handlePopup","index","sliderMove","config","slider","moveBlockSlider","moveLineSlider","move","up","y","dx","dy","coords","colorTransformator","number","length","str","rgb","arr","v","n","hex","rgbPairs","r","g","b","h","s","hi","f","p","q","t","min","max","hexValidation","parseColor","defaultLocale","locale","en","BLOCK","LINE","ColorBoard","propertyValue","button","_","blockRef","colorLineRef","blockTop","setBlockTop","blockLeft","setBlockLeft","hueColor","setHueColor","lineLeft","setLineLeft","blockColor","height","_sValue","_vValue","pxX","pxY","newHue","setSlidersPosition","newColor","handleSelect","keydown","isSliderBlock","isSliderLine","left","top","code","cssScope","ColorPicker","getListHandlers","navIndex","isVisible","list","navCallback","selectCallback","init","l","o","c","setNav","scrollTo","next","navigate","dir","locateID","SuggestDropdown","items","onSelect","onReady","setNavIndex","navIndexRef","selectItem","i","data","snippet","Combo","textOptions","textField","kids","filterActive","setFilterActive","textInput","setTextInput","inputElement","hasFocus","filteredOptions","ready","doSelect","effects","selected","selectByEvent","doUnselect","selectByText","chunk","res","handleFocus","handleBlur","List","Fragment","Text","propsValue","focus","select","inputStyle","cssString","hasLeftIcon","timer","oninput","clearValue","inputType","Header","date","part","onShift","calendar","formats","year","dateToString","start","end","getDuodecade","yearFormat","changeType","Month","current","markers","weekStart","weekdays","dv","d","dm","dd","ranges","isWeekEnd","getStart","getEnd","lastTime","selectDate","days","curMonth","day","mark","delegateRef","delegateHandler","delegateClick","Year","currentProp","setCurrent","months","monthNum","selectMonth","month","newCurrent","done","getPartValue","handleMonthClick","Duodecade","currentState","valueState","years","selectYears","selectYear","yearVal","containerRef","configs","nextMonth","prevMonth","nextYear","prevYear","nextDuodecade","prevDuodecade","defaultButtons","getButtonValue","btn","Panel","onCurrentChange","buttons","setType","buttonsList","oncancel","onShiftLocal","diff","onChangeLocal","CalendarView","Component","props","words","optional","fixCurrent","force","Calendar","onCurrentChangeLocal","Locale","DatePicker","format","editable","calendarLocale","dateFormat","doChange","skipEvent","formattedValue","onchangeHandler","input","handleScroll","RangeCalendar","startProp","endProp","setStart","setEnd","leftCurrent","setLeftCurrent","rightCurrent","setRightCurrent","addMonth","rPrev","onLeft","newLeft","onRight","newRight","startVal","selectChange","final","doChangeStart","doChangeEnd","DateRangePicker","doInputChange","av","val","Fullscreen","hotkey","toggleButton","inFullscreen","setInFullscreen","toggleFullscreen","prev","useHotkeys","setFullscreenState","Icon","defaultValue","MultiCombo","checkboxes","setText","setFocus","filterOptions","onready","onselect","remove","onClickHandler","tag","Popup","at","parent","setX","setY","setWidth","visible","setVisible","self","updatePosition","result","calculatePosition","Pager","total","initialPageSize","initialValue","pageSize","setPageSize","pageCount","from","to","setInnerValue","setActivePage","onPageSizeInput","RadioButton","externalValue","name","fallbackId","useId","internalValue","setInternalValue","isControlled","handlerChange","RadioButtonGroup","RichSelect","unselect","Segmented","Select","event","Slider","step","previous","progress","bgStyle","onslider","Switch","Tabs","optionId","Counter","dec","inc","blur","tValue","Notice","notice","onRemove","Notices","Modal","header","footer","onConfirm","modal","onclick","pack","Globals","apiRef","setModal","notices","setNotices","useImperativeHandle","msg","modalObj","rej","GlobalsComponentWithRef","forwardRef","api","Field","required","firstInputId","registerInput","TwoState","iconActive","textActive","active","typeStr","defValue","TimePicker","h12","maxH","maxM","timeFormat","zeroBased","formatTime","formatM","getNumber","formatH","update","safeValue","m","pm","hText","mText","textValue","click","togglePM","setHours","setMinutes","updateH","ModalArea","SideArea","divRef","Portal","initialTheme","portalRef","componentRef","targetRef","setTargetRef","contextTheme","themeContext","getParentRoot","createPortal","root","render","fonts","RobotoFont","FontOpenSans","popupContainer","setEnv"],"mappings":"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"}