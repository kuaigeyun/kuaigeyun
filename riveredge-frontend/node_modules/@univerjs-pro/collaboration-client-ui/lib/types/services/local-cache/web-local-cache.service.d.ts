import { IChangeset, RevisionService } from '@univerjs-pro/collaboration';
import { ILocalCacheService, IUnitCacheData } from '@univerjs-pro/collaboration-client';
import { IMutationInfo, Nullable, Disposable, IConfigService, ILocalStorageService } from '@univerjs/core';
import { UniverType } from '@univerjs/protocol';
/**
 * This service provide caching to the collaboration controller.
 */
export declare class WebLocalCacheService extends Disposable implements ILocalCacheService {
    private readonly _configService;
    private readonly _localStorageService;
    private readonly _revisionService;
    private _cachedData;
    private _saveTaskMap;
    private _disabled;
    constructor(_configService: IConfigService, _localStorageService: ILocalStorageService, _revisionService: RevisionService);
    disableLocalCache(): void;
    enableLocalCache(): void;
    get saveTaskMap(): Map<string, number>;
    dispose(): void;
    loadOfflineData(unitID: string): Promise<Nullable<IUnitCacheData>>;
    saveOfflineData(unitID: string, data: IUnitCacheData): Promise<boolean>;
    updateOfflineData(unitID: string, type: UniverType, awaitingChangeset: Nullable<IChangeset>, pendingMutations: IMutationInfo[]): void;
    private _scheduleSaving;
    private _getSaveTimeout;
    private _saveCache;
    exhaustSavingTask(): Promise<void>;
}
