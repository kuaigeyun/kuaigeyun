import { IChangeset, RevisionService } from '@univerjs-pro/collaboration';
import { IMutationInfo, IUniverInstanceService } from '@univerjs/core';
import { Observable } from 'rxjs';
import { MemberService } from '../../../services/member/member.service';
export interface IAssembledChangeset {
    changeset: IChangeset;
    pendingMutations: IMutationInfo[];
}
/**
 * Check if a mutation is marked as a split chunk.
 * Split chunk mutations should be sent in a separate changeset.
 */
export declare function isSplitChunkMutation(mutation: IMutationInfo): boolean;
/**
 * Mutations those should be assembled into a single changeset.
 */
export declare const SINGLE_CHANGESET_MUTATIONS: Set<string>;
/**
 * Assemble a changeset from a list of mutations.
 *
 * Split chunk mutations (marked with __splitChunk__) and single-changeset mutations
 * will be sent in a separate changeset.
 *
 * @param pendingMutations - The list of pending mutations to assemble
 * @param unitID - The unit ID
 * @param univerInstanceService - The universe instance service
 * @param revisionService - The revision service
 * @param memberService - The member service
 * @returns The assembled changeset and remaining pending mutations
 */
export declare function assembleSheetChangeset(pendingMutations: IMutationInfo[], unitID: string, univerInstanceService: IUniverInstanceService, revisionService: RevisionService, memberService: MemberService): IAssembledChangeset;
export declare function assembleDocChangeset(pendingMutations: IMutationInfo[], unitID: string, univerInstanceService: IUniverInstanceService, revisionService: RevisionService, memberService: MemberService): IAssembledChangeset;
export declare function createTimerObservable$<T>(ms: number, options: T): Observable<T>;
