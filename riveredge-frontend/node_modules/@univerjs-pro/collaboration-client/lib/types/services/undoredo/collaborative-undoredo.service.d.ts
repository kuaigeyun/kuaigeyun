import { IChangeset, ITransformService } from '@univerjs-pro/collaboration';
import { IUndoRedoService, ICommandService, IContextService, ILogService, IUniverInstanceService, LocalUndoRedoService } from '@univerjs/core';
/**
 * `LocalUndoRedoService` cannot transform mutations in the undo redo stack under collaboration conditions.
 */
export interface ICollaborativeUndoRedoService extends IUndoRedoService {
    transformUndoRedo: (unitID: string, changeset: IChangeset) => void;
}
export declare class CollaborativeUndoRedoService extends LocalUndoRedoService implements ICollaborativeUndoRedoService {
    private readonly _transformService;
    private readonly _logService;
    constructor(_currentUniverSheet: IUniverInstanceService, _commandService: ICommandService, _contextService: IContextService, _transformService: ITransformService, _logService: ILogService);
    transformUndoRedo(unitID: string, changesets: IChangeset): void;
    private _clearUndo;
    private _clearRedo;
    private _substituteUndoStack;
    private _substituteRedoStack;
    private _transformStack;
}
