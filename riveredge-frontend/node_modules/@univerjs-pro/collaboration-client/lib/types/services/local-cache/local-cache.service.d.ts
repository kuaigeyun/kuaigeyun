import { IChangeset } from '@univerjs-pro/collaboration';
import { IMutationInfo, Nullable } from '@univerjs/core';
import { UniverType } from '@univerjs/protocol';
export interface IUnitCacheData {
    unitID: string;
    type: UniverType;
    rev: number;
    awaitingChangeset: Nullable<IChangeset>;
    mutations: IMutationInfo[];
}
export interface ILocalCacheService {
    loadOfflineData(unitID: string): Promise<Nullable<IUnitCacheData>>;
    saveOfflineData(unitID: string, data: IUnitCacheData): Promise<boolean>;
    updateOfflineData(unitID: string, type: UniverType, awaitingChangeset: Nullable<IChangeset>, pendingMutations: IMutationInfo[]): void;
    disableLocalCache(): void;
    enableLocalCache(): void;
    exhaustSavingTask(): Promise<void>;
    saveTaskMap: Map<string, number>;
}
export declare const ILocalCacheService: import('@wendellhu/redi').IdentifierDecorator<ILocalCacheService>;
export declare function getLocalCacheKey(unitID: string): string;
