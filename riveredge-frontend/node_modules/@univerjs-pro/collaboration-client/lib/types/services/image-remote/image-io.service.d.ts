import { Nullable, IConfigService, IUniverInstanceService } from '@univerjs/core';
import { IImageIoService, IImageIoServiceParam, ImageSourceType } from '@univerjs/drawing';
import { IError } from '@univerjs/protocol';
import { Observable } from 'rxjs';
import { HTTPService } from '@univerjs/network';
export declare const ALLOW_IMAGE_LIST: string[];
export interface ISignUrlResponse {
    error: IError | undefined;
    url: string;
}
export declare class CollaborationImageIoService implements IImageIoService {
    private readonly _httpService;
    private readonly _configService;
    private readonly _univerInstanceService;
    private _waitCount;
    private _change$;
    change$: Observable<number>;
    constructor(_httpService: HTTPService, _configService: IConfigService, _univerInstanceService: IUniverInstanceService);
    setWaitCount(count: number): void;
    private _imageSourceCache;
    getImageSourceCache(source: string, imageSourceType: ImageSourceType): HTMLImageElement | undefined;
    addImageSourceCache(source: string, imageSourceType: ImageSourceType, imageSource: Nullable<HTMLImageElement>): void;
    getImage(imageId: string): Promise<string>;
    saveImage(imageFile: File): Promise<Nullable<IImageIoServiceParam>>;
    private _getUploadFileURL;
    private _getSignURL;
    private _getDownloadEndpointURL;
    private _replaceFileID;
    private _decreaseWaiting;
}
