{"version":3,"file":"moment.js","sourceRoot":"lib/","sources":["__builtins__/moment.ts"],"names":[],"mappings":"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","sourcesContent":["// FOR: https://github.com/ant-design/antd-moment-webpack-plugin\nimport { isArr, isFn, isEmpty } from '@formily/shared'\nimport moment, { MomentInput, Moment } from 'moment'\n\nexport function dayjsable(value: MomentInput, format?: string): Moment\nexport function dayjsable(value: MomentInput[], format?: string): Moment[]\n\nexport function dayjsable(\n  value: MomentInput | MomentInput[],\n  format?: string\n): any {\n  if (!value) return value\n  if (Array.isArray(value)) {\n    return value.map((val) => {\n      const date = moment(val, format)\n      if (date.isValid()) return date\n      const _date = moment(val)\n      return _date.isValid() ? _date : val\n    })\n  } else {\n    const date = moment(value, format)\n    if (date.isValid()) return date\n    const _date = moment(value)\n    return _date.isValid() ? _date : value\n  }\n}\n\nexport const formatDayjsValue = (\n  value: any,\n  format: any,\n  placeholder?: string\n): string | string[] => {\n  const validFormatDate = (date: any, format: any) => {\n    if (typeof date === 'number') {\n      return moment(date).format(format)\n    }\n    const _date = moment(date, format)\n    return _date.isValid() ? _date.format(format) : date\n  }\n\n  const formatDate = (date: any, format: any, i = 0) => {\n    if (!date) return placeholder\n    if (isArr(format)) {\n      const _format = format[i]\n      if (isFn(_format)) {\n        return _format(date)\n      }\n      if (isEmpty(_format)) {\n        return date\n      }\n      return validFormatDate(date, _format)\n    } else {\n      if (isFn(format)) {\n        return format(date)\n      }\n      if (isEmpty(format)) {\n        return date\n      }\n      return validFormatDate(date, format)\n    }\n  }\n  if (isArr(value)) {\n    return value.map((val, index) => {\n      return formatDate(val, format, index)\n    })\n  } else {\n    return value ? formatDate(value, format) : value || placeholder\n  }\n}\n"]}