{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["reset/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAA;AAC9C,OAAO,EAAE,IAAI,EAAE,MAAM,iBAAiB,CAAA;AACtC,OAAO,EAAE,MAAM,EAAe,MAAM,MAAM,CAAA;AAC1C,OAAO,KAAK,MAAM,OAAO,CAAA;AAQzB,MAAM,CAAC,IAAM,KAAK,GAAmD,UAAC,EAMrE;IALC,IAAA,UAAU,gBAAA,EACV,QAAQ,cAAA,EACR,sBAAsB,4BAAA,EACtB,qBAAqB,2BAAA,EAClB,KAAK,cAL4D,6EAMrE,CADS;IAER,IAAM,IAAI,GAAG,aAAa,EAAE,CAAA;IAC5B,OAAO,CACL,oBAAC,MAAM,eACD,KAAK,IACT,OAAO,EAAE,UAAC,CAAC;YACT,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;gBACvB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK;oBAAE,OAAM;aACvC;YACD,IAAI;iBACD,KAAK,CAAC,GAAG,EAAE;gBACV,UAAU,YAAA;gBACV,QAAQ,UAAA;aACT,CAAC;iBACD,IAAI,CAAC,sBAAsB,CAAC;iBAC5B,KAAK,CAAC,qBAAqB,CAAC,CAAA;QACjC,CAAC,KAEA,KAAK,CAAC,QAAQ,CACR,CACV,CAAA;AACH,CAAC,CAAA;AAED,eAAe,KAAK,CAAA","sourcesContent":["import { IFieldResetOptions, IFormFeedback } from '@formily/core'\nimport { useParentForm } from '@formily/react'\nimport { isFn } from '@formily/shared'\nimport { Button, ButtonProps } from 'antd'\nimport React from 'react'\n\nexport interface IResetProps extends IFieldResetOptions, ButtonProps {\n  onClick?: (e: React.MouseEvent<Element, MouseEvent>) => any\n  onResetValidateSuccess?: (payload: any) => void\n  onResetValidateFailed?: (feedbacks: IFormFeedback[]) => void\n}\n\nexport const Reset: React.FC<React.PropsWithChildren<IResetProps>> = ({\n  forceClear,\n  validate,\n  onResetValidateSuccess,\n  onResetValidateFailed,\n  ...props\n}) => {\n  const form = useParentForm()\n  return (\n    <Button\n      {...props}\n      onClick={(e) => {\n        if (isFn(props.onClick)) {\n          if (props.onClick(e) === false) return\n        }\n        form\n          .reset('*', {\n            forceClear,\n            validate,\n          })\n          .then(onResetValidateSuccess)\n          .catch(onResetValidateFailed)\n      }}\n    >\n      {props.children}\n    </Button>\n  )\n}\n\nexport default Reset\n"]}