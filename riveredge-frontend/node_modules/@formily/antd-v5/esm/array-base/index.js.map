{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["array-base/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  CopyOutlined,\n  DeleteOutlined,\n  DownOutlined,\n  MenuOutlined,\n  PlusOutlined,\n  UpOutlined,\n} from '@ant-design/icons'\nimport { ArrayField } from '@formily/core'\nimport {\n  ReactFC,\n  RecordScope,\n  RecordsScope,\n  Schema,\n  useField,\n  useFieldSchema,\n} from '@formily/react'\nimport { clone, isUndef, isValid } from '@formily/shared'\nimport { Button, ButtonProps } from 'antd'\nimport cls from 'classnames'\nimport React, { createContext, forwardRef, useContext } from 'react'\nimport { SortableHandle, usePrefixCls } from '../__builtins__'\nimport useStyle from './style'\n\nexport interface IArrayBaseAdditionProps extends ButtonProps {\n  title?: string\n  method?: 'push' | 'unshift'\n  defaultValue?: any\n}\n\nexport interface IArrayBaseContext {\n  props: IArrayBaseProps\n  field: ArrayField\n  schema: Schema\n}\n\nexport interface IArrayBaseItemProps {\n  index: number\n  record: ((index: number) => Record<string, any>) | Record<string, any>\n}\n\ntype CommonProps = ButtonProps & {\n  index?: number\n}\n\nexport type ArrayBaseMixins = {\n  Addition: ReactFC<IArrayBaseAdditionProps>\n  Copy: ReactFC<CommonProps>\n  Remove: ReactFC<CommonProps>\n  MoveUp: ReactFC<CommonProps>\n  MoveDown: React.FC<React.PropsWithChildren<CommonProps>>\n  SortHandle: ReactFC<CommonProps>\n  Index: React.FC\n  useArray: () => IArrayBaseContext | null\n  useIndex: (index?: number) => number\n  useRecord: (record?: number) => any\n}\n\nexport interface IArrayBaseProps {\n  disabled?: boolean\n  onAdd?: (index: number) => void\n  onCopy?: (index: number) => void\n  onRemove?: (index: number) => void\n  onMoveDown?: (index: number) => void\n  onMoveUp?: (index: number) => void\n}\n\nconst ArrayBaseContext = createContext<IArrayBaseContext | null>(null)\n\nconst ItemContext = createContext<IArrayBaseItemProps | null>(null)\n\nconst takeRecord = (val: any, index?: number) =>\n  typeof val === 'function' ? val(index) : val\n\nconst useArray = () => {\n  return useContext(ArrayBaseContext)\n}\n\nconst useIndex = (index?: number) => {\n  const ctx = useContext(ItemContext)\n  return (ctx ? ctx.index : index) || 0\n}\n\nconst useRecord = (record?: number) => {\n  const ctx = useContext(ItemContext)\n  return takeRecord(ctx ? ctx.record : record, ctx?.index)\n}\n\nconst getSchemaDefaultValue = (schema?: Schema) => {\n  if (schema?.type === 'array') return []\n  if (schema?.type === 'object') return {}\n  if (schema?.type === 'void') {\n    for (let key in schema.properties) {\n      const value = getSchemaDefaultValue(schema.properties[key])\n      if (isValid(value)) return value\n    }\n  }\n}\n\nconst getDefaultValue = (defaultValue: any, schema: Schema) => {\n  if (isValid(defaultValue)) return clone(defaultValue)\n  if (Array.isArray(schema?.items))\n    return getSchemaDefaultValue(schema?.items[0])\n  return getSchemaDefaultValue(schema?.items)\n}\n\nconst InternalArrayBase: ReactFC<IArrayBaseProps> = (props) => {\n  const field = useField<ArrayField>()\n  const schema = useFieldSchema()\n  return (\n    <RecordsScope getRecords={() => field.value}>\n      <ArrayBaseContext.Provider value={{ field, schema, props }}>\n        {props.children}\n      </ArrayBaseContext.Provider>\n    </RecordsScope>\n  )\n}\n\nconst Item: ReactFC<IArrayBaseItemProps> = ({ children, ...props }) => {\n  return (\n    <ItemContext.Provider value={props}>\n      <RecordScope\n        getIndex={() => props.index}\n        getRecord={() => takeRecord(props.record, props.index)}\n      >\n        {children}\n      </RecordScope>\n    </ItemContext.Provider>\n  )\n}\n\nconst InternalSortHandle = SortableHandle((props) => {\n  const prefixCls = usePrefixCls('formily-array-base')\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n  return wrapSSR(\n    <MenuOutlined\n      {...props}\n      className={cls(`${prefixCls}-sort-handle`, hashId, props.className)}\n      style={{ ...props.style }}\n    />\n  )\n})\n\nconst SortHandle: ReactFC<CommonProps> = (props) => {\n  const array = useArray()\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return <InternalSortHandle {...props} />\n}\n\nconst Index: React.FC<React.HTMLAttributes<HTMLSpanElement>> = (props) => {\n  const index = useIndex()\n  const prefixCls = usePrefixCls('formily-array-base')\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n  return wrapSSR(\n    <span {...props} className={cls(`${prefixCls}-index`, hashId)}>\n      #{(index || 0) + 1}.\n    </span>\n  )\n}\n\nconst Addition: ReactFC<IArrayBaseAdditionProps> = (props) => {\n  const self = useField()\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n  if (!array) return null\n  if (\n    array.field?.pattern !== 'editable' &&\n    array.field?.pattern !== 'disabled'\n  )\n    return null\n  return wrapSSR(\n    <Button\n      type=\"dashed\"\n      block\n      {...props}\n      disabled={self?.disabled}\n      className={cls(`${prefixCls}-addition`, hashId, props.className)}\n      onClick={(e) => {\n        if (array.props?.disabled) return\n        const defaultValue = getDefaultValue(props.defaultValue, array.schema)\n        if (props.method === 'unshift') {\n          array.field?.unshift?.(defaultValue)\n          array.props?.onAdd?.(0)\n        } else {\n          array.field?.push?.(defaultValue)\n          array.props?.onAdd?.(array?.field?.value?.length - 1)\n        }\n        if (props.onClick) {\n          props.onClick(e)\n        }\n      }}\n      icon={isUndef(props.icon) ? <PlusOutlined /> : props.icon}\n    >\n      {props.title || self.title}\n    </Button>\n  )\n}\nconst Copy = forwardRef<HTMLButtonElement, CommonProps>((props, ref) => {\n  const self = useField()\n  const array = useArray()\n  const index = useIndex(props.index) || 0\n  const prefixCls = usePrefixCls('formily-array-base')\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return wrapSSR(\n    <Button\n      type=\"ghost\"\n      {...props}\n      style={{\n        padding: '0 0 0 6px',\n        width: 'auto',\n        height: 'auto',\n        ...props.style,\n      }}\n      disabled={self?.disabled}\n      className={cls(\n        `${prefixCls}-copy`,\n        hashId,\n        self?.disabled ? `${prefixCls}-copy-disabled` : '',\n        props.className\n      )}\n      ref={ref}\n      onClick={(e) => {\n        if (self?.disabled) return\n        e.stopPropagation()\n        if (array.props?.disabled) return\n        if (props.onClick) {\n          props.onClick(e)\n          if (e.defaultPrevented) return\n        }\n        const value = clone(array?.field?.value[index])\n        const distIndex = index + 1\n        array.field?.insert?.(distIndex, value)\n        array.props?.onCopy?.(distIndex)\n      }}\n      icon={isUndef(props.icon) ? <CopyOutlined /> : props.icon}\n    >\n      {props.title || self.title}\n    </Button>\n  )\n})\n\nconst Remove = forwardRef<HTMLSpanElement, CommonProps>((props, ref) => {\n  const index = useIndex(props.index)\n  const self = useField()\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return wrapSSR(\n    <Button\n      type=\"ghost\"\n      {...props}\n      style={{\n        padding: '0 0 0 6px',\n        width: 'auto',\n        height: 'auto',\n        ...props.style,\n      }}\n      disabled={self?.disabled}\n      className={cls(\n        `${prefixCls}-remove`,\n        hashId,\n        self?.disabled ? `${prefixCls}-remove-disabled` : '',\n        props.className\n      )}\n      ref={ref}\n      onClick={(e) => {\n        if (self?.disabled) return\n        e.stopPropagation()\n        if (props.onClick) {\n          props.onClick(e)\n          if (e.defaultPrevented) return\n        }\n        array.field?.remove?.(index)\n        array.props?.onRemove?.(index)\n      }}\n      icon={isUndef(props.icon) ? <DeleteOutlined /> : props.icon}\n    >\n      {props.title || self.title}\n    </Button>\n  )\n})\n\nconst MoveDown = forwardRef<HTMLSpanElement, CommonProps>((props, ref) => {\n  const index = useIndex(props.index)\n  const self = useField()\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return (\n    <Button\n      type=\"ghost\"\n      {...props}\n      style={{\n        padding: '0 0 0 6px',\n        width: 'auto',\n        height: 'auto',\n        ...props.style,\n      }}\n      disabled={self?.disabled}\n      className={cls(\n        `${prefixCls}-move-down`,\n        self?.disabled ? `${prefixCls}-move-down-disabled` : '',\n        props.className\n      )}\n      ref={ref}\n      onClick={(e) => {\n        if (self?.disabled) return\n        e.stopPropagation()\n        if (props.onClick) {\n          props.onClick(e)\n          if (e.defaultPrevented) return\n        }\n        array.field?.moveDown?.(index)\n        array.props?.onMoveDown?.(index)\n      }}\n      icon={isUndef(props.icon) ? <DownOutlined /> : props.icon}\n    >\n      {props.title || self.title}\n    </Button>\n  )\n})\n\nconst MoveUp = forwardRef<HTMLSpanElement, CommonProps>((props, ref) => {\n  const index = useIndex(props.index)\n  const self = useField()\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return (\n    <Button\n      type=\"ghost\"\n      {...props}\n      style={{\n        padding: '0 0 0 6px',\n        width: 'auto',\n        height: 'auto',\n        ...props.style,\n      }}\n      disabled={self?.disabled}\n      className={cls(\n        `${prefixCls}-move-up`,\n        self?.disabled ? `${prefixCls}-move-up-disabled` : '',\n        props.className\n      )}\n      ref={ref}\n      onClick={(e) => {\n        if (self?.disabled) return\n        e.stopPropagation()\n        if (props.onClick) {\n          props.onClick(e)\n          if (e.defaultPrevented) return\n        }\n        array?.field?.moveUp(index)\n        array?.props?.onMoveUp?.(index)\n      }}\n      icon={isUndef(props.icon) ? <UpOutlined /> : props.icon}\n    >\n      {props.title || self.title}\n    </Button>\n  )\n})\n\nfunction mixin<T extends object = object>(target: T): T & ArrayBaseMixins {\n  return Object.assign(target, {\n    Index,\n    SortHandle,\n    Addition,\n    Copy,\n    Remove,\n    MoveDown,\n    MoveUp,\n    useArray,\n    useIndex,\n    useRecord,\n  })\n}\n\nexport const ArrayBase = Object.assign(InternalArrayBase, {\n  Item,\n  Index,\n  SortHandle,\n  Addition,\n  Copy,\n  Remove,\n  MoveDown,\n  MoveUp,\n  useArray,\n  useIndex,\n  useRecord,\n  mixin,\n})\n\nexport default ArrayBase\n"]}