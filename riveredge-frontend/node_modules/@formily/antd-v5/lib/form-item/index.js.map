{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["form-item/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  ExclamationCircleOutlined,\n} from '@ant-design/icons'\nimport { isVoidField } from '@formily/core'\nimport { connect, mapProps, ReactFC } from '@formily/react'\nimport { Popover, Tooltip } from 'antd'\nimport cls from 'classnames'\nimport React, { useState } from 'react'\nimport { FormLayoutShallowContext } from '../form-layout'\nimport { pickDataProps, usePrefixCls } from '../__builtins__'\nimport { useFormItemLayout, useOverflow } from './hooks'\nimport useStyle from './style'\nimport { IFormItemProps } from './types'\n\nexport * from './hooks'\nexport * from './types'\n\ntype ComposeFormItem = ReactFC<IFormItemProps> & {\n  BaseItem: ReactFC<IFormItemProps>\n}\n\nconst ICON_MAP = {\n  error: <CloseCircleOutlined />,\n  success: <CheckCircleOutlined />,\n  warning: <ExclamationCircleOutlined />,\n} as const\n\nexport const BaseItem: React.FC<React.PropsWithChildren<IFormItemProps>> = ({\n  children,\n  ...props\n}) => {\n  const [active, setActive] = useState(false)\n  const formLayout = useFormItemLayout(props)\n  const { containerRef, contentRef, overflow } = useOverflow<\n    HTMLDivElement,\n    HTMLSpanElement\n  >()\n  const {\n    label,\n    style,\n    layout,\n    colon = true,\n    addonBefore,\n    addonAfter,\n    asterisk,\n    feedbackStatus,\n    extra,\n    feedbackText,\n    fullness,\n    feedbackLayout,\n    feedbackIcon,\n    getPopupContainer,\n    inset,\n    bordered = true,\n    labelWidth,\n    wrapperWidth,\n    labelCol,\n    wrapperCol,\n    labelAlign,\n    wrapperAlign = 'left',\n    size,\n    labelWrap,\n    wrapperWrap,\n    tooltipLayout,\n    tooltip,\n    tooltipIcon,\n  } = formLayout\n  const labelStyle = { ...formLayout.labelStyle }\n  const wrapperStyle = { ...formLayout.wrapperStyle }\n  const prefixCls = usePrefixCls('formily-item', props)\n  const [wrapSSR, hashId] = useStyle(prefixCls)\n  // 固定宽度\n  let enableCol = false\n  if (labelWidth || wrapperWidth) {\n    if (labelWidth) {\n      labelStyle.width = labelWidth === 'auto' ? undefined : labelWidth\n      labelStyle.maxWidth = labelWidth === 'auto' ? undefined : labelWidth\n    }\n    if (wrapperWidth) {\n      wrapperStyle.width = wrapperWidth === 'auto' ? undefined : wrapperWidth\n      wrapperStyle.maxWidth = wrapperWidth === 'auto' ? undefined : wrapperWidth\n    }\n    // 栅格模式\n  }\n  if (labelCol || wrapperCol) {\n    if (!labelStyle.width && !wrapperStyle.width && layout !== 'vertical') {\n      enableCol = true\n    }\n  }\n\n  const formatChildren =\n    feedbackLayout === 'popover' ? (\n      <Popover\n        autoAdjustOverflow\n        overlayClassName={`${prefixCls}-popover`}\n        placement=\"top\"\n        content={\n          <div\n            className={cls({\n              [`${prefixCls}-${feedbackStatus}-help`]: !!feedbackStatus,\n              [`${prefixCls}-help`]: true,\n            })}\n          >\n            {feedbackStatus ? ICON_MAP[feedbackStatus] : null} {feedbackText}\n          </div>\n        }\n        open={!!feedbackText}\n        getPopupContainer={getPopupContainer}\n      >\n        <>{children}</>\n      </Popover>\n    ) : (\n      children\n    )\n\n  const gridStyles: React.CSSProperties = {}\n\n  const getOverflowTooltip = () => {\n    if (overflow) {\n      return (\n        <div>\n          <div>{label}</div>\n          <div>{tooltip}</div>\n        </div>\n      )\n    }\n    return tooltip\n  }\n\n  const renderLabelText = () => {\n    const labelChildren = (\n      <div className={`${prefixCls}-label-content`} ref={containerRef}>\n        <span ref={contentRef}>\n          {asterisk && <span className={`${prefixCls}-asterisk`}>{'*'}</span>}\n          <label>{label}</label>\n        </span>\n      </div>\n    )\n\n    if ((tooltipLayout === 'text' && tooltip) || overflow) {\n      return (\n        <Tooltip placement=\"top\" title={getOverflowTooltip()}>\n          {labelChildren}\n        </Tooltip>\n      )\n    }\n    return labelChildren\n  }\n\n  const renderTooltipIcon = () => {\n    if (tooltip && tooltipLayout === 'icon' && !overflow) {\n      return (\n        <span className={`${prefixCls}-label-tooltip-icon`}>\n          <Tooltip placement=\"top\" title={tooltip}>\n            {tooltipIcon}\n          </Tooltip>\n        </span>\n      )\n    }\n  }\n\n  const renderLabel = () => {\n    if (!label) return null\n    return (\n      <div\n        className={cls({\n          [`${prefixCls}-label`]: true,\n          [`${prefixCls}-label-tooltip`]:\n            (tooltip && tooltipLayout === 'text') || overflow,\n          [`${prefixCls}-item-col-${labelCol}`]: enableCol && !!labelCol,\n        })}\n        style={labelStyle}\n      >\n        {renderLabelText()}\n        {renderTooltipIcon()}\n        {label !== ' ' && (\n          <span className={`${prefixCls}-colon`}>{colon ? ':' : ''}</span>\n        )}\n      </div>\n    )\n  }\n\n  return wrapSSR(\n    <div\n      {...pickDataProps(props)}\n      style={{\n        ...style,\n        ...gridStyles,\n      }}\n      data-grid-span={props.gridSpan}\n      className={cls(\n        props.className,\n        {\n          [`${prefixCls}`]: true,\n          [`${prefixCls}-layout-${layout}`]: true,\n          [`${prefixCls}-${feedbackStatus}`]: !!feedbackStatus,\n          [`${prefixCls}-feedback-has-text`]: !!feedbackText,\n          [`${prefixCls}-size-${size}`]: !!size,\n          [`${prefixCls}-feedback-layout-${feedbackLayout}`]: !!feedbackLayout,\n          [`${prefixCls}-fullness`]: !!fullness || !!inset || !!feedbackIcon,\n          [`${prefixCls}-inset`]: !!inset,\n          [`${prefixCls}-active`]: active,\n          [`${prefixCls}-inset-active`]: !!inset && active,\n          [`${prefixCls}-label-align-${labelAlign}`]: true,\n          [`${prefixCls}-control-align-${wrapperAlign}`]: true,\n          [`${prefixCls}-label-wrap`]: !!labelWrap,\n          [`${prefixCls}-control-wrap`]: !!wrapperWrap,\n          [`${prefixCls}-bordered-none`]:\n            bordered === false || !!inset || !!feedbackIcon,\n        },\n        hashId\n      )}\n      onFocus={() => {\n        if (feedbackIcon || inset) {\n          setActive(true)\n        }\n      }}\n      onBlur={() => {\n        if (feedbackIcon || inset) {\n          setActive(false)\n        }\n      }}\n    >\n      {renderLabel()}\n      <div\n        className={cls({\n          [`${prefixCls}-control`]: true,\n          [`${prefixCls}-item-col-${wrapperCol}`]:\n            enableCol && !!wrapperCol && label,\n        })}\n      >\n        <div className={cls(`${prefixCls}-control-content`)}>\n          {addonBefore && (\n            <div className={cls(`${prefixCls}-addon-before`)}>\n              {addonBefore}\n            </div>\n          )}\n          <div\n            style={wrapperStyle}\n            className={cls({\n              [`${prefixCls}-control-content-component`]: true,\n              [`${prefixCls}-control-content-component-has-feedback-icon`]:\n                !!feedbackIcon,\n            })}\n          >\n            <FormLayoutShallowContext.Provider value={{}}>\n              {formatChildren}\n            </FormLayoutShallowContext.Provider>\n            {feedbackIcon && (\n              <div className={cls(`${prefixCls}-feedback-icon`)}>\n                {feedbackIcon}\n              </div>\n            )}\n          </div>\n          {addonAfter && (\n            <div className={cls(`${prefixCls}-addon-after`)}>{addonAfter}</div>\n          )}\n        </div>\n        {!!feedbackText &&\n          feedbackLayout !== 'popover' &&\n          feedbackLayout !== 'none' && (\n            <div\n              className={cls({\n                [`${prefixCls}-${feedbackStatus}-help`]: !!feedbackStatus,\n                [`${prefixCls}-help`]: true,\n                [`${prefixCls}-help-enter`]: true,\n                [`${prefixCls}-help-enter-active`]: true,\n              })}\n            >\n              {feedbackText}\n            </div>\n          )}\n        {extra && <div className={cls(`${prefixCls}-extra`)}>{extra}</div>}\n      </div>\n    </div>\n  )\n}\n\n// 适配\nexport const FormItem: ComposeFormItem = Object.assign(\n  connect(\n    BaseItem,\n    mapProps((props, field) => {\n      if (isVoidField(field))\n        return {\n          label: field.title || props.label,\n          asterisk: props.asterisk,\n          extra: props.extra || field.description,\n        }\n      if (!field) return props\n      const takeFeedbackStatus = () => {\n        if (field.validating) return 'pending'\n        return field.decoratorProps.feedbackStatus || field.validateStatus\n      }\n      const takeMessage = () => {\n        const split = (messages: any[]) => {\n          return messages.reduce((buf, text, index) => {\n            if (!text) return buf\n            return index < messages.length - 1\n              ? buf.concat([text, ', '])\n              : buf.concat([text])\n          }, [])\n        }\n        if (field.validating) return\n        if (props.feedbackText) return props.feedbackText\n        if (field.selfErrors.length) return split(field.selfErrors)\n        if (field.selfWarnings.length) return split(field.selfWarnings)\n        if (field.selfSuccesses.length) return split(field.selfSuccesses)\n      }\n      const takeAsterisk = () => {\n        if ('asterisk' in props) {\n          return props.asterisk\n        }\n        if (field.required && field.pattern !== 'readPretty') {\n          return true\n        }\n        return false\n      }\n      return {\n        label: props.label || field.title,\n        feedbackStatus: takeFeedbackStatus(),\n        feedbackText: takeMessage(),\n        asterisk: takeAsterisk(),\n        extra: props.extra || field.description,\n      }\n    })\n  ),\n  {\n    BaseItem,\n  }\n)\n\nexport default FormItem\n"]}