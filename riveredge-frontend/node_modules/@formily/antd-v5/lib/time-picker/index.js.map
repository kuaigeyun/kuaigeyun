{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["time-picker/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,wCAAiE;AACjE,6BAIa;AAEb,gDAA6C;AAC7C,+CAA6D;AAQ7D,IAAM,aAAa,GAAG;IACpB,OAAO,UAAC,KAAU;QAChB,IAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAA;QAC5C,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAA;QAC/B,6BACK,KAAK,KACR,MAAM,QAAA,EACN,KAAK,EAAE,IAAA,uBAAS,EAAC,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,EACrC,QAAQ,EAAE,UAAC,KAAkC;gBAC3C,IAAI,QAAQ,EAAE;oBACZ,QAAQ,CAAC,IAAA,8BAAgB,EAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAA;iBAC1C;YACH,CAAC,IACF;IACH,CAAC,CAAA;AACH,CAAC,CAAA;AAED,IAAM,kBAAkB,GAAuB,IAAA,eAAO,EACpD,iBAAc,EACd,IAAA,gBAAQ,EAAC,aAAa,EAAE,CAAC,EACzB,IAAA,qBAAa,EAAC,0BAAW,CAAC,UAAU,CAAC,CACtC,CAAA;AAED,IAAM,WAAW,GAAG,IAAA,eAAO,EACzB,iBAAc,CAAC,WAAW,EAC1B,IAAA,gBAAQ,EAAC,aAAa,EAAE,CAAC,EACzB,IAAA,qBAAa,EAAC,0BAAW,CAAC,eAAe,CAAC,CAC3C,CAAA;AAEY,QAAA,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,kBAAkB,EAAE,EAAE,WAAW,aAAA,EAAE,CAAC,CAAA;AAE5E,kBAAe,kBAAU,CAAA","sourcesContent":["import { connect, mapProps, mapReadPretty } from '@formily/react'\nimport {\n  TimePicker as AntdTimePicker,\n  TimePickerProps as AntdTimePickerProps,\n  TimeRangePickerProps,\n} from 'antd'\nimport dayjs from 'dayjs'\nimport { PreviewText } from '../preview-text'\nimport { dayjsable, formatDayjsValue } from '../__builtins__'\n\ntype ComposedTimePicker = React.FC<\n  React.PropsWithChildren<AntdTimePickerProps>\n> & {\n  RangePicker?: React.FC<React.PropsWithChildren<TimeRangePickerProps>>\n}\n\nconst mapTimeFormat = function () {\n  return (props: any) => {\n    const format = props['format'] || 'HH:mm:ss'\n    const onChange = props.onChange\n    return {\n      ...props,\n      format,\n      value: dayjsable(props.value, format),\n      onChange: (value: dayjs.Dayjs | dayjs.Dayjs[]) => {\n        if (onChange) {\n          onChange(formatDayjsValue(value, format))\n        }\n      },\n    }\n  }\n}\n\nconst InternalTimePicker: ComposedTimePicker = connect(\n  AntdTimePicker,\n  mapProps(mapTimeFormat()),\n  mapReadPretty(PreviewText.TimePicker)\n)\n\nconst RangePicker = connect(\n  AntdTimePicker.RangePicker,\n  mapProps(mapTimeFormat()),\n  mapReadPretty(PreviewText.TimeRangePicker)\n)\n\nexport const TimePicker = Object.assign(InternalTimePicker, { RangePicker })\n\nexport default TimePicker\n"]}