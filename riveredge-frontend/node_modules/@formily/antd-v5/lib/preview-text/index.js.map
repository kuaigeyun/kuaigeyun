{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["preview-text/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Field } from '@formily/core'\nimport { observer, ReactFC, useField } from '@formily/react'\nimport { isArr, isValid, toArr } from '@formily/shared'\nimport type {\n  CascaderProps,\n  DatePickerProps,\n  InputNumberProps,\n  InputProps,\n  SelectProps,\n  TimePickerProps,\n  TimeRangePickerProps,\n  TreeSelectProps,\n} from 'antd'\nimport { Space, Tag } from 'antd'\nimport type { DefaultOptionType } from 'antd/lib/cascader'\nimport type { RangePickerProps as DateRangePickerProps } from 'antd/lib/date-picker'\nimport cls from 'classnames'\nimport React, { createContext, useContext } from 'react'\nimport { formatDayjsValue, usePrefixCls } from '../__builtins__'\nimport useStyle from './style'\n\nexport const PlaceholderContext = createContext<React.ReactNode>('N/A')\n\nexport const Placeholder = PlaceholderContext.Provider\n\nexport const usePlaceholder = (value?: any) => {\n  const placeholder = useContext(PlaceholderContext) || 'N/A'\n  return isValid(value) && value !== '' ? value : placeholder\n}\n\nconst Input: React.FC<React.PropsWithChildren<InputProps>> = observer(\n  (props) => {\n    const prefixCls = usePrefixCls('form-text', props)\n    const [wrapSSR, hashId] = useStyle(prefixCls)\n    return wrapSSR(\n      <Space\n        className={cls(prefixCls, hashId, props.className)}\n        style={props.style}\n      >\n        {props.addonBefore}\n        {props.prefix}\n        {usePlaceholder(props.value)}\n        {props.suffix}\n        {props.addonAfter}\n      </Space>\n    )\n  }\n)\n\nconst NumberPicker: React.FC<React.PropsWithChildren<InputNumberProps>> =\n  observer((props) => {\n    const prefixCls = usePrefixCls('form-text', props)\n    const [wrapSSR, hashId] = useStyle(prefixCls)\n    return wrapSSR(\n      <Space\n        className={cls(prefixCls, hashId, props.className)}\n        style={props.style}\n      >\n        {props.addonBefore}\n        {props.prefix}\n        {usePlaceholder(\n          props.formatter\n            ? props.formatter(String(props.value), {\n                userTyping: false,\n                input: '',\n              })\n            : props.value\n        )}\n        {props['suffix']}\n        {props.addonAfter}\n      </Space>\n    )\n  })\n\nconst Select: React.FC<React.PropsWithChildren<SelectProps<any>>> = observer(\n  (props) => {\n    const field = useField<Field>()\n    const prefixCls = usePrefixCls('form-text', props)\n    const [wrapSSR, hashId] = useStyle(prefixCls)\n\n    const dataSource: any[] = field?.dataSource?.length\n      ? field.dataSource\n      : props?.options?.length\n      ? props.options\n      : []\n    const placeholder = usePlaceholder()\n    const getSelected = () => {\n      const value = props.value\n      if (props.mode === 'multiple' || props.mode === 'tags') {\n        if (props.labelInValue) {\n          return isArr(value) ? value : []\n        } else {\n          return isArr(value)\n            ? value.map((val) => ({ label: val, value: val }))\n            : []\n        }\n      } else {\n        if (props.labelInValue) {\n          return isValid(value) ? [value] : []\n        } else {\n          return isValid(value) ? [{ label: value, value }] : []\n        }\n      }\n    }\n\n    const getLabel = (target: any) => {\n      const labelKey = props.fieldNames?.label || 'label'\n      return (\n        dataSource?.find((item) => {\n          const valueKey = props.fieldNames?.value || 'value'\n          return item[valueKey] == target?.value\n        })?.[labelKey] ||\n        target.label ||\n        placeholder\n      )\n    }\n\n    const getLabels = () => {\n      const selected = getSelected()\n      if (!selected.length) return placeholder\n      if (selected.length === 1) return getLabel(selected[0])\n      return selected.map((item, key) => {\n        return <Tag key={key}>{getLabel(item)}</Tag>\n      })\n    }\n    return wrapSSR(\n      <div\n        className={cls(prefixCls, hashId, props.className)}\n        style={props.style}\n      >\n        {getLabels()}\n      </div>\n    )\n  }\n)\n\nconst TreeSelect: React.FC<React.PropsWithChildren<TreeSelectProps<any>>> =\n  observer((props) => {\n    const field = useField<Field>()\n    const placeholder = usePlaceholder()\n    const prefixCls = usePrefixCls('form-text', props)\n    const [wrapSSR, hashId] = useStyle(prefixCls)\n    const dataSource = field?.dataSource?.length\n      ? field.dataSource\n      : props?.treeData?.length\n      ? props.treeData\n      : []\n    const getSelected = () => {\n      const value = props.value\n      if (props.multiple) {\n        if (props.labelInValue) {\n          return isArr(value) ? value : []\n        } else {\n          return isArr(value)\n            ? value.map((val) => ({ label: val, value: val }))\n            : []\n        }\n      } else {\n        if (props.labelInValue) {\n          return value ? [value] : []\n        } else {\n          return value ? [{ label: value, value }] : []\n        }\n      }\n    }\n\n    const findLabel = (\n      value: any,\n      dataSource: any[],\n      treeNodeLabelProp?: string\n    ) => {\n      const valueKey = props.fieldNames?.value || 'value'\n      for (let i = 0; i < dataSource?.length; i++) {\n        const item = dataSource[i]\n        if (item?.[valueKey] === value) {\n          return item?.label ?? item[treeNodeLabelProp as string]\n        } else {\n          const childLabel = findLabel(value, item?.children, treeNodeLabelProp)\n          if (childLabel) return childLabel\n        }\n      }\n    }\n\n    const getLabels = () => {\n      const selected = getSelected()\n      if (!selected?.length) return <Tag>{placeholder}</Tag>\n      return selected.map(({ value, label }, key) => {\n        return (\n          <Tag key={key}>\n            {findLabel(value, dataSource, props.treeNodeLabelProp) ||\n              label ||\n              placeholder}\n          </Tag>\n        )\n      })\n    }\n    return wrapSSR(\n      <div\n        className={cls(prefixCls, hashId, props.className)}\n        style={props.style}\n      >\n        {getLabels()}\n      </div>\n    )\n  })\n\nconst Cascader: React.FC<React.PropsWithChildren<CascaderProps<any>>> =\n  observer((props) => {\n    const field = useField<Field>()\n    const placeholder = usePlaceholder()\n    const prefixCls = usePrefixCls('form-text', props)\n    const [wrapSSR, hashId] = useStyle(prefixCls)\n    const dataSource: any[] = field?.dataSource?.length\n      ? field.dataSource\n      : props?.options?.length\n      ? props.options\n      : []\n    const findSelectedItem = (\n      items: DefaultOptionType[],\n      val: string | number\n    ) => {\n      return items.find((item) => item.value == val)\n    }\n    const findSelectedItems = (\n      sources: DefaultOptionType[],\n      selectedValues: Array<string[] | number[]>\n    ): Array<any[]> => {\n      return selectedValues.map((value) => {\n        const result: Array<DefaultOptionType> = []\n        let items = sources\n        value.forEach((val) => {\n          const selectedItem = findSelectedItem(items, val)\n          result.push({\n            label: selectedItem?.label ?? '',\n            value: selectedItem?.value,\n          })\n          items = selectedItem?.children ?? []\n        })\n        return result\n      })\n    }\n    const getSelected = () => {\n      const val = toArr(props.value)\n      // unified conversion to multi selection mode\n      return props.multiple ? val : [val]\n    }\n    const getLabels = () => {\n      const selected = getSelected()\n      const values = findSelectedItems(dataSource, selected)\n      const labels = values\n        .map((val: Array<DefaultOptionType>) => {\n          return val.map((item) => item.label).join('/')\n        })\n        .join(' ')\n      return labels || placeholder\n    }\n    return wrapSSR(\n      <div\n        className={cls(prefixCls, hashId, props.className)}\n        style={props.style}\n      >\n        {getLabels()}\n      </div>\n    )\n  })\n\nconst DatePicker: React.FC<React.PropsWithChildren<DatePickerProps>> = (\n  props\n) => {\n  const placeholder = usePlaceholder()\n  const prefixCls = usePrefixCls('form-text', props)\n  const getLabels = () => {\n    const labels = formatDayjsValue(props.value, props.format, placeholder)\n    return isArr(labels) ? labels.join('~') : labels\n  }\n  return <div className={cls(prefixCls, props.className)}>{getLabels()}</div>\n}\n\nconst DateRangePicker: React.FC<\n  React.PropsWithChildren<DateRangePickerProps>\n> = (props) => {\n  const placeholder = usePlaceholder()\n  const prefixCls = usePrefixCls('form-text', props)\n  const getLabels = () => {\n    const labels = formatDayjsValue(props.value, props.format, placeholder)\n    return isArr(labels) ? labels.join('~') : labels\n  }\n  return (\n    <div className={cls(prefixCls, props.className)} style={props.style}>\n      {getLabels()}\n    </div>\n  )\n}\n\nconst TimePicker: ReactFC<TimePickerProps> = (props) => {\n  const placeholder = usePlaceholder()\n  const prefixCls = usePrefixCls('form-text', props)\n  const getLabels = () => {\n    const labels = formatDayjsValue(props.value, props.format, placeholder)\n    return isArr(labels) ? labels.join('~') : labels\n  }\n  return (\n    <div className={cls(prefixCls, props.className)} style={props.style}>\n      {getLabels()}\n    </div>\n  )\n}\n\nconst TimeRangePicker: React.FC<\n  React.PropsWithChildren<TimeRangePickerProps>\n> = (props) => {\n  const placeholder = usePlaceholder()\n  const prefixCls = usePrefixCls('form-text', props)\n  const getLabels = () => {\n    const labels = formatDayjsValue(props.value, props.format, placeholder)\n    return isArr(labels) ? labels.join('~') : labels\n  }\n  return (\n    <div className={cls(prefixCls, props.className)} style={props.style}>\n      {getLabels()}\n    </div>\n  )\n}\n\nexport interface IPreviewTextProps\n  extends React.HTMLAttributes<HTMLDivElement> {\n  prefixCls?: string\n  value?: any\n}\n\nconst InternalPreviewText: ReactFC<IPreviewTextProps> = observer(\n  (props: React.PropsWithChildren<IPreviewTextProps>) => {\n    const prefixCls = usePrefixCls('form-text', props)\n\n    return (\n      <div className={cls(prefixCls, props.className)} style={props.style}>\n        {usePlaceholder(props.value)}\n      </div>\n    )\n  }\n)\n\nexport const PreviewText = Object.assign(InternalPreviewText, {\n  Input,\n  Select,\n  TreeSelect,\n  Cascader,\n  DatePicker,\n  DateRangePicker,\n  TimePicker,\n  TimeRangePicker,\n  Placeholder,\n  usePlaceholder,\n  NumberPicker,\n})\n\nexport default PreviewText\n"]}