# RiverEdge SaaS 左侧菜单结构设计

## 菜单分组架构

```
┌─────────────────────────────────────────────────────────────┐
│                    RiverEdge SaaS                            │
│                     左侧菜单结构                              │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 【第一组】固定仪表盘                                          │
│ 可见范围：平台级、系统级、应用级 都可见                        │
├─────────────────────────────────────────────────────────────┤
│  📊 仪表盘                                                    │
│     └─ /dashboard                                            │
│        • 平台级：平台整体数据概览                              │
│        • 系统级：系统级数据概览                                │
│        • 应用级：应用级数据概览                                │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 【第二组】应用菜单（插件式加载）                               │
│ 可见范围：根据用户权限和已安装插件动态加载                      │
├─────────────────────────────────────────────────────────────┤
│  📦 应用插件菜单（动态加载）                                   │
│                                                              │
│  ┌─ MES 制造执行系统（示例）                                 │
│  │   ├─ 生产管理                                             │
│  │   │   ├─ 生产计划                                         │
│  │   │   ├─ 工单管理                                         │
│  │   │   └─ 工艺路线                                         │
│  │   ├─ 质量管理                                             │
│  │   │   ├─ 质检单                                           │
│  │   │   └─ 不良品管理                                       │
│  │   └─ 库存管理                                             │
│  │       ├─ 原材料                                           │
│  │       └─ 成品库                                           │
│  │                                                           │
│  ┌─ ERP 企业资源规划（示例）                                 │
│  │   ├─ 采购管理                                             │
│  │   ├─ 销售管理                                             │
│  │   └─ 财务管理                                             │
│  │                                                           │
│  ┌─ CRM 客户关系管理（示例）                                 │
│  │   ├─ 客户管理                                             │
│  │   ├─ 销售机会                                             │
│  │   └─ 合同管理                                             │
│  │                                                           │
│  ┌─ 其他插件...                                             │
│  │   └─ （根据已安装插件动态加载）                            │
│                                                              │
│  特性：                                                      │
│  • 插件式架构，支持动态加载                                  │
│  • 根据用户权限和插件配置显示                                │
│  • 支持插件菜单的排序和分组  
│  • 插件式的菜单 按分组菜单设计 应用的名称作为分组名 不可点击 只显示 插件里的菜单直接显示到左侧菜单  │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 【第三组】系统菜单（准备建设）                                │
│ 可见范围：平台级、系统级、应用级 可见                                 │
├─────────────────────────────────────────────────────────────┤
│  ⚙️  系统配置                                                │
│     ├─ 用户管理                                             │
│     │   ├─ /users                                           │
│     │   │   • 用户列表                                       │
│     │   │   • 用户创建/编辑                                  │
│     │   └─ 用户权限管理                                      │
│     │                                                       │
│     ├─ 角色管理                                             │
│     │   ├─ /roles                                           │
│     │   │   • 角色列表                                       │
│     │   │   • 角色创建/编辑                                  │
│     │   └─ 权限分配                                         │
│     │                                                       │
│     ├─ 权限管理（待开发）                                   │
│     │   ├─ 权限点管理                                        │
│     │   ├─ 菜单权限                                         │
│     │   └─ 数据权限                                         │
│     │                                                       │
│     ├─ 系统配置（待开发）                                   │
│     │   ├─ 基础配置                                         │
│     │   ├─ 参数配置                                         │
│     │   └─ 字典管理                                         │
│     │                                                       │
│     └─ 日志管理（待开发）                                   │
│         ├─ 操作日志                                         │
│         ├─ 登录日志                                         │
│         └─ 系统日志                                         │
│                                                              │
│  注意：                                                      │
│  • 组织管理已移除，移至运营中心（第四组）                      │
│                                                              │
│  规划功能：                                                  │
│  ✅ 用户管理（已基本完成）                                   │
│  ✅ 角色管理（已基本完成）                                   │
│  🔄 权限管理（待开发）                                       │
│  🔄 系统配置（待开发）                                       │
│  🔄 日志管理（待开发）                                       │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 【第四组】运营中心（仅平台级可见）                            │
│ 可见范围：仅平台级管理员可见，已基本建设                      │
├─────────────────────────────────────────────────────────────┤
│  🏢 运营中心                                                 │
│     ├─ 运营看板                                             │
│     │   └─ /operations/dashboard                            │
│     │       • 平台整体运营数据                               │
│     │       • 组织统计                                       │
│     │       • 用户统计                                       │
│     │                                                       │
│     ├─ 组织管理                                             │
│     │   └─ /operations/tenants                             │
│     │       • 所有组织列表                                   │
│     │       • 组织详情                                       │
│     │       • 组织状态管理                                   │
│     │                                                       │
│     ├─ 系统状态                                             │
│     │   └─ /operations/monitoring                          │
│     │       • 系统运行状态                                   │
│     │       • 系统资源使用情况                               │
│     │       • 系统环境信息                                   │
│     │                                                       │
│     └─ 套餐管理                                             │
│         └─ /operations/packages                             │
│             • 套餐列表                                       │
│             • 套餐配置                                       │
│             • 套餐分配                                       │
│                                                              │
│  状态：                                                      │
│  ✅ 运营看板（已基本完成）                                   │
│  ✅ 组织管理（已基本完成）                                   │
│  ✅ 系统状态（已基本完成）                                   │
│  🔄 套餐管理（待完善）                                       │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 权限控制说明                                                  │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  平台级管理员：                                              │
│  • 可见：第一组 + 第二组 + 第三组 + 第四组                    │
│                                                              │
│  系统级管理员：                                              │
│  • 可见：第一组 + 第二组 + 第三组                            │
│                                                              │
│  应用级用户：                                                │
│  • 可见：第一组 + 第二组（根据权限过滤）                      │
│                                                              │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 菜单数据结构设计                                              │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  MenuItem {                                                  │
│    id: string                    // 菜单唯一标识             │
│    name: string                  // 菜单名称                 │
│    path: string                  // 路由路径                 │
│    icon: ReactNode               // 图标                     │
│    group: 'dashboard' |          // 菜单分组                 │
│           'application' |                                    │
│           'system' |                                         │
│           'operations'                                       │
│    visibleLevel: ['platform' |  // 可见级别                 │
│                    'system' |                                │
│                    'application']                            │
│    children?: MenuItem[]        // 子菜单                    │
│    pluginId?: string            // 插件ID（应用菜单）        │
│    order: number                // 排序                     │
│    permissions?: string[]       // 权限点列表                │
│  }                                                            │
│                                                              │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 实现要点                                                      │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  1. 菜单分组：                                               │
│     • 使用分隔线或分组标题区分不同组                          │
│     • 支持折叠/展开功能                                      │
│                                                              │
│  2. 动态加载：                                               │
│     • 应用菜单从插件系统动态加载                              │
│     • 根据用户权限过滤菜单项                                  │
│     • 支持菜单缓存和懒加载                                    │
│                                                              │
│  3. 权限控制：                                               │
│     • 基于用户级别（平台/系统/应用）过滤                      │
│     • 基于权限点（permissions）过滤                          │
│     • 支持菜单项级别的权限控制                                │
│                                                              │
│  4. 扩展性：                                                 │
│     • 插件系统可以注册菜单项                                  │
│     • 支持菜单项的排序和分组                                  │
│     • 支持自定义菜单图标和样式                                │
│                                                              │
└─────────────────────────────────────────────────────────────┘

