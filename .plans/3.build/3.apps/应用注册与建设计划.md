# 快格轻工厂全流程管理系统 - 应用注册与建设计划

## 📋 概述

本文档规划所有业务模块的应用注册和建设计划，按照"小快轻准"设计原则，分阶段逐步建设各模块。

## 🎯 应用注册机制

### 注册方式
- **自动扫描注册**：系统启动时自动扫描 `riveredge-backend/src/apps` 目录下的 `manifest.json` 文件
- **手动注册**：通过API `/system/applications/scan` 手动触发扫描注册
- **注册信息**：从 `manifest.json` 读取应用基本信息、菜单配置、权限等

### manifest.json 格式要求
```json
{
    "name": "应用名称",
    "code": "应用代码",
    "version": "版本号",
    "description": "应用描述",
    "icon": "图标名称",
    "author": "作者",
    "entry_point": "前端入口路径",
    "route_path": "路由路径",
    "menu_config": { ... },
    "permissions": [ ... ],
    "dependencies": { ... },
    "sort_order": 排序号
}
```

## 📦 应用注册清单

### 基础模块（已实现）
- ✅ **system** - 系统管理（框架层已实现）
- ✅ **master-data** - 主数据管理（已实现）

### 核心业务模块（待建设）

#### 第一阶段：MVP核心业务（优先级最高）
1. **kuaicrm** - 快格轻CRM（销售管理）
2. **kuaipdm** - 快格轻PDM（研发管理）
3. **kuaimrp** - 快格轻MRP（物料需求）
4. **kuaisrm** - 快格轻SRM（采购管理）
5. **kuaiscm** - 快格轻SCM（供应链协同）
6. **kuaiwms** - 快格轻WMS（仓库管理）
7. **kuaiaps** - 快格轻APS（排产管理）
8. **kuaimes** - 快格轻MES（制造执行）- 已部分实现
9. **kuaiqms** - 快格轻QMS（质量管理）
10. **kuaieam** - 快格轻EAM（设备管理）
11. **kuaiiot** - 快格轻IOT（数据采集）
12. **kuaimi** - 快格轻MI（制造智能）
13. **kuaiems** - 快格轻EMS（能源管理）
14. **kuailims** - 快格轻LIMS（实验管理）
15. **kuaitms** - 快格轻TMS（运输管理）

#### 第二阶段：核心支撑（必须开发）
16. **kuaiacc** - 快格轻财务（财务管理）
17. **kuaihrm** - 快格轻HRM（人力资源管理）

#### 第三阶段：重要补充（建议开发）
18. **kuaipm** - 快格轻PM（项目管理）
19. **kuaiehs** - 快格轻EHS（环境健康安全管理）
20. **kuaicert** - 快格轻认证（企业认证与评审）

#### 第四阶段：增强功能（可选开发）
21. **kuaiepm** - 快格轻EPM（企业绩效管理）
22. **kuaioa** - 快格轻OA（协同办公）

## 🏗️ 应用建设计划

### 建设原则
1. **数据与业务分离**：数据管理功能在主数据模块，业务模块只负责业务逻辑
2. **模块化开发**：每个模块独立开发，遵循统一的技术规范
3. **渐进式建设**：从MVP开始，逐步完善功能
4. **标准化接口**：统一的API接口规范，便于模块间集成

### 建设步骤（每个模块）

#### 步骤1：应用注册
- 创建应用目录结构
- 创建 `manifest.json` 文件
- 注册应用到系统

#### 步骤2：数据模型设计
- 设计业务数据模型（Models）
- 设计数据验证模式（Schemas）
- 创建数据库迁移文件

#### 步骤3：业务逻辑实现
- 实现业务服务（Services）
- 实现业务规则和流程
- 实现业务异常处理

#### 步骤4：API接口开发
- 实现RESTful API接口
- 实现API路由配置
- 实现API文档生成

#### 步骤5：前端页面开发
- 实现前端页面组件
- 实现前端路由配置
- 实现前端状态管理

#### 步骤6：集成测试
- 单元测试
- 集成测试
- 端到端测试

#### 步骤7：移动端支持
- 移动端页面开发
- 移动端API适配
- 移动端离线支持

## 📅 建设时间规划

### 第一阶段：MVP核心业务（预计6-9个月）
- 每月建设2-3个核心业务模块
- 优先建设：CRM、MRP、SRM、WMS、MES、QMS

### 第二阶段：核心支撑（预计2-3个月）
- 财务、HRM模块建设

### 第三阶段：重要补充（预计3-4个月）
- PM、EHS、认证模块建设

### 第四阶段：增强功能（预计2-3个月）
- EPM、OA模块建设

## 📝 建设文档

每个模块的建设文档包含：
1. **应用注册信息**：manifest.json配置
2. **数据模型设计**：Models和Schemas设计
3. **业务逻辑设计**：Services和业务规则
4. **API接口设计**：RESTful API规范
5. **前端页面设计**：页面组件和路由
6. **集成方案**：与其他模块的集成方案
7. **测试方案**：测试用例和测试计划

## 🔄 后续步骤

1. 为每个模块创建 `manifest.json` 文件
2. 为每个模块创建应用目录结构
3. 为每个模块创建建设计划文档
4. 按照优先级逐步建设各模块

---

**注意**：系统级模块（system）已在框架层实现，无需单独注册和建设。
